import{u as S}from"./DhuOulD_.js";import{g as k,U as T,i as D,_ as x,a as N,p as V,s as z}from"./DGTlwSy2.js";import{G as A,k as P,r as t,ad as G,R as H,y as U,C as l,z as h,B as u,T as o,ab as $,ah as j,D as y,A as F}from"./CoVIVF5Y.js";import{d as O}from"./jUZGiB4g.js";const L={__name:"CommonTransactionsGrid",setup(R){const _=A("currency"),g=P(()=>[{field:"selected",width:"60px",columnMenu:!1},{title:"Date",field:"dateOfPurchase",width:"150px",format:"{0:MM/dd/yyyy}"},{title:"Amount",field:"amount",width:"150px",cell:"amountCell"},{title:"Merchant",field:"merchant",width:"150px"},{title:"Category",field:"category",width:"150px"},{title:"Payment Method",field:"paymentMethod",width:"175px"},{title:"Status",field:"orderStatus",width:"150px",cell:"statusBadge"}]),c=t([]),i=t(7),d=t(0),p=t([]),m=t(null),C=t(!0),f=t("selected"),w=t({buttonCount:6,info:!0,type:"numeric",pageSizes:[7,14],previousNext:!0}),n=t([]),r=t([]),v=async e=>V(e,{group:c.value,take:i.value,skip:d.value,sort:p.value,filter:m.value});G(async()=>{r.value=k,n.value=await v(k)});const b=async e=>{c.value=e.group,i.value=e.take,d.value=e.skip,p.value=e.sort,m.value=e.filter,n.value=await v(r.value)},M=e=>{b(e.data)},B=e=>{e.dataItem&&(e.dataItem[f.value]=!e.dataItem[f.value])},E=e=>{const s=e.event.target.checked;r.value=r.value.map(a=>({...a,selected:s})),n.value.data=n.value.data.map(a=>({...a,selected:s}))},I=()=>{const e=[...g.value];e.splice(0,1),z({data:n.value.data,group:c.value,fileName:"Transactions",columns:e})};return(e,s)=>(U(),H(o(S),{class:"k-p-4 k-gap-4 k-rounded-lg k-gap-3.5"},{default:l(()=>[s[1]||(s[1]=h("div",{class:"k-d-grid k-gap-4"},[h("div",{style:{fontSize:"20px",letterSpacing:"wide",fontWeight:"500"}}," Transactions ")],-1)),u(o(T),{ref:"grid","data-items":n.value,columns:g.value,sortable:!0,sort:p.value,selectable:!0,"selected-field":f.value,take:i.value,skip:d.value,group:c.value,groupable:!0,pageable:w.value,filter:m.value,"column-menu":C.value,onDatastatechange:M,onSelectionchange:B,onHeaderselectionchange:E},{statusBadge:l(({props:a})=>[u(x,{"cell-data":a},{default:l(()=>[u(N,{"data-item":a.dataItem},null,8,["data-item"])]),_:2},1032,["cell-data"])]),amountCell:l(({props:a})=>[u(x,{"cell-data":a},{default:l(()=>[y(F(o(O)(a.dataItem.amount,o(_))),1)]),_:2},1032,["cell-data"])]),default:l(()=>[u(o(D),null,{default:l(()=>[u(o($),{style:{backgroundColor:"#616161"},title:"Export Excel","svg-icon":o(j),onClick:I},{default:l(()=>s[0]||(s[0]=[y(" Export to Excel ")])),_:1,__:[0]},8,["svg-icon"])]),_:1})]),_:1},8,["data-items","columns","sort","selected-field","take","skip","group","pageable","filter","column-menu"])]),_:1,__:[1]}))}};export{L as _};
