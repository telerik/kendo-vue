var R=function(){},hy=function(n){function r(){n.call(this),this._events={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.bind=function(t,e,i){var a=arguments,s=this,l=Vh(t),p=Dh(e),h=l.length;if(e===void 0){for(var c in t)s.bind(c,t[c]);return this}for(var u=function(f){var d=l[f],g=p?e:e[d];if(g){if(i){var y=g;g=function(){s.unbind(d,g),y.apply(s,a)},g.original=y}var m=s._events[d]=s._events[d]||[];m.push(g)}},v=0;v<h;v++)u(v);return this},r.prototype.one=function(t,e){return this.bind(t,e,!0)},r.prototype.first=function(t,e){for(var i=this,a=Vh(t),s=Dh(e),l=0,p=a.length;l<p;l++){var h=a[l],c=s?e:e[h];if(c){var u=i._events[h]=i._events[h]||[];u.unshift(c)}}return this},r.prototype.trigger=function(t,e){var i=this;e===void 0&&(e={});var a=this._events[t];if(a){var s=a.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=cy,e.isDefaultPrevented=uy,a=a.slice();for(var l=0;l<s;l++)a[l].call(i,e);return e._defaultPrevented===!0}return!1},r.prototype.unbind=function(t,e){var i=this._events[t];if(t===void 0)this._events={};else if(i)if(e)for(var a=i.length-1;a>=0;a--)(i[a]===e||i[a].original===e)&&i.splice(a,1);else this._events[t]=[];return this},r}(R);function Dh(n){return typeof n=="function"}function Vh(n){return typeof n=="string"?[n]:n}function cy(){this._defaultPrevented=!0}function uy(){return this._defaultPrevented===!0}var fa=function(n){var r=typeof window<"u"?window:{},o=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};fa=function(t){return o.call(r,t)},fa(n)},vy=/&/g,fy=/</g,dy=/"/g,gy=/'/g,yy=/>/g;function Zr(n){return String(n).replace(vy,"&amp;").replace(fy,"&lt;").replace(yy,"&gt;").replace(dy,"&quot;").replace(gy,"&#39;")}function Ev(n){var r=window.console;typeof r<"u"&&r.log&&r.log(n)}function my(n){var r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i},o={};for(var t in r)if(r.hasOwnProperty(t)){var e=n.match(r[t]);if(e){o[t]=!0,o[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,o.version=parseInt(document.documentMode||e[2],10);break}}return o}var Vn=null,zi={get browser(){return typeof window>"u"||Vn||(Vn=my(window.navigator.userAgent)),Vn}},Ho=Date.now||function(){return new Date().getTime()};function Ka(n,r){var o=0,t;if(!r||r<=0)return n;var e=function(){var i=Ho()-o,a=arguments,s=function(){n.apply(null,a),o=Ho()};if(!o)return s();t&&clearTimeout(t),i>r?s():t=setTimeout(s,r-i)};return e.cancel=function(){clearTimeout(t)},e}var Yl={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},zh=zi.browser,Lv=function(n){var r=Object.keys(Yl);r.push("transparent");var o=new RegExp("^("+r.join("|")+")(\\W|$)","i");return Lv=function(t){return o.exec(t)},o.exec(n)},Qa=function(n){function r(){n.call(this)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toHSV=function(){return this},r.prototype.toRGB=function(){return this},r.prototype.toHex=function(t){return this.toBytes().toHex(t)},r.prototype.toBytes=function(){return this},r.prototype.toCss=function(t){return"#"+this.toHex(t)},r.prototype.toCssRgba=function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},r.prototype.toDisplay=function(){return zh.msie&&zh.version<9?this.toCss():this.toCssRgba()},r.prototype.equals=function(t){return t===this||t!=null&&this.toCssRgba()===Ja(t).toCssRgba()},r.prototype.diff=function(t){if(t===null)return NaN;var e=this.toBytes(),i=t.toBytes();return Math.sqrt(Math.pow((e.r-i.r)*.3,2)+Math.pow((e.g-i.g)*.59,2)+Math.pow((e.b-i.b)*.11,2))},r.prototype.clone=function(){var t=this.toBytes();return t===this&&(t=new Ye(t.r,t.g,t.b,t.a)),t},r}(R),Sr=function(n){function r(o,t,e,i){n.call(this),this.r=o,this.g=t,this.b=e,this.a=i}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toHSV=function(){var t=this,e=t.r,i=t.g,a=t.b,s=Math.min(e,i,a),l=Math.max(e,i,a),p=l-s,h=l,c,u;return p===0?new cl(0,0,h,this.a):(l!==0?(u=p/l,e===l?c=(i-a)/p:i===l?c=2+(a-e)/p:c=4+(e-i)/p,c*=60,c<0&&(c+=360)):(u=0,c=-1),new cl(c,u,h,this.a))},r.prototype.toHSL=function(){var t=this,e=t.r,i=t.g,a=t.b,s=Math.max(e,i,a),l=Math.min(e,i,a),p,h,c=(s+l)/2;if(s===l)p=h=0;else{var u=s-l;switch(h=c>.5?u/(2-s-l):u/(s+l),s){case e:p=(i-a)/u+(i<a?6:0);break;case i:p=(a-e)/u+2;break;case a:p=(e-i)/u+4;break}}return new Iv(p*60,h*100,c*100,this.a)},r.prototype.toBytes=function(){return new Ye(this.r*255,this.g*255,this.b*255,this.a)},r}(Qa),Ye=function(n){function r(o,t,e,i){n.call(this,Math.round(o),Math.round(t),Math.round(e),i)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toRGB=function(){return new n(this.r/255,this.g/255,this.b/255,this.a)},r.prototype.toHSV=function(){return this.toRGB().toHSV()},r.prototype.toHSL=function(){return this.toRGB().toHSL()},r.prototype.toHex=function(t){var e=zn(this.r,2)+zn(this.g,2)+zn(this.b,2);return t&&t.alpha&&(e+=zn(Math.round(this.a*255),2)),e},r.prototype.toBytes=function(){return this},r}(Sr);function zn(n,r,o){o===void 0&&(o="0");for(var t=n.toString(16);r>t.length;)t=o+t;return t}var cl=function(n){function r(o,t,e,i){n.call(this),this.h=o,this.s=t,this.v=e,this.a=i}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toRGB=function(){var t=this,e=t.h,i=t.s,a=t.v,s,l,p;if(i===0)s=l=p=a;else{e/=60;var h=Math.floor(e),c=e-h,u=a*(1-i),v=a*(1-i*c),f=a*(1-i*(1-c));switch(h){case 0:s=a,l=f,p=u;break;case 1:s=v,l=a,p=u;break;case 2:s=u,l=a,p=f;break;case 3:s=u,l=v,p=a;break;case 4:s=f,l=u,p=a;break;default:s=a,l=u,p=v;break}}return new Sr(s,l,p,this.a)},r.prototype.toHSL=function(){return this.toRGB().toHSL()},r.prototype.toBytes=function(){return this.toRGB().toBytes()},r}(Qa),Iv=function(n){function r(o,t,e,i){n.call(this),this.h=o,this.s=t,this.l=e,this.a=i}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toRGB=function(){var t=this.h/360,e=this.s/100,i=this.l/100,a,s,l;if(e===0)a=s=l=i;else{var p=i<.5?i*(1+e):i+e-i*e,h=2*i-p;a=Bs(h,p,t+1/3),s=Bs(h,p,t),l=Bs(h,p,t-1/3)}return new Sr(a,s,l,this.a)},r.prototype.toHSV=function(){return this.toRGB().toHSV()},r.prototype.toBytes=function(){return this.toRGB().toBytes()},r}(Qa);function Bs(n,r,o){var t=o;return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(r-n)*6*t:t<1/2?r:t<2/3?n+(r-n)*(2/3-t)*6:n}function Bh(n){return parseFloat(parseFloat(parseInt(n,16)/255).toFixed(3))}function Ja(n,r){var o,t;if(!n||n==="none")return null;if(n instanceof Qa)return n;var e=n.toLowerCase();if(o=Lv(e))return o[1]==="transparent"?e=new Sr(1,1,1,0):e=Ja(Yl[o[1]],r),e.match=[o[1]],e;if((o=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(e))?t=new Ye(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),1):(o=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(e))?t=new Ye(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16),1):(o=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(e))?t=new Ye(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16),Bh(o[4]+o[4])):(o=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(e))?t=new Ye(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),Bh(o[4])):(o=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))?t=new Ye(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),1):(o=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))?t=new Ye(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4])):(o=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))?t=new Sr(parseFloat(o[1])/100,parseFloat(o[2])/100,parseFloat(o[3])/100,1):(o=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))?t=new Sr(parseFloat(o[1])/100,parseFloat(o[2])/100,parseFloat(o[3])/100,parseFloat(o[4])):(o=/^color\(\s*srgb\s*([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s*(\/\s+([0-9]*\.?[0-9]+))?\)/.exec(e))&&(t=new Sr(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[5]||"1"))),t)t.match=o;else if(!r)throw new Error("Cannot parse color: "+e);return t}var _y=180,ve=function(n){function r(o){var t=this;if(n.call(this),arguments.length===1)for(var e=r.formats,i=this.resolveColor(o),a=0;a<e.length;a++){var s=e[a].re,l=e[a].process,p=s.exec(i);if(p){var h=l(p);t.r=h[0],t.g=h[1],t.b=h[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toHex=function(){var t=this.padDigit,e=this.r.toString(16),i=this.g.toString(16),a=this.b.toString(16);return"#"+t(e)+t(i)+t(a)},r.prototype.resolveColor=function(t){var e=t||"black";return e.charAt(0)==="#"&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=r.namedColors[e]||e,e},r.prototype.normalizeByte=function(t){return t<0||isNaN(t)?0:t>255?255:t},r.prototype.padDigit=function(t){return t.length===1?"0"+t:t},r.prototype.brightness=function(t){var e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this},r.prototype.percBrightness=function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},r.prototype.isDark=function(){return this.percBrightness()<_y},r.fromBytes=function(t,e,i,a){return new Ye(t,e,i,a??1)},r.fromRGB=function(t,e,i,a){return new Sr(t,e,i,a??1)},r.fromHSV=function(t,e,i,a){return new cl(t,e,i,a??1)},r.fromHSL=function(t,e,i,a){return new Iv(t,e,i,a??1)},r}(R);ve.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}}];ve.namedColors=Yl;var me=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.observers=function(){return this._observers=this._observers||[],this._observers},r.prototype.addObserver=function(t){return this._observers?this._observers.push(t):this._observers=[t],this},r.prototype.removeObserver=function(t){var e=this.observers(),i=e.indexOf(t);return i!==-1&&e.splice(i,1),this},r.prototype.trigger=function(t,e){var i=this._observers;if(i&&!this._suspended)for(var a=0;a<i.length;a++){var s=i[a];s[t]&&s[t](e)}return this},r.prototype.optionsChange=function(t){t===void 0&&(t={}),t.element=this,this.trigger("optionsChange",t)},r.prototype.geometryChange=function(){this.trigger("geometryChange",{element:this})},r.prototype.suspend=function(){return this._suspended=(this._suspended||0)+1,this},r.prototype.resume=function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},r.prototype._observerField=function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)},r}(R);function Uo(n,r){return n.push.apply(n,r),n}var xy={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function by(n){for(var r=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],o="";n>0;)n<r[0]?r.shift():(o+=xy[r[0]],n-=r[0]);return o}function da(){var n,r,o=new Promise(function(t,e){n=function(i){return o._state="resolved",t(i),o},r=function(i){return o._state="rejected",e(i),o}});return o._state="pending",o.resolve=n,o.reject=r,o.state=function(){return o._state},o}var wy="undefined";function z(n){return typeof n!==wy}var Ay=1;function Go(){return"kdef"+Ay++}var Zl=Math.PI/180,Oi=Number.MAX_VALUE,Ri=-Number.MAX_VALUE;function Or(n){return n/Zl}var pe=String.fromCharCode,bk="þÿ";function Sy(n){for(var r="",o=0;o<n.length;o++){var t=n.charCodeAt(o);if(55296<=t&&t<=56319){var e=t,i=n.charCodeAt(++o);isNaN(i)||(t=(e-55296)*1024+(i-56320)+65536)}t<128?r+=pe(t):t<2048?(r+=pe(192|t>>>6),r+=pe(128|t&63)):t<65536?(r+=pe(224|t>>>12),r+=pe(128|t>>>6&63),r+=pe(128|t&63)):t<1114111&&(r+=pe(240|t>>>18),r+=pe(128|t>>>12&63),r+=pe(128|t>>>6&63),r+=pe(128|t&63))}return r}function Fs(n){return pe(n>>8)+pe(n&255)}function wk(n){for(var r="",o=0;o<n.length;o++){var t=n.charCodeAt(o);if(t<65535)r+=Fs(t);else{var e=(t-65536>>10)+55296,i=(t-65536&1023)+56320;r+=Fs(e),r+=Fs(i)}}return r}var Bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ky(n){for(var r="",o=0,t=Sy(n);o<t.length;){var e=t.charCodeAt(o++),i=t.charCodeAt(o++),a=t.charCodeAt(o++),s=e>>2,l=(e&3)<<4|i>>4,p=(i&15)<<2|a>>6,h=a&63;isNaN(i)?p=h=64:isNaN(a)&&(h=64),r=r+Bn.charAt(s)+Bn.charAt(l)+Bn.charAt(p)+Bn.charAt(h)}return r}function Dv(n){return z((n.x||{}).location)?{x:n.x.location,y:n.y.location}:{x:n.pageX||n.clientX||0,y:n.pageY||n.clientY||0}}function Vv(n){return n===void 0&&(n={}),n.touch?n.touch.initialTouch:n.target}function oi(n){return n===""||n===null||n==="none"||n==="transparent"||!z(n)}function Rt(n){if(n)return n[n.length-1]}function ga(n,r,o){return Math.max(Math.min(n,o),r)}function Ty(n,r){if(n.length<2)return n.slice();function o(t,e){for(var i=[],a=0,s=0,l=0;a<t.length&&s<e.length;)r(t[a],e[s])<=0?i[l++]=t[a++]:i[l++]=e[s++];return a<t.length&&i.push.apply(i,t.slice(a)),s<e.length&&i.push.apply(i,e.slice(s)),i}return function t(e){if(e.length<=1)return e;var i=Math.floor(e.length/2),a=e.slice(0,i),s=e.slice(i);return a=t(a),s=t(s),o(a,s)}(n)}function zv(n){return Promise.all(n)}function Ie(n){return n*Zl}function Cy(n){return n?Math.pow(10,n):1}function st(n,r){var o=Cy(r);return Math.round(n*o)/o}function ya(n,r){return z(n)?n:r}function Kl(n,r){for(var o in r)for(var t=o.trim().split(" "),e=0;e<t.length;e++)n.addEventListener(t[e],r[o],!1)}function Bv(n){var r=n.getBoundingClientRect(),o=document.documentElement;return{top:r.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)}}function ts(n,r){for(var o={},t=window.getComputedStyle(n)||{},e=Array.isArray(r)?r:[r],i=0;i<e.length;i++){var a=e[i];o[a]=t[a]}return o}function Fh(n){return isNaN(n)?n:n+"px"}function jo(n,r){if(r){var o=r.width,t=r.height;z(o)&&(n.style.width=Fh(o)),z(t)&&(n.style.height=Fh(t))}else{var e=ts(n,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}}function Ql(n,r){r===void 0&&(r={});for(var o in r)for(var t=o.trim().split(" "),e=0;e<t.length;e++)n.removeEventListener(t[e],r[o],!1)}function Fv(n){var r=ts(n,["paddingLeft","paddingTop"]),o=r.paddingLeft,t=r.paddingTop;return{top:parseFloat(t),left:parseFloat(o)}}var zt=function(n){function r(o,t,e,i,a,s){o===void 0&&(o=0),t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=0),n.call(this),this.a=o,this.b=t,this.c=e,this.d=i,this.e=a,this.f=s}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.multiplyCopy=function(t){return new r(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},r.prototype.invert=function(){var t=this,e=t.a,i=t.b,a=t.c,s=t.d,l=t.e,p=t.f,h=e*s-i*a;return h===0?null:new r(s/h,-i/h,-a/h,e/h,(a*p-s*l)/h,(i*l-e*p)/h)},r.prototype.clone=function(){return new r(this.a,this.b,this.c,this.d,this.e,this.f)},r.prototype.equals=function(t){return t?this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f:!1},r.prototype.round=function(t){return this.a=st(this.a,t),this.b=st(this.b,t),this.c=st(this.c,t),this.d=st(this.d,t),this.e=st(this.e,t),this.f=st(this.f,t),this},r.prototype.toArray=function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(z(t))for(var i=0;i<e.length;i++)e[i]=st(e[i],t);return e},r.prototype.toString=function(t,e){return e===void 0&&(e=","),this.toArray(t).join(e)},r.translate=function(t,e){return new r(1,0,0,1,t,e)},r.unit=function(){return new r(1,0,0,1,0,0)},r.rotate=function(t,e,i){var a=new r;return a.a=Math.cos(Ie(t)),a.b=Math.sin(Ie(t)),a.c=-a.b,a.d=a.a,a.e=e-e*a.a+i*a.b||0,a.f=i-i*a.a-e*a.b||0,a},r.scale=function(t,e){return new r(t,0,0,e,0,0)},r}(R);zt.IDENTITY=zt.unit();var Py=/matrix\((.*)\)/;function My(n){var r=n.match(Py);if(r===null||r.length!==2)return zt.unit();var o=r[1].split(",").map(function(t){return parseFloat(t)});return new(Function.prototype.bind.apply(zt,[null].concat(o)))}function jh(n){var r=getComputedStyle(n).transform;return r==="none"?zt.unit():My(r)}function jv(n){if(!n)return zt.unit();for(var r=jh(n),o=n.parentElement;o;){var t=jh(o);r=r.multiplyCopy(t),o=o.parentElement}return r.b=r.c=r.e=r.f=0,r}var Nv=function(n){function r(o){n.call(this),this._size=o,this._length=0,this._map={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.put=function(t,e){var i=this._map,a={key:t,value:e};i[t]=a,this._head?(this._tail.newer=a,a.older=this._tail,this._tail=a):this._head=this._tail=a,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},r.prototype.get=function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value},r}(R),Oy=/\r?\n|\r|\t/g,Ry=" ";function Jl(n){return String(n).replace(Oy,Ry)}function $v(n){var r=[];for(var o in n)r.push(o+n[o]);return r.sort().join("")}function Hv(n){for(var r=2166136261,o=0;o<n.length;++o)r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24),r^=n.charCodeAt(o);return r>>>0}function Nh(){return{width:0,height:0,baseline:0}}var Ey={baselineMarkerSize:1},le;typeof document<"u"&&(le=document.createElement("div"),le.style.setProperty("position","absolute","important"),le.style.setProperty("top","-4000px","important"),le.style.setProperty("width","auto","important"),le.style.setProperty("height","auto","important"),le.style.setProperty("padding","0","important"),le.style.setProperty("margin","0","important"),le.style.setProperty("border","0","important"),le.style.setProperty("line-height","normal","important"),le.style.setProperty("visibility","hidden","important"),le.style.setProperty("white-space","pre","important"));var ma=function(n){function r(o){n.call(this),this._cache=new Nv(1e3),this.options=Object.assign({},Ey,o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.measure=function(t,e,i){if(i===void 0&&(i={}),typeof t>"u"||t===null)return Nh();var a=$v(e),s=Hv(t+a),l=this._cache.get(s);if(l)return l;var p=Nh(),h=i.box||le,c=this._baselineMarker().cloneNode(!1);for(var u in e){var v=e[u];typeof v<"u"&&(h.style[u]=v)}var f=i.normalizeText!==!1?Jl(t):String(t);return h.textContent=f,h.appendChild(c),document.body.appendChild(h),f.length&&(p.width=h.offsetWidth-this.options.baselineMarkerSize,p.height=h.offsetHeight,p.baseline=c.offsetTop+this.options.baselineMarkerSize),p.width>0&&p.height>0&&this._cache.put(s,p),h.parentNode.removeChild(h),p},r.prototype._baselineMarker=function(){var t=document.createElement("div");return t.style.display="inline-block",t.style.verticalAlign="baseline",t.style.width=this.options.baselineMarkerSize+"px",t.style.height=this.options.baselineMarkerSize+"px",t.style.overflow="hidden",t},r}(R);ma.current=new ma;function es(n,r,o){return ma.current.measure(n,r,o)}const Ly=Object.freeze(Object.defineProperty({__proto__:null,DEG_TO_RAD:Zl,LRUCache:Nv,MAX_NUM:Oi,MIN_NUM:Ri,TextMetrics:ma,append:Uo,arabicToRoman:by,bindEvents:Kl,createPromise:da,defined:z,definitionId:Go,deg:Or,elementOffset:Bv,elementPadding:Fv,elementScale:jv,elementSize:jo,elementStyles:ts,encodeBase64:ky,eventCoordinates:Dv,eventElement:Vv,hashKey:Hv,isTransparent:oi,last:Rt,limitValue:ga,measureText:es,mergeSort:Ty,normalizeText:Jl,now:Ho,objectKey:$v,promiseAll:zv,rad:Ie,round:st,unbindEvents:Ql,valueOrDefault:ya},Symbol.toStringTag,{value:"Module"}));var Iy={}.toString,Uv=function(n){function r(o,t){var e=this;t===void 0&&(t=""),n.call(this),this.prefix=t;for(var i in o){var a=o[i];a=e._wrap(a,i),e[i]=a}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.get=function(t){for(var e=t.split("."),i=this;e.length&&i;){var a=e.shift();i=i[a]}return i},r.prototype.set=function(t,e){var i=this.get(t);i!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},r.prototype._set=function(t,e){var i=this,a=t.indexOf(".")>=0,s=this,l=t;if(a){for(var p=l.split("."),h=this.prefix;p.length>1;){l=p.shift(),h+=l+".";var c=s[l];c||(c=new r({},h),c.addObserver(i),s[l]=c),s=c}l=p[0]}s._clear(l),s[l]=e},r.prototype._clear=function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},r.prototype._wrap=function(t,e){var i=Iy.call(t),a=t;return a!==null&&z(a)&&i==="[object Object]"&&(!(t instanceof r)&&!(t instanceof R)&&(a=new r(a,this.prefix+e+".")),a.addObserver(this)),a},r}(me);function Dy(n){return function(r){return this[n]!==r&&(this[n]=r,this.geometryChange()),this}}function Vy(n){return function(){return this[n]}}function zy(n,r){for(var o=0;o<r.length;o++){var t=r[o],e=t.charAt(0).toUpperCase()+t.substring(1,t.length);n["set"+e]=Dy(t),n["get"+e]=Vy(t)}}var rs=function(n,r){var o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n);return zy(o.prototype,r),o};function ni(n){return n&&typeof n.matrix=="function"?n.matrix():n}var T=function(n){function r(t,e){n.call(this),this.x=t||0,this.y=e||0}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={ZERO:{configurable:!0}};return r.prototype.equals=function(e){return e&&e.x===this.x&&e.y===this.y},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.rotate=function(e,i){var a=r.create(i)||r.ZERO;return this.transform(zt.rotate(e,a.x,a.y))},r.prototype.translate=function(e,i){return this.x+=e,this.y+=i,this.geometryChange(),this},r.prototype.translateWith=function(e){return this.translate(e.x,e.y)},r.prototype.move=function(e,i){return this.x=this.y=0,this.translate(e,i)},r.prototype.scale=function(e,i){return i===void 0&&(i=e),this.x*=e,this.y*=i,this.geometryChange(),this},r.prototype.scaleCopy=function(e,i){return this.clone().scale(e,i)},r.prototype.transform=function(e){var i=ni(e),a=this,s=a.x,l=a.y;return this.x=i.a*s+i.c*l+i.e,this.y=i.b*s+i.d*l+i.f,this.geometryChange(),this},r.prototype.transformCopy=function(e){var i=this.clone();return e&&i.transform(e),i},r.prototype.distanceTo=function(e){var i=this.x-e.x,a=this.y-e.y;return Math.sqrt(i*i+a*a)},r.prototype.round=function(e){return this.x=st(this.x,e),this.y=st(this.y,e),this.geometryChange(),this},r.prototype.toArray=function(e){var i=z(e),a=i?st(this.x,e):this.x,s=i?st(this.y,e):this.y;return[a,s]},r.prototype.toString=function(e,i){i===void 0&&(i=" ");var a=this,s=a.x,l=a.y;return z(e)&&(s=st(s,e),l=st(l,e)),s+i+l},r.create=function(e,i){if(z(e))return e instanceof r?e:arguments.length===1&&e.length===2?new r(e[0],e[1]):new r(e,i)},r.min=function(){for(var e=arguments,i=Oi,a=Oi,s=0;s<arguments.length;s++){var l=e[s];i=Math.min(l.x,i),a=Math.min(l.y,a)}return new r(i,a)},r.max=function(){for(var e=arguments,i=Ri,a=Ri,s=0;s<arguments.length;s++){var l=e[s];i=Math.max(l.x,i),a=Math.max(l.y,a)}return new r(i,a)},r.minPoint=function(){return new r(Ri,Ri)},r.maxPoint=function(){return new r(Oi,Oi)},o.ZERO.get=function(){return new r(0,0)},Object.defineProperties(r,o),r}(rs(me,["x","y"])),er=function(n){function r(t,e){n.call(this),this.width=t||0,this.height=e||0}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={ZERO:{configurable:!0}};return r.prototype.equals=function(e){return e&&e.width===this.width&&e.height===this.height},r.prototype.clone=function(){return new r(this.width,this.height)},r.prototype.toArray=function(e){var i=z(e),a=i?st(this.width,e):this.width,s=i?st(this.height,e):this.height;return[a,s]},r.create=function(e,i){if(z(e))return e instanceof r?e:arguments.length===1&&e.length===2?new r(e[0],e[1]):new r(e,i)},o.ZERO.get=function(){return new r(0,0)},Object.defineProperties(r,o),r}(rs(me,["width","height"])),X=function(n){function r(o,t,e){o===void 0&&(o=new T),t===void 0&&(t=new er),e===void 0&&(e=0),n.call(this),this.setOrigin(o),this.setSize(t),this.setCornerRadius(e)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.origin.clone(),this.size.clone())},r.prototype.equals=function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},r.prototype.setOrigin=function(t){return this._observerField("origin",T.create(t)),this.geometryChange(),this},r.prototype.getOrigin=function(){return this.origin},r.prototype.setCornerRadius=function(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this},r.prototype.getCornerRadius=function(){return this.cornerRadius},r.prototype.setSize=function(t){return this._observerField("size",er.create(t)),this.geometryChange(),this},r.prototype.getSize=function(){return this.size},r.prototype.width=function(){return this.size.width},r.prototype.height=function(){return this.size.height},r.prototype.topLeft=function(){return this.origin.clone()},r.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},r.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},r.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},r.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},r.prototype.bbox=function(t){var e=this.topLeft().transformCopy(t),i=this.topRight().transformCopy(t),a=this.bottomRight().transformCopy(t),s=this.bottomLeft().transformCopy(t);return r.fromPoints(e,i,a,s)},r.prototype.transformCopy=function(t){return r.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},r.prototype.expand=function(t,e){return e===void 0&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},r.prototype.expandCopy=function(t,e){return this.clone().expand(t,e)},r.prototype.containsPoint=function(t){var e=this.origin,i=this.bottomRight();return!(t.x<e.x||t.y<e.y||i.x<t.x||i.y<t.y)},r.prototype._isOnPath=function(t,e){var i=this.expandCopy(e,e),a=this.expandCopy(-e,-e);return i.containsPoint(t)&&!a.containsPoint(t)},r.fromPoints=function(){var t=T.min.apply(null,arguments),e=T.max.apply(null,arguments),i=new er(e.x-t.x,e.y-t.y);return new r(t,i)},r.union=function(t,e){return r.fromPoints(T.min(t.topLeft(),e.topLeft()),T.max(t.bottomRight(),e.bottomRight()))},r.intersect=function(t,e){var i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},a={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(i.left<=a.right&&a.left<=i.right&&i.top<=a.bottom&&a.top<=i.bottom)return r.fromPoints(new T(Math.max(i.left,a.left),Math.max(i.top,a.top)),new T(Math.min(i.right,a.right),Math.min(i.bottom,a.bottom)))},r}(me),$h=function(n){function r(o){o===void 0&&(o=zt.unit()),n.call(this),this._matrix=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this._matrix.clone())},r.prototype.equals=function(t){return t&&t._matrix.equals(this._matrix)},r.prototype.translate=function(t,e){return this._matrix=this._matrix.multiplyCopy(zt.translate(t,e)),this._optionsChange(),this},r.prototype.scale=function(t,e,i){e===void 0&&(e=t),i===void 0&&(i=null);var a=i;return a&&(a=T.create(a),this._matrix=this._matrix.multiplyCopy(zt.translate(a.x,a.y))),this._matrix=this._matrix.multiplyCopy(zt.scale(t,e)),a&&(this._matrix=this._matrix.multiplyCopy(zt.translate(-a.x,-a.y))),this._optionsChange(),this},r.prototype.rotate=function(t,e){var i=T.create(e)||T.ZERO;return this._matrix=this._matrix.multiplyCopy(zt.rotate(t,i.x,i.y)),this._optionsChange(),this},r.prototype.multiply=function(t){var e=ni(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},r.prototype.matrix=function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},r.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},r}(me);function at(n){return n===null?null:n instanceof $h?n:new $h(n)}var Gv={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},_a="solid",Wv="butt",Qi="Pattern",or=function(n){function r(t){n.call(this),this._initOptions(t)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Rect"},r.prototype._initOptions=function(e){e===void 0&&(e={});var i=e.clip,a=e.transform;a&&(e.transform=at(a)),i&&!i.id&&(i.id=Go()),this.options=new Uv(e),this.options.addObserver(this)},r.prototype.transform=function(e){if(z(e))this.options.set("transform",at(e));else return this.options.get("transform")},r.prototype.parentTransform=function(){for(var e=this,i;e.parent;){e=e.parent;var a=e.transform();a&&(i=a.matrix().multiplyCopy(i||zt.unit()))}if(i)return at(i)},r.prototype.currentTransform=function(e){e===void 0&&(e=this.parentTransform());var i=this.transform(),a=ni(i),s=ni(e),l;if(a&&s?l=s.multiplyCopy(a):l=a||s,l)return at(l)},r.prototype.visible=function(e){return z(e)?(this.options.set("visible",e),this):this.options.get("visible")!==!1},r.prototype.clip=function(e){var i=this.options;return z(e)?(e&&!e.id&&(e.id=Go()),i.set("clip",e),this):i.get("clip")},r.prototype.opacity=function(e){return z(e)?(this.options.set("opacity",e),this):ya(this.options.get("opacity"),1)},r.prototype.className=function(e){return z(e)?(this.options.set("className",e),this):this.options.get("className")},r.prototype.clippedBBox=function(e){var i=this._clippedBBox(e);if(i){var a=this.clip();return a?X.intersect(i,a.bbox(e)):i}},r.prototype.containsPoint=function(e,i){if(this.visible()){var a=this.currentTransform(i),s=e;return a&&(s=e.transformCopy(a.matrix().invert())),this._hasFill()&&this._containsPoint(s)||this._isOnPath&&this._hasStroke()&&this._isOnPath(s)}return!1},r.prototype._hasFill=function(){var e=this.options.fill;return e&&(e.nodeType===Qi||!oi(e.color))},r.prototype._hasStroke=function(){var e=this.options.stroke;return e&&e.width>0&&!oi(e.color)},r.prototype._clippedBBox=function(e){return this.bbox(e)},Object.defineProperties(r.prototype,o),r}(me);function Xv(n,r,o,t){var e=0,i=0;return t&&(e=Math.atan2(t.c*o,t.a*r),t.b!==0&&(i=Math.atan2(t.d*o,t.b*r))),{x:e,y:i}}var Hh=Math.PI/2,Bt=function(n){function r(o,t){o===void 0&&(o=new T),t===void 0&&(t=0),n.call(this),this.setCenter(o),this.setRadius(t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setCenter=function(t){return this._observerField("center",T.create(t)),this.geometryChange(),this},r.prototype.getCenter=function(){return this.center},r.prototype.equals=function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},r.prototype.clone=function(){return new r(this.center.clone(),this.radius)},r.prototype.pointAt=function(t){return this._pointAt(Ie(t))},r.prototype.bbox=function(t){for(var e=this,i=Xv(this.center,this.radius,this.radius,t),a=T.maxPoint(),s=T.minPoint(),l=0;l<4;l++){var p=e._pointAt(i.x+l*Hh).transformCopy(t),h=e._pointAt(i.y+l*Hh).transformCopy(t),c=new T(p.x,h.y);a=T.min(a,c),s=T.max(s,c)}return X.fromPoints(a,s)},r.prototype._pointAt=function(t){var e=this,i=e.center,a=e.radius;return new T(i.x+a*Math.cos(t),i.y+a*Math.sin(t))},r.prototype.containsPoint=function(t){var e=this,i=e.center,a=e.radius,s=Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)<=Math.pow(a,2);return s},r.prototype._isOnPath=function(t,e){var i=this,a=i.center,s=i.radius,l=a.distanceTo(t);return s-e<=l&&l<=s+e},r}(rs(me,["radius"])),By="Gradient",Ji=function(n){return function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.fill=function(e,i){var a=this.options;if(z(e)){if(e&&e.nodeType!==By){var s={color:e};z(i)&&(s.opacity=i),a.set("fill",s)}else a.set("fill",e);return this}return a.get("fill")},o.prototype.stroke=function(e,i,a){return z(e)?(this.options.set("stroke.color",e),z(i)&&this.options.set("stroke.width",i),z(a)&&this.options.set("stroke.opacity",a),this):this.options.get("stroke")},o}(n)},Fy=zt.IDENTITY.toString(),an=function(n){return function(r){function o(){r.apply(this,arguments)}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.bbox=function(e){var i=ni(this.currentTransform(e)),a=i?i.toString():Fy,s;this._bboxCache&&this._matrixHash===a?s=this._bboxCache.clone():(s=this._bbox(i),this._bboxCache=s?s.clone():null,this._matrixHash=a);var l=this.options.get("stroke.width");return l&&s&&s.expand(l/2),s},o.prototype.geometryChange=function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})},o}(n)};function jy(n){var r="_"+n;return function(o){return z(o)?(this._observerField(r,o),this.geometryChange(),this):this[r]}}function Ny(n,r){for(var o=0;o<r.length;o++)n[r[o]]=jy(r[o])}var is=function(n,r){r===void 0&&(r=["geometry"]);var o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n);return Ny(o.prototype,r),o},$y="#000",re=function(n){function r(t,e){t===void 0&&(t=new Bt),e===void 0&&(e={}),n.call(this,e),this.geometry(t),z(this.options.stroke)||this.stroke($y)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Circle"},r.prototype.rawBBox=function(){return this._geometry.bbox()},r.prototype._bbox=function(e){return this._geometry.bbox(e)},r.prototype._containsPoint=function(e){return this.geometry().containsPoint(e)},r.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(r.prototype,o),r}(Ji(an(is(or)))),rr=10;function qv(n,r,o){return o===void 0&&(o=rr),st(Math.abs(n-r),o)===0}function js(n,r,o){return n<r||qv(n,r,o)}function Hy(n,r,o,t){var e=r.x-n.x,i=t.x-o.x,a=r.y-n.y,s=t.y-o.y,l=n.x-o.x,p=n.y-o.y,h=e*s-i*a,c=(e*p-a*l)/h,u=(i*p-s*l)/h;if(c>=0&&c<=1&&u>=0&&u<=1)return new T(n.x+u*e,n.y+u*a)}var Uy=45,Fn=Math.pow,Gy=["radiusX","radiusY","startAngle","endAngle","anticlockwise"],Rr=function(n){function r(o,t){o===void 0&&(o=new T),t===void 0&&(t={}),n.call(this),this.setCenter(o),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},r.prototype.setCenter=function(t){return this._observerField("center",T.create(t)),this.geometryChange(),this},r.prototype.getCenter=function(){return this.center},r.prototype.pointAt=function(t){var e=this.center,i=Ie(t);return new T(e.x+this.radiusX*Math.cos(i),e.y+this.radiusY*Math.sin(i))},r.prototype.curvePoints=function(){var t=this,e=this.startAngle,i=this.anticlockwise?-1:1,a=[this.pointAt(e)],s=this._arcInterval(),l=s.endAngle-s.startAngle,p=Math.ceil(l/Uy),h=l/p,c=e,u;this.xRotation&&(u=at().rotate(this.xRotation,this.center));for(var v=1;v<=p;v++){var f=c+i*h,d=t._intervalCurvePoints(c,f,u);a.push(d.cp1,d.cp2,d.p2),c=f}return a},r.prototype.bbox=function(t){for(var e=this,i=this._arcInterval(),a=i.startAngle,s=i.endAngle,l=Xv(this.center,this.radiusX,this.radiusY,t),p=Or(l.x),h=Or(l.y),c=this.pointAt(s).transformCopy(t),u=Gh(p,a),v=Gh(h,a),f=this.pointAt(a).transformCopy(t),d=T.min(f,c),g=T.max(f,c);u<s||v<s;){var y=void 0;u<s&&(y=e.pointAt(u).transformCopy(t),u+=90);var m=void 0;v<s&&(m=e.pointAt(v).transformCopy(t),v+=90),f=new T(y.x,m.y),d=T.min(d,f),g=T.max(g,f)}return X.fromPoints(d,g)},r.prototype._arcInterval=function(){var t=this,e=t.startAngle,i=t.endAngle,a=t.anticlockwise;if(a){var s=e;e=i,i=s}return(e>i||a&&e===i)&&(i+=360),{startAngle:e,endAngle:i}},r.prototype._intervalCurvePoints=function(t,e,i){var a=this.pointAt(t),s=this.pointAt(e),l=this._derivativeAt(t),p=this._derivativeAt(e),h=(Ie(e)-Ie(t))/3,c=new T(a.x+h*l.x,a.y+h*l.y),u=new T(s.x-h*p.x,s.y-h*p.y);return i&&(a.transform(i),s.transform(i),c.transform(i),u.transform(i)),{p1:a,cp1:c,cp2:u,p2:s}},r.prototype._derivativeAt=function(t){var e=Ie(t);return new T(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},r.prototype.containsPoint=function(t){var e=this._arcInterval(),i=e.endAngle-e.startAngle,a=this,s=a.center,l=a.radiusX,p=a.radiusY,h=s.distanceTo(t),c=Math.atan2(t.y-s.y,t.x-s.x),u=l*p/Math.sqrt(Fn(l,2)*Fn(Math.sin(c),2)+Fn(p,2)*Fn(Math.cos(c),2)),v=this.pointAt(this.startAngle).round(rr),f=this.pointAt(this.endAngle).round(rr),d=Hy(s,t.round(rr),v,f),g;if(i<180)g=d&&js(s.distanceTo(d),h)&&js(h,u);else{var y=Uh(s.x,s.y,l,p,t.x,t.y);y!==360&&(y=(360+y)%360);var m=e.startAngle<=y&&y<=e.endAngle;g=m&&js(h,u)||!m&&(!d||d.equals(t))}return g},r.prototype._isOnPath=function(t,e){var i=this._arcInterval(),a=this.center,s=Uh(a.x,a.y,this.radiusX,this.radiusY,t.x,t.y);s!==360&&(s=(360+s)%360);var l=i.startAngle<=s&&s<=i.endAngle;return l&&this.pointAt(s).distanceTo(t)<=e},r.fromPoints=function(t,e,i,a,s,l,p){var h=Wy({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:i,ry:a,largeArc:s,swipe:l,rotation:p});return new r(h.center,{startAngle:h.startAngle,endAngle:h.endAngle,radiusX:h.radiusX,radiusY:h.radiusY,xRotation:h.xRotation,anticlockwise:l===0})},r}(rs(me,Gy));function Uh(n,r,o,t,e,i){var a=st((e-n)/o,3),s=st((i-r)/t,3);return st(Or(Math.atan2(s,a)))}function Wy(n){var r=n.x1,o=n.y1,t=n.x2,e=n.y2,i=n.rx,a=n.ry,s=n.largeArc,l=n.swipe,p=n.rotation;p===void 0&&(p=0);var h=Ie(p),c=Math.cos(h),u=Math.sin(h),v=c*(r-t)/2+u*(o-e)/2,f=-u*(r-t)/2+c*(o-e)/2,d=s!==l?1:-1,g=Math.pow(v,2),y=Math.pow(f,2),m=Math.pow(i,2),x=Math.pow(a,2),b=g/m+y/x;b>1&&(b=Math.sqrt(g/m+y/x),i=b*i,m=Math.pow(i,2),a=b*a,x=Math.pow(a,2));var A=d*Math.sqrt((m*x-m*y-x*g)/(m*y+x*g));isNaN(A)&&(A=0);var k=A*(i*f)/a,C=-A*(a*v)/i,I=c*k-u*C+(r+t)/2,$=u*k+c*C+(o+e)/2,B=(v-k)/i,D=(f-C)/a,K=-(v+k)/i,pt=-(f+C)/a,gt=(D>=0?1:-1)*Or(Math.acos(B/Math.sqrt(B*B+D*D))),ht=st((B*K+D*pt)/(Math.sqrt(B*B+D*D)*Math.sqrt(K*K+pt*pt)),10),St=(B*pt-D*K>=0?1:-1)*Or(Math.acos(ht));!l&&St>0&&(St-=360),l&&St<0&&(St+=360);var se=gt+St,mr=se>=0?1:-1;return se=Math.abs(se)%360*mr,{center:new T(I,$),startAngle:gt,endAngle:se,radiusX:i,radiusY:a,xRotation:p}}function Gh(n,r){for(var o=n;o<r;)o+=90;return o}var Xy=[].push,qy=[].pop,Yy=[].splice,Zy=[].shift,Wh=[].slice,Ky=[].unshift,Yv=function(n){function r(o){o===void 0&&(o=[]),n.call(this),this.length=0,this._splice(0,o.length,o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.elements=function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},r.prototype.push=function(){var t=arguments,e=Xy.apply(this,t);return this._add(t),e},r.prototype.slice=function(){return Wh.call(this)},r.prototype.pop=function(){var t=this.length,e=qy.apply(this);return t&&this._remove([e]),e},r.prototype.splice=function(t,e){var i=Wh.call(arguments,2),a=this._splice(t,e,i);return this._change(),a},r.prototype.shift=function(){var t=this.length,e=Zy.apply(this);return t&&this._remove([e]),e},r.prototype.unshift=function(){var t=arguments,e=Ky.apply(this,t);return this._add(t),e},r.prototype.indexOf=function(t){for(var e=this,i=this.length,a=0;a<i;a++)if(e[a]===t)return a;return-1},r.prototype._splice=function(t,e,i){var a=Yy.apply(this,[t,e].concat(i));return this._clearObserver(a),this._setObserver(i),a},r.prototype._add=function(t){this._setObserver(t),this._change()},r.prototype._remove=function(t){this._clearObserver(t),this._change()},r.prototype._setObserver=function(t){for(var e=this,i=0;i<t.length;i++)t[i].addObserver(e)},r.prototype._clearObserver=function(t){for(var e=this,i=0;i<t.length;i++)t[i].removeObserver(e)},r.prototype._change=function(){},r}(me),Zv=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._change=function(){this.geometryChange()},r}(Yv);function Xh(n,r,o){var t=Or(Math.atan2(r.y-n.y,r.x-n.x)),e=o.transformCopy(at().rotate(-t,n));return e.x<n.x}function xa(n,r,o){var t=1-n;return Math.pow(t,3)*o[0][r]+3*Math.pow(t,2)*n*o[1][r]+3*Math.pow(n,2)*t*o[2][r]+Math.pow(n,3)*o[3][r]}function Kv(n,r){return[-n[0][r]+3*n[1][r]-3*n[2][r]+n[3][r],3*(n[0][r]-2*n[1][r]+n[2][r]),3*(-n[0][r]+n[1][r]),n[0][r]]}var ko=function(n){function r(o,t){o===void 0&&(o=0),t===void 0&&(t=0),n.call(this),this.real=o,this.img=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.add=function(t){return new r(st(this.real+t.real,rr),st(this.img+t.img,rr))},r.prototype.addConstant=function(t){return new r(this.real+t,this.img)},r.prototype.negate=function(){return new r(-this.real,-this.img)},r.prototype.multiply=function(t){return new r(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},r.prototype.multiplyConstant=function(t){return new r(this.real*t,this.img*t)},r.prototype.nthRoot=function(t){var e=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),a=Math.pow(i,1/t);return new r(a*Math.cos(e/t),a*Math.sin(e/t))},r.prototype.equals=function(t){return this.real===t.real&&this.img===t.img},r.prototype.isReal=function(){return this.img===0},r}(R);function qh(n){return n<0?-1:1}function Qy(n,r,o){var t=Math.sqrt(Math.pow(r,2)-4*n*o);return[(-r+t)/(2*n),(-r-t)/(2*n)]}function Qv(n,r,o,t){if(n===0)return Qy(r,o,t);var e=(3*n*o-Math.pow(r,2))/(3*Math.pow(n,2)),i=(2*Math.pow(r,3)-9*n*r*o+27*Math.pow(n,2)*t)/(27*Math.pow(n,3)),a=Math.pow(e/3,3)+Math.pow(i/2,2),s=new ko(0,1),l=-r/(3*n),p,h,c,u,v,f,d;a<0?(p=new ko(-i/2,Math.sqrt(-a)).nthRoot(3),h=new ko(-i/2,-Math.sqrt(-a)).nthRoot(3)):(p=-i/2+Math.sqrt(a),p=new ko(qh(p)*Math.pow(Math.abs(p),1/3)),h=-i/2-Math.sqrt(a),h=new ko(qh(h)*Math.pow(Math.abs(h),1/3))),c=p.add(h),f=p.add(h).multiplyConstant(-1/2),d=p.add(h.negate()).multiplyConstant(Math.sqrt(3)/2),u=f.add(s.multiply(d)),v=f.add(s.negate().multiply(d));var g=[];return c.isReal()&&g.push(st(c.real+l,rr)),u.isReal()&&g.push(st(u.real+l,rr)),v.isReal()&&g.push(st(v.real+l,rr)),g}function jn(n,r,o,t,e){for(var i=Kv(n,t),a=Qv(i[0],i[1],i[2],i[3]-r[t]),s,l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(s=xa(a[l],o,n),Math.abs(s-r[o])<=e))return!0}function Jy(n,r,o){for(var t=Kv(n,"x"),e=Qv(t[0],t[1],t[2],t[3]-r.x),i,a,s=0,l=0;l<e.length;l++)i=xa(e[l],"y",n),a=qv(i,r.y)||i>r.y,a&&((e[l]===0||e[l]===1)&&o.bottomRight().x>r.x||0<e[l]&&e[l]<1)&&s++;return s}function Jv(n,r,o){var t;if(n.x!==r.x){var e=Math.min(n.x,r.x),i=Math.max(n.x,r.x),a=Math.min(n.y,r.y),s=Math.max(n.y,r.y),l=e<=o.x&&o.x<i;a===s?t=o.y<=a&&l:t=l&&(s-a)*((n.x-r.x)*(n.y-r.y)>0?o.x-e:i-o.x)/(i-e)+a-o.y>=0}return t?1:0}function tm(n){var r="_"+n;return function(o){return z(o)?(this._observerField(r,T.create(o)),this.geometryChange(),this):this[r]}}function em(n,r){for(var o=0;o<r.length;o++)n[r[o]]=tm(r[o])}var os=function(n,r){var o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n);return em(o.prototype,r),o},rm=["anchor","controlIn","controlOut"],It=function(n){function r(o,t,e){n.call(this),this.anchor(o||new T),this.controlIn(t),this.controlOut(e)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.bboxTo=function(t,e){var i=this.anchor().transformCopy(e),a=t.anchor().transformCopy(e),s;return this.controlOut()&&t.controlIn()?s=this._curveBoundingBox(i,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),a):s=this._lineBoundingBox(i,a),s},r.prototype._lineBoundingBox=function(t,e){return X.fromPoints(t,e)},r.prototype._curveBoundingBox=function(t,e,i,a){var s=[t,e,i,a],l=this._curveExtremesFor(s,"x"),p=this._curveExtremesFor(s,"y"),h=Yh([l.min,l.max,t.x,a.x]),c=Yh([p.min,p.max,t.y,a.y]);return X.fromPoints(new T(h.min,c.min),new T(h.max,c.max))},r.prototype._curveExtremesFor=function(t,e){var i=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:xa(i.min,e,t),max:xa(i.max,e,t)}},r.prototype._curveExtremes=function(t,e,i,a){var s=t-3*e+3*i-a,l=-2*(t-2*e+i),p=t-e,h=Math.sqrt(l*l-4*s*p),c=0,u=1;s===0?l!==0&&(c=u=-p/l):isNaN(h)||(c=(-l+h)/(2*s),u=(-l-h)/(2*s));var v=Math.max(Math.min(c,u),0);(v<0||v>1)&&(v=0);var f=Math.min(Math.max(c,u),1);return(f>1||f<0)&&(f=1),{min:v,max:f}},r.prototype._intersectionsTo=function(t,e){var i;return this.controlOut()&&t.controlIn()?i=Jy([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):i=Jv(this.anchor(),t.anchor(),e),i},r.prototype._isOnCurveTo=function(t,e,i,a){var s=this.bboxTo(t).expand(i,i);if(s.containsPoint(e)){var l=this.anchor(),p=this.controlOut(),h=t.controlIn(),c=t.anchor();if(a==="start"&&l.distanceTo(e)<=i)return!Xh(l,p,e);if(a==="end"&&c.distanceTo(e)<=i)return!Xh(c,h,e);var u=[l,p,h,c];if(jn(u,e,"x","y",i)||jn(u,e,"y","x",i))return!0;var v=at().rotate(45,e),f=[l.transformCopy(v),p.transformCopy(v),h.transformCopy(v),c.transformCopy(v)];return jn(f,e,"x","y",i)||jn(f,e,"y","x",i)}},r.prototype._isOnLineTo=function(t,e,i){var a=this.anchor(),s=t.anchor(),l=Or(Math.atan2(s.y-a.y,s.x-a.x)),p=new X([a.x,a.y-i/2],[a.distanceTo(s),i]);return p.containsPoint(e.transformCopy(at().rotate(-l,a)))},r.prototype._isOnPathTo=function(t,e,i,a){var s;return this.controlOut()&&t.controlIn()?s=this._isOnCurveTo(t,e,i/2,a):s=this._isOnLineTo(t,e,i),s},r}(os(me,rm));function Yh(n){for(var r=n.length,o=Oi,t=Ri,e=0;e<r;e++)t=Math.max(t,n[e]),o=Math.min(o,n[e]);return{min:o,max:t}}var tf=.333,im=.01,he="x",ce="y";function om(n,r){var o=n.slice(0),t=[],e=o.length;if(e>2&&(Zh(0,o),e=o.length),e<2||e===2&&o[0].equals(o[1]))return t;var i=o[0],a=o[1],s=o[2];for(t.push(new It(i));i.equals(o[e-1]);)r=!0,o.pop(),e--;if(e===2){var l=No(i,a,he,ce);return Rt(t).controlOut(ul(l,i,a,he,ce)),t.push(new It(a,vl(l,i,a,he,ce))),t}var p,h;if(r){i=o[e-1],a=o[0],s=o[1];var c=Ns(i,a,s);p=c[1],h=c[0]}else{var u=No(i,a,he,ce);p=ul(u,i,a,he,ce)}for(var v=p,f=0;f<=e-3;f++)if(Zh(f,o),e=o.length,f+3<=e){i=o[f],a=o[f+1],s=o[f+2];var d=Ns(i,a,s);Rt(t).controlOut(v),v=d[1];var g=d[0];t.push(new It(a,g))}if(r){i=o[e-2],a=o[e-1],s=o[0];var y=Ns(i,a,s);Rt(t).controlOut(v),t.push(new It(a,y[0])),Rt(t).controlOut(y[1]),t.push(new It(s,h))}else{var m=No(a,s,he,ce);Rt(t).controlOut(v),t.push(new It(s,vl(m,a,s,he,ce)))}return t}function Zh(n,r){for(;r[n+1]&&(r[n].equals(r[n+1])||r[n+1].equals(r[n+2]));)r.splice(n+1,1)}function nm(n,r,o){var t=!1;if(n.x===r.x)t=!0;else if(r.x===o.x)(r.y<o.y&&n.y<=r.y||o.y<r.y&&r.y<=n.y)&&(t=!0);else{var e=ef(n,r),i=of(e,o.x);!(n.y<=r.y&&o.y<=i)&&!(r.y<=n.y&&o.y>=i)&&(t=!0)}return t}function am(n,r,o){var t=ef(n,r),e=of(t,o.x);return n.x===r.x&&r.x===o.x||st(e,1)===st(o.y,1)}function ef(n,r){var o=(r.y-n.y)/(r.x-n.x),t=n.y-o*n.x;return[t,o]}function Ns(n,r,o){var t=he,e=ce,i=!1,a=!1,s;if(am(n,r,o))s=No(n,r,he,ce);else{var l={x:Qh(n,r,o,he),y:Qh(n,r,o,ce)};if(l.x&&l.y)s=No(n,o,he,ce),i=!0;else if(nm(n,r,o)&&(t=ce,e=he),l[t])s=0;else{var p;o[e]<n[e]&&n[e]<=r[e]||n[e]<o[e]&&r[e]<=n[e]?p=Jh((o[e]-n[e])*(r[t]-n[t])):p=-Jh((o[t]-n[t])*(r[e]-n[e])),s=im*p,a=!0}}var h=vl(s,n,r,t,e);if(a){var c=t;t=e,e=c}var u=ul(s,r,o,t,e);return i&&(Kh(n,r,h,s),Kh(r,o,u,s)),[h,u]}function Kh(n,r,o,t){n.y<r.y?r.y<o.y?(o.x=n.x+(r.y-n.y)/t,o.y=r.y):o.y<n.y&&(o.x=r.x-(r.y-n.y)/t,o.y=n.y):o.y<r.y?(o.x=n.x-(n.y-r.y)/t,o.y=r.y):n.y<o.y&&(o.x=r.x+(n.y-r.y)/t,o.y=n.y)}function No(n,r,o,t){var e=r[o]-n[o],i=r[t]-n[t],a;return e===0?a=0:a=i/e,a}function Qh(n,r,o,t){return o[t]>r[t]&&r[t]>n[t]||o[t]<r[t]&&r[t]<n[t]}function ul(n,r,o,t,e){var i=r[t],a=o[t],s=(a-i)*tf;return rf(i+s,r[e]+s*n,t,e)}function vl(n,r,o,t,e){var i=r[t],a=o[t],s=(a-i)*tf;return rf(a-s,o[e]-s*n,t,e)}function rf(n,r,o,t){var e=new T;return e[o]=n,e[t]=r,e}function of(n,r){for(var o=n.length,t=0,e=0;e<o;e++)t+=Math.pow(r,e)*n[e];return t}function Jh(n){return n<=0?-1:1}var tc={l:function(n,r){for(var o=r.parameters,t=r.position,e=0;e<o.length;e+=2){var i=new T(o[e],o[e+1]);r.isRelative&&i.translateWith(t),n.lineTo(i.x,i.y),t.x=i.x,t.y=i.y}},c:function(n,r){for(var o=r.parameters,t=r.position,e=0;e<o.length;e+=6){var i=new T(o[e],o[e+1]),a=new T(o[e+2],o[e+3]),s=new T(o[e+4],o[e+5]);r.isRelative&&(a.translateWith(t),i.translateWith(t),s.translateWith(t)),n.curveTo(i,a,s),t.x=s.x,t.y=s.y}},v:function(n,r){var o=r.isRelative?0:r.position.x;ec(r.parameters,!0,o),this.l(n,r)},h:function(n,r){var o=r.isRelative?0:r.position.y;ec(r.parameters,!1,o),this.l(n,r)},a:function(n,r){for(var o=r.parameters,t=r.position,e=0;e<o.length;e+=7){var i=o[e],a=o[e+1],s=o[e+2],l=o[e+3],p=o[e+4],h=new T(o[e+5],o[e+6]);r.isRelative&&h.translateWith(t),(t.x!==h.x||t.y!==h.y)&&(n.arcTo(h,i,a,l,p,s),t.x=h.x,t.y=h.y)}},s:function(n,r){var o=r.parameters,t=r.position,e=r.previousCommand,i;(e==="s"||e==="c")&&(i=Rt(Rt(n.paths).segments).controlIn());for(var a=0;a<o.length;a+=4){var s=new T(o[a],o[a+1]),l=new T(o[a+2],o[a+3]),p=void 0;r.isRelative&&(s.translateWith(t),l.translateWith(t)),i?p=rc(i,t):p=t.clone(),i=s,n.curveTo(p,s,l),t.x=l.x,t.y=l.y}},q:function(n,r){for(var o=r.parameters,t=r.position,e=0;e<o.length;e+=4){var i=new T(o[e],o[e+1]),a=new T(o[e+2],o[e+3]);r.isRelative&&(i.translateWith(t),a.translateWith(t));var s=oc(t,i,a);n.curveTo(s.controlOut,s.controlIn,a),t.x=a.x,t.y=a.y}},t:function(n,r){var o=r.parameters,t=r.position,e=r.previousCommand,i;if(e==="q"||e==="t"){var a=Rt(Rt(n.paths).segments);i=a.controlIn().clone().translateWith(t.scaleCopy(-1/3)).scale(3/2)}for(var s=0;s<o.length;s+=2){var l=new T(o[s],o[s+1]);r.isRelative&&l.translateWith(t),i?i=rc(i,t):i=t.clone();var p=oc(t,i,l);n.curveTo(p.controlOut,p.controlIn,l),t.x=l.x,t.y=l.y}}};function ec(n,r,o){for(var t=r?0:1,e=0;e<n.length;e+=2)n.splice(e+t,0,o)}function rc(n,r){if(n&&r)return r.scaleCopy(2).translate(-n.x,-n.y)}var ic=1/3;function oc(n,r,o){var t=r.clone().scale(.6666666666666666);return{controlOut:t.clone().translateWith(n.scaleCopy(ic)),controlIn:t.translateWith(o.scaleCopy(ic))}}var sm=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,lm=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,nc="m",pm="z";function hm(n){var r=[];return n.replace(lm,function(o,t){r.push(parseFloat(t))}),r}function cm(n,r){var o=new T,t;return r.replace(sm,function(e,i,a,s){var l=i.toLowerCase(),p=l===i,h=hm(a.trim());if(l===nc&&(p?(o.x+=h[0],o.y+=h[1]):(o.x=h[0],o.y=h[1]),n.moveTo(o.x,o.y),h.length>2&&(l="l",h.splice(0,2))),tc[l])tc[l](n,{parameters:h,position:o,isRelative:p,previousCommand:t}),s&&s.toLowerCase()===pm&&n.close();else if(l!==nc)throw new Error("Error while parsing SVG path. Unsupported command: "+l);t=l}),n}function ba(n,r,o){for(var t,e=0;e<n.length;e++){var i=n[e];if(i.visible()){var a=r?i.bbox(o):i.rawBBox();a&&(t?t=X.union(t,a):t=a)}}return t}function nf(n,r){for(var o,t=0;t<n.length;t++){var e=n[t];if(e.visible()){var i=e.clippedBBox(r);i&&(o?o=X.union(o,i):o=i)}}return o}var wa=" ",um=function(n){return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return r.map(function(t){return t.toString(n)}).join(wa)}},vm=function(n,r){return n.controlOut()&&r.controlIn()?"C":"L"},O=function(n){function r(t){n.call(this,t),this.segments=new Zv,this.segments.addObserver(this),z(this.options.stroke)||(this.stroke("#000"),z(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Path"},r.prototype.moveTo=function(e,i){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,i),this},r.prototype.lineTo=function(e,i){var a=z(i)?new T(e,i):e,s=new It(a);return this.segments.push(s),this},r.prototype.curveTo=function(e,i,a){if(this.segments.length>0){var s=Rt(this.segments),l=new It(a,i);this.suspend(),s.controlOut(e),this.resume(),this.segments.push(l)}return this},r.prototype.arc=function(e,i,a,s,l){if(this.segments.length>0){var p=Rt(this.segments),h=p.anchor(),c=Ie(e),u=new T(h.x-a*Math.cos(c),h.y-s*Math.sin(c)),v=new Rr(u,{startAngle:e,endAngle:i,radiusX:a,radiusY:s,anticlockwise:l});this._addArcSegments(v)}return this},r.prototype.arcTo=function(e,i,a,s,l,p){if(this.segments.length>0){var h=Rt(this.segments),c=h.anchor(),u=Rr.fromPoints(c,T.create(e),i,a,s,l,p);this._addArcSegments(u)}return this},r.prototype._addArcSegments=function(e){var i=this;this.suspend();for(var a=e.curvePoints(),s=1;s<a.length;s+=3)i.curveTo(a[s],a[s+1],a[s+2]);this.resume(),this.geometryChange()},r.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},r.prototype.rawBBox=function(){return this._bbox()},r.prototype.toString=function(e){var i="",a=this.segments,s=a.length;if(s>0){for(var l=[],p=um(e),h,c=1;c<s;c++){var u=vm(a[c-1],a[c]);u!==h&&(h=u,l.push(u)),u==="L"?l.push(p(a[c].anchor())):l.push(p(a[c-1].controlOut(),a[c].controlIn(),a[c].anchor()))}i="M"+p(a[0].anchor())+wa+l.join(wa),this.options.closed&&(i+="Z")}return i},r.prototype._containsPoint=function(e){for(var i=this.segments,a=i.length,s=0,l,p,h=1;h<a;h++)l=i[h-1],p=i[h],s+=l._intersectionsTo(p,e);return(this.options.closed||!i[0].anchor().equals(i[a-1].anchor()))&&(s+=Jv(i[0].anchor(),i[a-1].anchor(),e)),s%2!==0},r.prototype._isOnPath=function(e,i){var a=this.segments,s=a.length,l=i||this.options.stroke.width;if(s>1){if(a[0]._isOnPathTo(a[1],e,l,"start"))return!0;for(var p=2;p<=s-2;p++)if(a[p-1]._isOnPathTo(a[p],e,l))return!0;if(a[s-2]._isOnPathTo(a[s-1],e,l,"end"))return!0}return!1},r.prototype._bbox=function(e){var i=this.segments,a=i.length,s;if(a===1){var l=i[0].anchor().transformCopy(e);s=new X(l,er.ZERO)}else if(a>0)for(var p=1;p<a;p++){var h=i[p-1].bboxTo(i[p],e);s?s=X.union(s,h):s=h}return s},r.parse=function(e,i){return Be.parse(e,i)},r.fromRect=function(e,i){var a=new r(i),s=e.cornerRadius,l=s[0],p=s[1];if(l===0&&p===0)a.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{var h=e.origin,c=h.x,u=h.y,v=e.width(),f=e.height();l=ga(l,0,v/2),p=ga(p,0,f/2),a.moveTo(c+l,u).lineTo(c+v-l,u).arcTo([c+v,u+p],l,p,!1).lineTo(c+v,u+f-p).arcTo([c+v-l,u+f],l,p,!1).lineTo(c+l,u+f).arcTo([c,u+f-p],l,p,!1).lineTo(c,u+p).arcTo([c+l,u],l,p,!1)}return a},r.fromPoints=function(e,i){if(e){for(var a=new r(i),s=0;s<e.length;s++){var l=T.create(e[s]);l&&(s===0?a.moveTo(l):a.lineTo(l))}return a}},r.curveFromPoints=function(e,i){if(e){var a=om(e),s=new r(i);return s.segments.push.apply(s.segments,a),s}},r.fromArc=function(e,i){var a=new r(i),s=e.startAngle,l=e.pointAt(s);return a.moveTo(l.x,l.y),a.arc(s,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),a},Object.defineProperties(r.prototype,o),r}(Ji(an(or))),Be=function(n){function r(t){n.call(this,t),this.paths=new Zv,this.paths.addObserver(this),z(this.options.stroke)||this.stroke("#000")}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return r.parse=function(e,i){var a=new r(i);return cm(a,e)},r.prototype.toString=function(e){var i=this.paths,a="";if(i.length>0){for(var s=[],l=0;l<i.length;l++)s.push(i[l].toString(e));a=s.join(wa)}return a},o.nodeType.get=function(){return"MultiPath"},r.prototype.moveTo=function(e,i){var a=new O;return a.moveTo(e,i),this.paths.push(a),this},r.prototype.lineTo=function(e,i){return this.paths.length>0&&Rt(this.paths).lineTo(e,i),this},r.prototype.curveTo=function(e,i,a){return this.paths.length>0&&Rt(this.paths).curveTo(e,i,a),this},r.prototype.arc=function(e,i,a,s,l){return this.paths.length>0&&Rt(this.paths).arc(e,i,a,s,l),this},r.prototype.arcTo=function(e,i,a,s,l,p){return this.paths.length>0&&Rt(this.paths).arcTo(e,i,a,s,l,p),this},r.prototype.close=function(){return this.paths.length>0&&Rt(this.paths).close(),this},r.prototype._bbox=function(e){return ba(this.paths,!0,e)},r.prototype.rawBBox=function(){return ba(this.paths,!1)},r.prototype._containsPoint=function(e){for(var i=this.paths,a=0;a<i.length;a++)if(i[a]._containsPoint(e))return!0;return!1},r.prototype._isOnPath=function(e){for(var i=this.paths,a=this.options.stroke.width,s=0;s<i.length;s++)if(i[s]._isOnPath(e,a))return!0;return!1},r.prototype._clippedBBox=function(e){return nf(this.paths,this.currentTransform(e))},Object.defineProperties(r.prototype,o),r}(Ji(an(or))),fm="#000",dm=function(n){function r(t,e){t===void 0&&(t=new Rr),e===void 0&&(e={}),n.call(this,e),this.geometry(t),z(this.options.stroke)||this.stroke(fm)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Arc"},r.prototype._bbox=function(e){return this._geometry.bbox(e)},r.prototype.rawBBox=function(){return this.geometry().bbox()},r.prototype.toPath=function(){var e=new O,i=this.geometry().curvePoints();if(i.length>0){e.moveTo(i[0].x,i[0].y);for(var a=1;a<i.length;a+=3)e.curveTo(i[a],i[a+1],i[a+2])}return e},r.prototype._containsPoint=function(e){return this.geometry().containsPoint(e)},r.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(r.prototype,o),r}(Ji(an(is(or)))),gm="12px sans-serif",ym="#000",af=function(n){function r(t,e,i){e===void 0&&(e=new T),i===void 0&&(i={}),n.call(this,i),this.content(t),this.position(e),this.options.font||(this.options.font=gm),z(this.options.fill)||this.fill(ym)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Text"},r.prototype.content=function(e){return z(e)?(this.options.set("content",e),this):this.options.get("content")},r.prototype.measure=function(){var e=es(this.content(),{font:this.options.get("font")});return e},r.prototype.rect=function(){var e=this.measure(),i=this.position().clone();return new X(i,[e.width,e.height])},r.prototype.bbox=function(e){var i=ni(this.currentTransform(e));return this.rect().bbox(i)},r.prototype.rawBBox=function(){return this.rect().bbox()},r.prototype._containsPoint=function(e){return this.rect().containsPoint(e)},Object.defineProperties(r.prototype,o),r}(Ji(os(or,["position"]))),mm=function(n){function r(t,e,i){e===void 0&&(e=new X),i===void 0&&(i={}),n.call(this,i),this.src(t),this.rect(e)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Image"},r.prototype.src=function(e){return z(e)?(this.options.set("src",e),this):this.options.get("src")},r.prototype.bbox=function(e){var i=ni(this.currentTransform(e));return this._rect.bbox(i)},r.prototype.rawBBox=function(){return this._rect.bbox()},r.prototype._containsPoint=function(e){return this._rect.containsPoint(e)},r.prototype._hasFill=function(){return this.src()},Object.defineProperties(r.prototype,o),r}(is(or,["rect"])),tp=function(n,r){return function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.traverse=function(i){for(var a=this[r],s=0;s<a.length;s++){var l=a[s];l.traverse?l.traverse(i):i(l)}return this},t}(n)},Q=function(n){function r(t){n.call(this,t),this.children=[]}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Group"},r.prototype.childrenChange=function(e,i,a){this.trigger("childrenChange",{action:e,items:i,index:a})},r.prototype.append=function(){return Uo(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},r.prototype.insert=function(e,i){return this.children.splice(e,0,i),i.parent=this,this.childrenChange("add",[i],e),this},r.prototype.insertAt=function(e,i){return this.insert(i,e)},r.prototype.remove=function(e){var i=this.children.indexOf(e);return i>=0&&(this.children.splice(i,1),e.parent=null,this.childrenChange("remove",[e],i)),this},r.prototype.removeAt=function(e){if(0<=e&&e<this.children.length){var i=this.children[e];this.children.splice(e,1),i.parent=null,this.childrenChange("remove",[i],e)}return this},r.prototype.clear=function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this},r.prototype.bbox=function(e){return ba(this.children,!0,this.currentTransform(e))},r.prototype.rawBBox=function(){return ba(this.children,!1)},r.prototype._clippedBBox=function(e){return nf(this.children,this.currentTransform(e))},r.prototype.currentTransform=function(e){return or.prototype.currentTransform.call(this,e)||null},r.prototype.containsPoint=function(e,i){if(this.visible()){for(var a=this.children,s=this.currentTransform(i),l=0;l<a.length;l++)if(a[l].containsPoint(e,s))return!0}return!1},r.prototype._reparent=function(e,i){for(var a=this,s=0;s<e.length;s++){var l=e[s],p=l.parent;p&&p!==a&&p.remove&&p.remove(l),l.parent=i}},Object.defineProperties(r.prototype,o),r}(tp(or,"children"));function _m(n,r,o){var t=o.transform()||at(),e=t.matrix();e.e+=n.x-r.origin.x,e.f+=n.y-r.origin.y,t.matrix(e),o.transform(t)}function Nn(n,r,o,t,e){var i;return o==="start"?i=r.origin[t]:o==="end"?i=r.origin[t]+r.size[e]-n:i=r.origin[t]+(r.size[e]-n)/2,i}function xm(n,r,o,t,e){var i;return o==="start"?i=r.origin[t]+r.size[e]-n:o==="end"?i=r.origin[t]:i=r.origin[t]+(r.size[e]-n)/2,i}var bm={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},wm=function(n,r){n.forEach(r)},Am=function(n,r){for(var o=n.length,t=o-1;t>=0;t--)r(n[t],t)},Sm=function(n){function r(o,t){n.call(this,Object.assign({},bm,t)),this._rect=o,this._fieldMap={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.rect=function(t){return t?(this._rect=t,this):this._rect},r.prototype._initMap=function(){var t=this.options,e=this._fieldMap;t.orientation==="horizontal"?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=Am,this.justifyAlign=xm):(this.forEach=wm,this.justifyAlign=Nn)},r.prototype.reflow=function(){var t=this;if(!(!this._rect||this.children.length===0)){this._initMap(),this.options.transform&&this.transform(null);for(var e=this.options,i=this._rect,a=this._initGroups(),s=a.groups,l=a.groupsSize,p=this._fieldMap,h=p.sizeField,c=p.groupsSizeField,u=p.groupAxis,v=p.groupsAxis,f=new T,d=new T,g=new er,y=Nn(l,i,e.alignContent,v,c),m,x,b,A=function(K,pt){var gt=x.elements[pt];d[u]=m,d[v]=Nn(K.size[c],b,e.alignItems,v,c),_m(d,K,gt),m+=K.size[h]+e.spacing},k=0;k<s.length;k++)x=s[k],f[u]=m=t.justifyAlign(x.size,i,e.justifyContent,u,h),f[v]=y,g[h]=x.size,g[c]=x.lineSize,b=new X(f,g),t.forEach(x.bboxes,A),y+=x.lineSize+e.lineSpacing;if(!e.wrap&&x.size>i.size[h]){var C=i.size[h]/b.size[h],I=b.topLeft().scale(C,C),$=b.size[c]*C,B=Nn($,i,e.alignContent,v,c),D=at();u==="x"?D.translate(i.origin.x-I.x,B-I.y):D.translate(B-I.x,i.origin.y-I.y),D.scale(C,C),this.transform(D)}}},r.prototype._initGroups=function(){for(var t=this,e=this,i=e.options,a=e.children,s=i.lineSpacing,l=i.wrap,p=i.spacing,h=this._fieldMap.sizeField,c=this._newGroup(),u=[],v=function(){u.push(c),f+=c.lineSize+s},f=-s,d=0;d<a.length;d++){var g=a[d],y=a[d].clippedBBox();g.visible()&&y&&(l&&c.size+y.size[h]+p>t._rect.size[h]?c.bboxes.length===0?(t._addToGroup(c,y,g),v(),c=t._newGroup()):(v(),c=t._newGroup(),t._addToGroup(c,y,g)):t._addToGroup(c,y,g))}return c.bboxes.length&&v(),{groups:u,groupsSize:f}},r.prototype._addToGroup=function(t,e,i){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(i)},r.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},r}(Q),sf=function(n){function r(t,e){t===void 0&&(t=new X),e===void 0&&(e={}),n.call(this,e),this.geometry(t),z(this.options.stroke)||this.stroke("#000")}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Rect"},r.prototype._bbox=function(e){return this._geometry.bbox(e)},r.prototype.rawBBox=function(){return this._geometry.bbox()},r.prototype._containsPoint=function(e){return this._geometry.containsPoint(e)},r.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(r.prototype,o),r}(Ji(an(is(or)))),km=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._change=function(){this.optionsChange({field:"stops"})},r}(Yv);function Tm(n){return function(r){return z(r)?(this.options.set(n,r),this):this.options.get(n)}}function Cm(n,r){for(var o=0;o<r.length;o++)n[r[o]]=Tm(r[o])}var Pm=function(n,r){var o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n);return Cm(o.prototype,r),o},Mm=["offset","color","opacity"],ac=function(n){function r(o,t,e){n.call(this),this.options=new Uv({offset:o,color:t,opacity:z(e)?e:1}),this.options.addObserver(this)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.create=function(t){if(z(t)){var e;return t instanceof r?e=t:t.length>1?e=new r(t[0],t[1],t[2]):e=new r(t.offset,t.color,t.opacity),e}},r}(Pm(me,Mm)),lf=function(n){function r(t){t===void 0&&(t={}),n.call(this),this.stops=new km(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=Go()}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return"Gradient"},r.prototype.userSpace=function(e){return z(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace},r.prototype._createStops=function(e){e===void 0&&(e=[]);for(var i=[],a=0;a<e.length;a++)i.push(ac.create(e[a]));return i},r.prototype.addStop=function(e,i,a){this.stops.push(new ac(e,i,a))},r.prototype.removeStop=function(e){var i=this.stops.indexOf(e);i>=0&&this.stops.splice(i,1)},r.prototype.optionsChange=function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},r.prototype.geometryChange=function(){this.optionsChange()},Object.defineProperties(r.prototype,o),r}(me),Om=["start","end"],ep=function(n){function r(o){o===void 0&&(o={}),n.call(this,o),this.start(o.start||new T),this.end(o.end||new T(1,0))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(os(lf,Om)),rp=function(n){function r(o){o===void 0&&(o={}),n.call(this,o),this.center(o.center||new T),this._radius=z(o.radius)?o.radius:1,this._fallbackFill=o.fallbackFill}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.radius=function(t){return z(t)?(this._radius=t,this.geometryChange(),this):this._radius},r.prototype.fallbackFill=function(t){return z(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill},r}(os(lf,["center"])),sn="#aba4a6",Bi={width:2,gap:18},sc={radius:10,gap:10},lc={size:18,gap:2},ln=function(n){function r(t){n.call(this);var e=t.width,i=t.height;this._size=er.create([e,i]),this.id=Go()}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={nodeType:{configurable:!0}};return o.nodeType.get=function(){return Qi},r.prototype.size=function(e){return e?(this._size=er.create(e),this):this._size},Object.defineProperties(r.prototype,o),r}(Q),pn=function(n,r,o){r&&n.append(new sf(new X([0,0],o),{fill:{color:r},stroke:null}))};function Rm(n){n===void 0&&(n={});var r=n.gap;r===void 0&&(r=sc.gap);var o=n.radius;o===void 0&&(o=sc.radius);var t=n.color;t===void 0&&(t=sn);var e=n.background,i={fill:{color:t},stroke:null},a=4*o+2*r,s=3*o+1.5*r,l=[a/2,o+1/2*r],p=[0,s],h=[a,s],c=new ln({width:a,height:a});return pn(c,e,[a,a]),c.append(new re(new Bt(l,o),i),new re(new Bt(p,o),i),new re(new Bt(h,o),i)),c}function Em(n){n===void 0&&(n={});var r=n.gap;r===void 0&&(r=Bi.gap);var o=n.width;o===void 0&&(o=Bi.width);var t=n.color;t===void 0&&(t=sn);var e=n.background,i=o+r,a={fill:null,stroke:{color:t,width:o/2}},s=new ln({width:i,height:i});pn(s,e,[i,i]);var l=o/4,p=i-o/4,h=new O(a);h.moveTo(l,0).lineTo(l,i);var c=new O(a);return c.moveTo(p,0).lineTo(p,i),s.append(h,c),s}function Lm(n){n===void 0&&(n={});var r=n.gap;r===void 0&&(r=Bi.gap);var o=n.width;o===void 0&&(o=Bi.width);var t=n.color;t===void 0&&(t=sn);var e=n.background,i=Math.sqrt(2)*(o+r),a={fill:null,stroke:{color:t,width:o}},s=new ln({width:i,height:i});pn(s,e,[i,i]);var l=new O(a);l.moveTo(0,0).lineTo(i,i);var p=new O(a);return p.moveTo(i,0).lineTo(0,i),s.append(l,p),s}function Im(n){n===void 0&&(n={});var r=n.gap;r===void 0&&(r=Bi.gap);var o=n.width;o===void 0&&(o=Bi.width);var t=n.color;t===void 0&&(t=sn);var e=n.background,i=Math.sqrt(2)*(o+r),a={fill:null,stroke:{color:t,width:o,lineCap:"square"}},s=new ln({width:i,height:i});pn(s,e,[i,i]);var l=new O(a);l.moveTo(0,i/2).lineTo(i/2,0);var p=new O(a);return p.moveTo(i/2,i).lineTo(i,i/2),s.append(l,p),s}function Dm(n){n===void 0&&(n={});var r=n.gap;r===void 0&&(r=lc.gap);var o=n.size;o===void 0&&(o=lc.size);var t=n.color;t===void 0&&(t=sn);var e=n.background,i=o+r,a=r/2,s={fill:{color:t},stroke:null},l=new ln({width:i,height:i});pn(l,e,[i,i]);var p=new sf(new X([a,a],[o,o]),s);return l.append(p),l}function Vm(n){return .5-Math.cos(n*Math.PI)/2}function zm(n){return n}function Bm(n,r,o,t){var e=1.70158,i=0,a=t;return n===0?o:n===1?o+t:(i||(i=.5),a<Math.abs(t)?(a=t,e=i/4):e=i/(2*Math.PI)*Math.asin(t/a),a*Math.pow(2,-10*n)*Math.sin((Number(n)-e)*(1.1*Math.PI)/i)+t+o)}const Fm=Object.freeze(Object.defineProperty({__proto__:null,easeOutElastic:Bm,linear:zm,swing:Vm},Symbol.toStringTag,{value:"Module"}));var $s,Ue=function(n){function r(){n.call(this),this._items=[]}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={current:{configurable:!0}};return o.current.get=function(){return $s||($s=new r),$s},r.prototype.register=function(e,i){this._items.push({name:e,type:i})},r.prototype.create=function(e,i){var a=this._items,s;if(i&&i.type){for(var l=i.type.toLowerCase(),p=0;p<a.length;p++)if(a[p].name.toLowerCase()===l){s=a[p];break}}if(s)return new s.type(e,i)},Object.defineProperties(r,o),r}(R),_e=function(n){function r(t,e){n.call(this),this.options=Object.assign({},this.options,e),this.element=t}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={options:{configurable:!0}};return r.create=function(e,i,a){return Ue.current.create(e,i,a)},o.options.get=function(){return this._options||{duration:500,easing:"swing"}},o.options.set=function(t){this._options=t},r.prototype.setup=function(){},r.prototype.step=function(){},r.prototype.play=function(){var e=this,i=this.options,a=i.duration,s=i.delay;s===void 0&&(s=0);var l=Fm[i.easing],p=Ho()+s,h=p+a;a===0?(this.step(1),this.abort()):setTimeout(function(){var c=function(){if(!e._stopped){var u=Ho(),v=ga(u-p,0,a),f=v/a,d=l(f,v,0,1,a);e.step(d),u<h?fa(c):e.abort()}};c()},s)},r.prototype.abort=function(){this._stopped=!0},r.prototype.destroy=function(){this.abort()},Object.defineProperties(r.prototype,o),r}(R),ns=function(n){function r(o){n.call(this),this.childNodes=[],this.parent=null,o&&(this.srcElement=o,this.observe())}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){var t=this;this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,i=0;i<e.length;i++)t.childNodes[i].destroy();this.parent=null},r.prototype.load=function(){},r.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},r.prototype.append=function(t){this.childNodes.push(t),t.parent=this},r.prototype.insertAt=function(t,e){this.childNodes.splice(e,0,t),t.parent=this},r.prototype.remove=function(t,e){for(var i=this,a=t+e,s=t;s<a;s++)i.childNodes[s].removeSelf();this.childNodes.splice(t,e)},r.prototype.removeSelf=function(){this.clear(),this.destroy()},r.prototype.clear=function(){this.remove(0,this.childNodes.length)},r.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},r.prototype.geometryChange=function(){this.invalidate()},r.prototype.optionsChange=function(){this.invalidate()},r.prototype.childrenChange=function(t){t.action==="add"?this.load(t.items,t.index):t.action==="remove"&&this.remove(t.index,t.items.length),this.invalidate()},r}(R),jm=["click","mouseenter","mouseleave","mousemove","resize"],ip=function(n){function r(o,t){n.call(this),this.options=Object.assign({},t),this.element=o,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Q,jo(o,this.options),this.bind(jm,this.options),this._enableTracking()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.draw=function(t){this._visual.children.push(t)},r.prototype.clear=function(){this._visual.children=[]},r.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},r.prototype.eventTarget=function(t){for(var e=this,i=Vv(t),a;!a&&i&&(a=i._kendoNode,i!==e.element);)i=i.parentElement;if(a)return a.srcElement},r.prototype.exportVisual=function(){return this._visual},r.prototype.getSize=function(){return jo(this.element)},r.prototype.currentSize=function(t){if(t)this._size=t;else return this._size},r.prototype.setSize=function(t){jo(this.element,t),this.currentSize(t),this._resize()},r.prototype.resize=function(t){var e=this.getSize(),i=this.currentSize();(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},r.prototype.size=function(t){if(!t)return this.getSize();this.setSize(t)},r.prototype.suspendTracking=function(){this._suspendedTracking=!0},r.prototype.resumeTracking=function(){this._suspendedTracking=!1},r.prototype._enableTracking=function(){},r.prototype._resize=function(){},r.prototype._handler=function(t){var e=this;return function(i){var a=e.eventTarget(i);a&&!e._suspendedTracking&&e.trigger(t,{element:a,originalEvent:i,type:t})}},r.prototype._elementOffset=function(){var t=this.element,e=Fv(t),i=Bv(t),a=i.left,s=i.top;return{left:a+e.left,top:s+e.top}},r.prototype._surfacePoint=function(t){var e=this._elementOffset(),i=Dv(t),a=i.x-e.left,s=i.y-e.top,l=jv(this.element).invert(),p=new T(a,s).transform(l);return p},r}(hy);function Gt(n,r){return z(r)&&r!==null?" "+n+'="'+r+'" ':""}function ai(n){for(var r="",o=0;o<n.length;o++)r+=Gt(n[o][0],n[o][1]);return r}function pf(n){for(var r="",o=0;o<n.length;o++){var t=n[o][1];z(t)&&(r+=n[o][0]+":"+t+";")}if(r!=="")return r}var ur={},Nm=function(){return typeof window<"u"},Hs={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},$m={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Us={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Hm={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},pc=function(n,r,o){for(var t in r)if(r.hasOwnProperty(t)&&r[t].test(n))return t;return o!==void 0?o:n},Um=function(n){var r,o=[];for(var t in Hs)if(Hs.hasOwnProperty(t)){if(o=n.match(Hs[t]),!o)continue;if(t==="windows"&&"plugins"in window.navigator)return null;var e={};return e.device=t,e.browser=pc(n,Hm,"default"),e.name=pc(t,$m),e[e.name]=!0,e.majorVersion=o[2],e.minorVersion=o[3]?o[3].replace("_","."):".0",r=e.minorVersion.replace(".","").substr(0,2),e.flatVersion=e.majorVersion+r+new Array(3-(r.length<3?r.length:2)).join("0"),e.cordova=typeof window.PhoneGap!==void 0||typeof window.cordova!==void 0,e.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||e.cordova,e}return null},Gm=function(n){var r=null,o=[];for(var t in Us)if(Us.hasOwnProperty(t)&&(o=n.match(Us[t]),o)){r={},r[t]=!0,r[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,r.version=parseInt(document.documentMode||o[2],10);break}return r},Aa=Nm()&&window.navigator?window.navigator.userAgent:null,Sa=Aa?Gm(Aa):null;Aa&&Um(Aa);Sa&&!Sa.chrome&&window.MSPointerEvent;Sa&&!Sa.chrome&&window.PointerEvent;var Wm=/\/\*[\s\S]*?\*\//g,hc=/([^\s:;]+?)\s*:\s*((?:(?:url\(\s*(?:(?:[^"')\\]|\\.)*|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*\)|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[^;"'])*?)\s*)(?=;|$)/gi,Xm=/&quot;|&#34;|&#x22;/gi,qm=/&apos;|&#39;|&#x27;/gi,Ym='"',Zm="'",cc="";function Km(n){return n.replace(Xm,Ym).replace(qm,Zm)}function Qm(n){for(var r={},o=Km((n||cc).replace(Wm,cc)),t=hc.exec(o),e,i;t!==null;)e=t[1].trim(),i=t[2].trim(),r[e]=i,t=hc.exec(o);return r}var Jm=function(n,r){var o=Qm(r);Object.keys(o).forEach(function(t){n.style[t]=o[t]})},ra="data-style",hf=function(n){return(n||"").replace(/\sstyle=/g," "+ra+"=")},cf=function(n){Array.from(n.querySelectorAll("["+ra+"]")).forEach(function(r){var o=r.getAttribute(ra);r.removeAttribute(ra),Jm(r,o)})},t_=function(n,r){n.innerHTML=hf(r),cf(n)},ka="http://www.w3.org/2000/svg",Ta="none",op=3,np=function(n,r){t_(n,r)};if(typeof document<"u"){var e_="<svg xmlns='"+ka+"'></svg>",uc=document.createElement("div"),r_=typeof DOMParser<"u";uc.innerHTML=e_,r_&&uc.firstChild.namespaceURI!==ka&&(np=function(n,r){var o=new DOMParser,t=o.parseFromString(hf(r),"text/xml");cf(t);var e=document.adoptNode(t.documentElement);n.innerHTML="",n.appendChild(e)})}var vc="transform",$n={clip:"clip-path",fill:"fill"};function fc(n,r){return n==="clip"||n==="fill"&&(!r||r.nodeType==="Gradient"||r.nodeType===Qi)}function i_(){var n=document.getElementsByTagName("base")[0],r=document.location.href,o="";if(n&&!(zi.browser||{}).msie){var t=r.indexOf("#");t!==-1&&(r=r.substring(0,t)),o=r}return o}var Br=function(n){function r(o,t){n.call(this,o),this.definitions={},this.options=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),n.prototype.destroy.call(this)},r.prototype.load=function(t,e){for(var i=this,a=0;a<t.length;a++){var s=t[a],l=s.children,p=new ur[s.nodeType](s,i.options);z(e)?i.insertAt(p,e):i.append(p),p.createDefinitions(),l&&l.length>0&&p.load(l);var h=i.element;h&&p.attachTo(h,e)}},r.prototype.root=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.attachTo=function(t,e){var i=document.createElement("div");np(i,"<svg xmlns='"+ka+"' version='1.1'>"+this.render()+"</svg>");var a=i.firstChild.firstChild;a&&(z(e)?t.insertBefore(a,t.childNodes[e]||null):t.appendChild(a),this.setElement(a))},r.prototype.setElement=function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,i=0;i<e.length;i++){var a=t.childNodes[i];e[i].setElement(a)}},r.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},r.prototype.removeSelf=function(){if(this.element){var t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}n.prototype.removeSelf.call(this)},r.prototype.template=function(){return this.renderChildren()},r.prototype.render=function(){return this.template()},r.prototype.renderChildren=function(){for(var t=this.childNodes,e="",i=0;i<t.length;i++)e+=t[i].render();return e},r.prototype.optionsChange=function(t){var e=t.field,i=t.value;e==="visible"?this.css("display",i?"":Ta):$n[e]&&fc(e,i)?this.updateDefinition(e,i):e==="opacity"?this.attr("opacity",i):e==="cursor"?this.css("cursor",i):e==="id"&&(i?this.attr("id",i):this.removeAttr("id")),n.prototype.optionsChange.call(this,t)},r.prototype.accessibilityOptionsChange=function(t){var e=t.field,i=t.value;e==="role"?i?this.attr("role",i):this.removeAttr("role"):e==="ariaLabel"?i?this.attr("aria-label",Zr(i)):this.removeAttr("aria-label"):e==="ariaRoleDescription"?i?this.attr("aria-roledescription",Zr(i)):this.removeAttr("aria-roledescription"):e==="ariaChecked"?z(i)?this.attr("aria-checked",i):this.removeAttr("aria-checked"):e==="className"&&this.className(i)},r.prototype.attr=function(t,e){this.element&&this.element.setAttribute(t,e)},r.prototype.allAttr=function(t){for(var e=this,i=0;i<t.length;i++)e.attr(t[i][0],t[i][1])},r.prototype.toggleAttr=function(t,e){e?this.attr(t,e):this.removeAttr(t)},r.prototype.css=function(t,e){this.element&&(this.element.style[t]=e)},r.prototype.allCss=function(t){for(var e=this,i=0;i<t.length;i++)e.css(t[i][0],t[i][1])},r.prototype.className=function(t){var e=this;this.element&&((i=this.element.classList).remove.apply(i,this.element.classList),t.split(" ").forEach(function(a){e.element.classList.add(a)}));var i},r.prototype.removeAttr=function(t){this.element&&this.element.removeAttribute(t)},r.prototype.mapTransform=function(t){var e=[];return t&&e.push([vc,"matrix("+t.matrix().toString(6)+")"]),e},r.prototype.renderTransform=function(){return ai(this.mapTransform(this.srcElement.transform()))},r.prototype.transformChange=function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(vc)},r.prototype.mapStyle=function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return t.visible===!1&&e.push(["display",Ta]),e},r.prototype.renderStyle=function(){return Gt("style",pf(this.mapStyle(!0)))},r.prototype.renderOpacity=function(){return Gt("opacity",this.srcElement.options.opacity)},r.prototype.renderId=function(){return Gt("id",this.srcElement.options.id)},r.prototype.renderClassName=function(){return Gt("class",this.srcElement.options.className)},r.prototype.renderRole=function(){return Gt("role",this.srcElement.options.role)},r.prototype.renderAriaLabel=function(){var t=this.srcElement.options.ariaLabel;return t&&(t=Zr(t)),Gt("aria-label",t)},r.prototype.renderAriaRoleDescription=function(){var t=this.srcElement.options.ariaRoleDescription;return t&&(t=Zr(t)),Gt("aria-roledescription",t)},r.prototype.renderAriaChecked=function(){return Gt("aria-checked",this.srcElement.options.ariaChecked)},r.prototype.createDefinitions=function(){var t=this.srcElement,e=this.definitions;if(t){var i=t.options,a;for(var s in $n){var l=i.get(s);l&&fc(s,l)&&(e[s]=l,a=!0)}a&&this.definitionChange({action:"add",definitions:e})}},r.prototype.definitionChange=function(t){this.parent&&this.parent.definitionChange(t)},r.prototype.updateDefinition=function(t,e){var i=this.definitions,a=i[t],s=$n[t],l={};a&&(l[t]=a,this.definitionChange({action:"remove",definitions:l}),delete i[t]),e?(l[t]=e,this.definitionChange({action:"add",definitions:l}),i[t]=e,this.attr(s,this.refUrl(e.id))):a&&this.removeAttr(s)},r.prototype.clearDefinitions=function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},r.prototype.renderDefinitions=function(){return ai(this.mapDefinitions())},r.prototype.mapDefinitions=function(){var t=this,e=this.definitions,i=[];for(var a in e)i.push([$n[a],t.refUrl(e[a].id)]);return i},r.prototype.refUrl=function(t){var e=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'"),a=e?"":i;return"url("+a+"#"+t+")"},r.prototype.baseUrl=function(){return i_()},r}(ns),o_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},r.prototype.renderOffset=function(){return Gt("offset",this.srcElement.offset())},r.prototype.mapStyle=function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},r.prototype.optionsChange=function(t){t.field==="offset"?this.attr(t.field,t.value):(t.field==="color"||t.field==="opacity")&&this.css("stop-"+t.field,t.value)},r}(Br),uf=function(n){function r(o){n.call(this,o),this.id=o.id,this.loadStops()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.loadStops=function(){for(var t=this,e=this.srcElement.stops,i=this.element,a=0;a<e.length;a++){var s=new o_(e[a]);t.append(s),i&&s.attachTo(i)}},r.prototype.optionsChange=function(t){t.field==="gradient.stops"?(ns.prototype.clear.call(this),this.loadStops()):t.field==="gradient"&&this.allAttr(this.mapCoordinates())},r.prototype.renderCoordinates=function(){return ai(this.mapCoordinates())},r.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},r}(Br),n_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},r.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.start(),i=t.end(),a=[["x1",e.x],["y1",e.y],["x2",i.x],["y2",i.y],this.mapSpace()];return a},r}(uf),a_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},r.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.center(),i=t.radius(),a=[["cx",e.x],["cy",e.y],["r",i],this.mapSpace()];return a},r}(uf),s_=function(n){function r(o){n.call(this,o),this.id=o.id,this.load(o.children)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.template=function(){var t=this.srcElement.size().getWidth(),e=this.srcElement.size().getHeight();return"<pattern id='"+this.srcElement.id+"' width='"+t+"' height='"+e+"' patternUnits='userSpaceOnUse'>"+this.renderChildren()+"</pattern>"},r}(Br),l_=function(n){function r(o){n.call(this),this.srcElement=o,this.id=o.id,this.load([o])}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderClipRule=function(){return Gt("clip-rule","evenodd")},r.prototype.template=function(){return"<clipPath "+this.renderClipRule()+" id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},r}(Br),p_=function(n){function r(){n.call(this),this.definitionMap={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.attachTo=function(t){this.element=t},r.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},r.prototype.definitionChange=function(t){var e=t.definitions,i=t.action;i==="add"?this.addDefinitions(e):i==="remove"&&this.removeDefinitions(e)},r.prototype.createDefinition=function(t,e){var i;return t==="clip"?i=l_:t==="fill"&&(e instanceof ep?i=n_:e instanceof rp?i=a_:e.nodeType===Qi&&(i=s_)),new i(e)},r.prototype.addDefinitions=function(t){var e=this;for(var i in t)e.addDefinition(i,t[i])},r.prototype.addDefinition=function(t,e){var i=this,a=i.element,s=i.definitionMap,l=e.id,p=s[l];if(p)p.count++;else{var h=this.createDefinition(t,e);s[l]={element:h,count:1},this.append(h),a&&h.attachTo(this.element)}},r.prototype.removeDefinitions=function(t){var e=this;for(var i in t)e.removeDefinition(t[i])},r.prototype.removeDefinition=function(t){var e=this.definitionMap,i=t.id,a=e[i];a&&(a.count--,a.count===0&&(this.remove(this.childNodes.indexOf(a.element),1),delete e[i]))},r}(Br),h_=function(n){function r(o){n.call(this),this.options=o,this.defs=new p_}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.attachTo=function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},r.prototype.clear=function(){ns.prototype.clear.call(this)},r.prototype.template=function(){return this.defs.render()+this.renderChildren()},r.prototype.definitionChange=function(t){this.defs.definitionChange(t)},r}(Br),c_={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},ci=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},r.prototype.optionsChange=function(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:var e=c_[t.field];e&&this.attr(e,t.value);break}this.accessibilityOptionsChange(t),n.prototype.optionsChange.call(this,t)},r.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},r.prototype.renderData=function(){return this.srcElement.toString(op)||void 0},r.prototype.mapStroke=function(t){var e=[];return t&&!oi(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),z(t.opacity)&&e.push(["stroke-opacity",t.opacity]),z(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",Ta]),e},r.prototype.renderStroke=function(){return ai(this.mapStroke(this.srcElement.options.stroke))},r.prototype.renderDashType=function(t){var e=t.dashType,i=t.width;if(i===void 0&&(i=1),e&&e!==_a){for(var a=Gv[e.toLowerCase()],s=[],l=0;l<a.length;l++)s.push(a[l]*i);return s.join(" ")}},r.prototype.renderLinecap=function(t){var e=t.dashType,i=t.lineCap;return e&&e!==_a?Wv:i},r.prototype.mapFill=function(t){var e=[];return t&&(t.nodeType==="Gradient"||t.nodeType===Qi)||(t&&!oi(t.color)?(e.push(["fill",t.color]),z(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",Ta])),e},r.prototype.renderFill=function(){return ai(this.mapFill(this.srcElement.options.fill))},r.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Gt("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" ></path>"},r}(Br),u_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderData=function(){return this.srcElement.toPath().toString(op)},r}(ci),v_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.geometryChange=function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},r.prototype.center=function(){return this.srcElement.geometry().center},r.prototype.radius=function(){return this.srcElement.geometry().radius},r.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" "+this.renderTransform()+" ></circle>"},r}(ci),f_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},r.prototype.optionsChange=function(t){var e=t.field,i=t.value;e==="transform"&&this.transformChange(i),this.accessibilityOptionsChange(t),n.prototype.optionsChange.call(this,t)},r}(Br),d_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},r.prototype.optionsChange=function(t){t.field==="src"&&this.allAttr(this.mapSource()),n.prototype.optionsChange.call(this,t)},r.prototype.mapPosition=function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},r.prototype.renderPosition=function(){return ai(this.mapPosition())},r.prototype.mapSource=function(t){var e=this.srcElement.src();return t&&(e=Zr(e)),[["xlink:href",e]]},r.prototype.renderSource=function(){return ai(this.mapSource(!0))},r.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" ></image>"},r}(ci),g_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderData=function(){return this.srcElement.toString(op)||"undefined"},r}(ci),y_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.geometryChange=function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()},r.prototype.size=function(){return this.srcElement.geometry().size},r.prototype.origin=function(){return this.srcElement.geometry().origin},r.prototype.rx=function(){return this.srcElement.geometry().cornerRadius[0]},r.prototype.ry=function(){return this.srcElement.geometry().cornerRadius[1]},r.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' rx='"+this.rx()+"' ry='"+this.ry()+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" />"},r}(ci),Gs=/&(?:[a-zA-Z]+|#\d+);/g;function ap(n){if(!n||typeof n!="string"||!Gs.test(n))return n;var r=ap._element;return Gs.lastIndex=0,n.replace(Gs,function(o){return r.innerHTML=o,r.textContent||r.innerText})}typeof document<"u"&&(ap._element=document.createElement("span"));var m_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.geometryChange=function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},r.prototype.optionsChange=function(t){t.field==="font"?(this.attr("style",pf(this.mapStyle())),this.geometryChange()):t.field==="content"&&n.prototype.content.call(this,this.srcElement.content()),n.prototype.optionsChange.call(this,t)},r.prototype.mapStyle=function(t){var e=n.prototype.mapStyle.call(this,t),i=this.srcElement.options.font;return t&&(i=Zr(i)),e.push(["font",i],["white-space","pre"]),e},r.prototype.pos=function(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},r.prototype.renderContent=function(){var t=this.srcElement.content();return t=ap(t),t=Zr(t),Jl(t)},r.prototype.renderTextAnchor=function(){var t;return(this.options||{}).rtl&&!(zi.browser.msie||zi.browser.edge)&&(t="end"),Gt("text-anchor",t)},r.prototype.renderPaintOrder=function(){var t=this.srcElement.options.paintOrder;return t?Gt("paint-order",t):""},r.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderPaintOrder()+this.renderFill()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+">"+this.renderContent()+"</text>"},r}(ci);ur.Arc=u_;ur.Circle=v_;ur.Group=f_;ur.Image=d_;ur.MultiPath=g_;ur.Path=ci;ur.Rect=y_;ur.Text=m_;var __="rtl";function x_(n){var r;try{r=n.getScreenCTM?n.getScreenCTM():null}catch{}if(r){var o=-r.e%1,t=-r.f%1,e=n.style;(o!==0||t!==0)&&(e.left=o+"px",e.top=t+"px")}}var b_=function(n){function r(t,e){n.call(this,t,e),this._root=new h_(Object.assign({rtl:ts(t,"direction").direction===__},this.options)),np(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",x_(this._rootElement),this._root.attachTo(this._rootElement),Kl(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={type:{configurable:!0}};return o.type.get=function(){return"svg"},r.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Ql(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),n.prototype.destroy.call(this)},r.prototype.translate=function(e){var i=Math.round(e.x)+" "+Math.round(e.y)+" "+this._size.width+" "+this._size.height;this._offset=e,this._rootElement.setAttribute("viewBox",i)},r.prototype.draw=function(e){n.prototype.draw.call(this,e),this._root.load([e])},r.prototype.clear=function(){n.prototype.clear.call(this),this._root.clear()},r.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},r.prototype.exportVisual=function(){var e=this,i=e._visual,a=e._offset;if(a){var s=new Q;s.children.push(i),s.transform(at().translate(-a.x,-a.y)),i=s}return i},r.prototype._resize=function(){this._offset&&this.translate(this._offset)},r.prototype._template=function(e){var i=typeof e=="string"?e:"style='width: 100%; height: 100%; overflow: hidden;' ";return"<svg "+i+"xmlns='"+ka+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},Object.defineProperties(r.prototype,o),r}(ip),Fe={},vf=function(n){function r(o){n.call(this,o),o&&this.initClip()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initClip=function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},r.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),n.prototype.clear.call(this)},r.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},r.prototype.setClip=function(t){if(this.clip){t.beginPath();var e=new Fe[this.clip.nodeType](this.clip);e.renderPoints(t,this.clip),t.clip("evenodd")}},r.prototype.optionsChange=function(t){t.field==="clip"&&(this.clearClip(),this.initClip()),n.prototype.optionsChange.call(this,t)},r.prototype.setTransform=function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},r.prototype.loadElements=function(t,e,i){for(var a=this,s=0;s<t.length;s++){var l=t[s],p=l.children,h=new Fe[l.nodeType](l,i);p&&p.length>0&&h.load(p,e,i),z(e)?a.insertAt(h,e):a.append(h)}},r.prototype.load=function(t,e,i){this.loadElements(t,e,i),this.invalidate()},r.prototype.setOpacity=function(t){if(this.srcElement){var e=this.srcElement.opacity();z(e)&&this.globalAlpha(t,e)}},r.prototype.globalAlpha=function(t,e){var i=e;i&&t.globalAlpha&&(i*=t.globalAlpha),t.globalAlpha=i},r.prototype.visible=function(){var t=this.srcElement;return!t||t&&t.options.visible!==!1},r}(ns),ff=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderTo=function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,i=0;i<e.length;i++){var a=e[i];a.visible()&&a.renderTo(t)}t.restore()}},r}(tp(vf,"childNodes")),w_=1e3/60,A_=function(n){function r(o,t){n.call(this),this.canvas=o,this.size=t,this.ctx=o.getContext("2d");var e=this._invalidate.bind(this);this.invalidate=Ka(function(){fa(e)},w_)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){n.prototype.destroy.call(this),this.canvas=null,this.ctx=null},r.prototype.load=function(t,e,i){this.loadElements(t,e,i),this._invalidate()},r.prototype._rescale=function(t){var e=this,i=e.canvas,a=e.size;i.width=a.width*t,i.height=a.height*t,this.ctx.scale(t,t)},r.prototype._devicePixelRatio=function(){return typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1},r.prototype._invalidate=function(t){if(this.ctx){var e=t&&t.fixedScale,i=e?1:this._devicePixelRatio();this._rescale(i),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},r}(tp(ff,"childNodes")),df=function(n){function r(){n.call(this),this.shapes=[]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._add=function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},r.prototype.pointShapes=function(t){for(var e=this.shapes,i=e.length,a=[],s=0;s<i;s++)e[s].bbox.containsPoint(t)&&a.push(e[s].shape);return a},r.prototype.insert=function(t,e){this._add(t,e)},r.prototype.remove=function(t){for(var e=this.shapes,i=e.length,a=0;a<i;a++)if(e[a].shape===t){e.splice(a,1);break}},r}(R),S_=function(n){function r(o){n.call(this),this.children=[],this.rect=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.inBounds=function(t){var e=this.rect,i=e.bottomRight(),a=t.bottomRight(),s=e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&a.x<=i.x&&a.y<=i.y;return s},r.prototype.pointShapes=function(t){for(var e=this.children,i=e.length,a=n.prototype.pointShapes.call(this,t),s=0;s<i;s++)Uo(a,e[s].pointShapes(t));return a},r.prototype.insert=function(t,e){var i=this.children,a=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{i.length||this._initChildren();for(var s=0;s<i.length;s++)if(i[s].insert(t,e)){a=!0;break}a||this._add(t,e)}a=!0}return a},r.prototype._initChildren=function(){var t=this,e=t.rect,i=t.children,a=e.center(),s=e.width()/2,l=e.height()/2;i.push(new r(new X([e.origin.x,e.origin.y],[s,l])),new r(new X([a.x,e.origin.y],[s,l])),new r(new X([e.origin.x,a.y],[s,l])),new r(new X([a.x,a.y],[s,l])))},r}(df),Re=3e3,dc=1e4,k_=75,gc=function(n){function r(){n.call(this),this.initRoots()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initRoots=function(){this.rootMap={},this.root=new df,this.rootElements=[]},r.prototype.clear=function(){for(var t=this,e=this.rootElements,i=0;i<e.length;i++)t.remove(e[i]);this.initRoots()},r.prototype.pointShape=function(t){var e=(this.rootMap[Math.floor(t.x/Re)]||{})[Math.floor(t.y/Re)],i=this.root.pointShapes(t);e&&(i=i.concat(e.pointShapes(t))),this.assignZindex(i),i.sort(T_);for(var a=0;a<i.length;a++)if(i[a].containsPoint(t))return i[a]},r.prototype.assignZindex=function(t){for(var e=this,i=0;i<t.length;i++){for(var a=t[i],s=0,l=Math.pow(dc,k_),p=[];a;)p.push(a),a=a.parent;for(;p.length;)a=p.pop(),s+=((a.parent?a.parent.children:e.rootElements).indexOf(a)+1)*l,l/=dc;t[i]._zIndex=s}},r.prototype.optionsChange=function(t){(t.field==="transform"||t.field==="stroke.width")&&this.bboxChange(t.element)},r.prototype.geometryChange=function(t){this.bboxChange(t.element)},r.prototype.bboxChange=function(t){var e=this;if(t.nodeType==="Group")for(var i=0;i<t.children.length;i++)e.bboxChange(t.children[i]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},r.prototype.add=function(t){var e=Array.isArray(t)?t.slice(0):[t];Uo(this.rootElements,e),this._insert(e)},r.prototype.childrenChange=function(t){var e=this;if(t.action==="remove")for(var i=0;i<t.items.length;i++)e.remove(t.items[i]);else this._insert(Array.prototype.slice.call(t.items,0))},r.prototype._insert=function(t){for(var e=this,i;t.length>0;)i=t.pop(),i.addObserver(e),i.nodeType==="Group"?Uo(t,i.children):e._insertShape(i)},r.prototype._insertShape=function(t){var e=t.bbox();if(e){var i=this.getSectors(e),a=i[0][0],s=i[1][0];if(this.inRoot(i))this.root.insert(t,e);else{var l=this.rootMap;l[a]||(l[a]={}),l[a][s]||(l[a][s]=new S_(new X([a*Re,s*Re],[Re,Re]))),l[a][s].insert(t,e)}}},r.prototype.remove=function(t){var e=this;if(t.removeObserver(this),t.nodeType==="Group")for(var i=t.children,a=0;a<i.length;a++)e.remove(i[a]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},r.prototype.inRoot=function(t){return t[0].length>1||t[1].length>1},r.prototype.getSectors=function(t){for(var e=t.bottomRight(),i=Math.floor(e.x/Re),a=Math.floor(e.y/Re),s=[[],[]],l=Math.floor(t.origin.x/Re);l<=i;l++)s[0].push(l);for(var p=Math.floor(t.origin.y/Re);p<=a;p++)s[1].push(p);return s},r}(R);function T_(n,r){return n._zIndex<r._zIndex?1:n._zIndex>r._zIndex?-1:0}var vr=function(r){r.bind("mouseenter",this._mouseenter.bind(this)),r.bind("mouseleave",this._mouseleave.bind(this)),this.element=r.element};vr.prototype.clear=function(){this._resetCursor()};vr.prototype.destroy=function(){this._resetCursor(),delete this.element};vr.prototype._mouseenter=function(r){var o=this._shapeCursor(r);o?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(o)):this._resetCursor()};vr.prototype._mouseleave=function(){this._resetCursor()};vr.prototype._shapeCursor=function(r){for(var o=r.element;o&&!z(o.options.cursor);)o=o.parent;if(o)return o.options.cursor};vr.prototype._getCursor=function(){if(this.element)return this.element.style.cursor};vr.prototype._setCursor=function(r){this.element&&(this.element.style.cursor=r,this._current=r)};vr.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};function sp(n,r){var o=r.segments;if(o.length!==0){var t=o[0],e=t.anchor();n.moveTo(e.x,e.y);for(var i=1;i<o.length;i++){t=o[i],e=t.anchor();var a=o[i-1],s=a.controlOut(),l=t.controlIn();s&&l?n.bezierCurveTo(s.x,s.y,l.x,l.y,e.x,e.y):n.lineTo(e.x,e.y)}r.options.closed&&n.closePath()}}function C_(n,r){for(var o=0;o<r.length;o++){var t=r[o],e=Ja(t.color());e.a*=t.opacity(),n.addColorStop(t.offset(),e.toCssRgba())}}var ui=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderTo=function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},r.prototype.setFill=function(t){var e=this.srcElement.options.fill,i=!1;return e&&(e.nodeType==="Gradient"?(this.setGradientFill(t,e),i=!0):e.nodeType===Qi?(this.setPatternFill(t,e),i=!0):oi(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),i=!0)),i},r.prototype.setGradientFill=function(t,e){var i=this.srcElement.rawBBox(),a;if(e instanceof ep){var s=e.start(),l=e.end();a=t.createLinearGradient(s.x,s.y,l.x,l.y)}else if(e instanceof rp){var p=e.center();a=t.createRadialGradient(p.x,p.y,0,p.x,p.y,e.radius())}C_(a,e.stops),t.save(),e.userSpace()||t.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),t.fillStyle=a,t.fill(),t.restore()},r.prototype.setPatternFill=function(t,e){var i=e.size(),a=document.createElement("canvas"),s=a.getContext("2d");a.width=i.getWidth(),a.height=i.getHeight(),this.childNodes.length=0,this.loadElements(e.children);for(var l=this.childNodes,p=0;p<l.length;p++){var h=l[p];h.renderTo(s)}t.save(),t.fillStyle=t.createPattern(a,"repeat"),t.fill(),t.restore()},r.prototype.setStroke=function(t){var e=this.srcElement.options.stroke;if(e&&!oi(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=ya(e.width,1),t.lineJoin=ya(e.lineJoin,t.lineJoin),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},r.prototype.dashType=function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},r.prototype.setLineDash=function(t){var e=this.dashType();if(e&&e!==_a){var i=Gv[e];t.setLineDash?t.setLineDash(i):(t.mozDash=i,t.webkitLineDash=i)}},r.prototype.setLineCap=function(t){var e=this.dashType(),i=this.srcElement.options.stroke;e&&e!==_a?t.lineCap=Wv:i&&i.lineCap&&(t.lineCap=i.lineCap)},r.prototype.setLineJoin=function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},r.prototype.renderPoints=function(t,e){sp(t,e)},r}(vf),P_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderPoints=function(t){var e=this.srcElement.toPath();sp(t,e)},r}(ui),M_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),i=e.center,a=e.radius;t.arc(i.x,i.y,a,0,Math.PI*2)},r}(ui),O_=function(n){function r(o,t){n.call(this,o),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=da();var e=this.img=new Image,i=o.src();t&&!/^data:/i.test(i)&&(e.crossOrigin=t),i&&(e.src=i),e.complete?this.onLoad():(e.onload=this.onLoad,e.onerror=this.onError)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderTo=function(t){this.loading.state()==="resolved"&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},r.prototype.optionsChange=function(t){t.field==="src"?(this.loading=da(),this.img.src=this.srcElement.src()):n.prototype.optionsChange.call(this,t)},r.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},r.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},r.prototype.drawImage=function(t){var e=this.srcElement.rect(),i=e.topLeft();t.drawImage(this.img,i.x,i.y,e.width(),e.height())},r}(ui),R_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderPoints=function(t){for(var e=this.srcElement.paths,i=0;i<e.length;i++)sp(t,e[i])},r}(ui),E_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),i=e.cornerRadius,a=i[0],s=i[1];if(a===0&&s===0){var l=e.origin,p=e.size;t.rect(l.x,l.y,p.width,p.height)}else n.prototype.renderPoints.call(this,t,O.fromRect(e))},r}(ui),L_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.renderTo=function(t){var e=this.srcElement,i=e.position(),a=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",e.options.paintOrder==="stroke"?(this.stroke(t,e,i,a),this.fill(t,e,i,a)):(this.fill(t,e,i,a),this.stroke(t,e,i,a)),t.restore()},r.prototype.stroke=function(t,e,i,a){this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),i.x,i.y+a.baseline))},r.prototype.fill=function(t,e,i,a){this.setFill(t)&&t.fillText(e.content(),i.x,i.y+a.baseline)},r}(ui);Fe.Arc=P_;Fe.Circle=M_;Fe.Group=ff;Fe.Image=O_;Fe.MultiPath=R_;Fe.Path=ui;Fe.Rect=E_;Fe.Text=L_;var I_=function(n){function r(t,e){n.call(this,t,e),this.element.innerHTML=this._template(this);var i=this.element.firstElementChild;i.style.width="100%",i.style.height="100%";var a=jo(t);i.width=a.width,i.height=a.height,this._rootElement=i,this._root=new A_(i,a),this._mouseTrackHandler=this._trackMouse.bind(this),Kl(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={type:{configurable:!0}};return o.type.get=function(){return"canvas"},r.prototype.destroy=function(){n.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Ql(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},r.prototype.draw=function(e){n.prototype.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])},r.prototype.clear=function(){n.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},r.prototype.eventTarget=function(e){if(this._searchTree){var i=this._surfacePoint(e),a=this._searchTree.pointShape(i);return a}},r.prototype.image=function(){var e=this,i=e._root,a=e._rootElement,s=[];i.traverse(function(h){h.loading&&s.push(h.loading)});var l=da(),p=function(){i._invalidate({fixedScale:!0});try{var h=a.toDataURL();l.resolve(h)}catch(c){l.reject(c)}};return zv(s).then(p,p),l},r.prototype.suspendTracking=function(){n.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},r.prototype.resumeTracking=function(){if(n.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new gc;for(var e=this._root.childNodes,i=[],a=0;a<e.length;a++)i.push(e[a].srcElement);this._searchTree.add(i)}},r.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},r.prototype._template=function(){return"<canvas></canvas>"},r.prototype._enableTracking=function(){this._searchTree=new gc,this._cursor=new vr(this),n.prototype._enableTracking.call(this)},r.prototype._trackMouse=function(e){if(!this._suspendedTracking){var i=this.eventTarget(e);if(e.type!=="click"){var a=this._currentShape;a&&a!==i&&this.trigger("mouseleave",{element:a,originalEvent:e,type:"mouseleave"}),i&&a!==i&&this.trigger("mouseenter",{element:i,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:i,originalEvent:e,type:"mousemove"}),this._currentShape=i}else i&&this.trigger("click",{element:i,originalEvent:e,type:"click"})}},Object.defineProperties(r.prototype,o),r}(ip),Ws,Xs,gf=function(){return typeof document<"u"},D_=function(){return gf()&&document.createElement("canvas").getContext},V_=function(){return gf()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},yc=function(n){function r(){n.call(this),this._items=[{name:"svg",type:b_},{name:"canvas",type:I_}]}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={support:{configurable:!0},current:{configurable:!0}};return o.support.get=function(){return Xs||(Xs={canvas:D_(),svg:V_()}),Xs},o.current.get=function(){return Ws||(Ws=new r),Ws},r.prototype.create=function(e,i){var a=this._items,s=a[0];if(i&&i.type){for(var l=i.type.toLowerCase(),p=0;p<a.length;p++)if(a[p].name===l){s=a[p];break}}if(s)return new s.type(e,i);Ev(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:
- The browser does not support SVG and Canvas. User agent: `+navigator.userAgent)},Object.defineProperties(r,o),r}(R),to=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={support:{configurable:!0}};return o.support.get=function(){return yc.support},r.create=function(e,i){return yc.current.create(e,i)},Object.defineProperties(r,o),r}(ip),Cr="arc",mc="ArrowUp",_c="ArrowDown",xc="ArrowLeft",bc="ArrowRight",z_="Tab",Fi="aria-activedescendant",B_="axisLabelClick",dt="#000",Y="bottom",N="center",Zt="circle",Tt=3,lp="cross",ir="date",yf="12px sans-serif",mf=400,nt=10,pp=600,Wo="end",F_="Enter",j_="Escape",_f=/\{\d+:?/,Ca="height",xf=100,fl="inside",bf="inherit",U="left",_t=Number.MAX_VALUE,wt=-Number.MAX_VALUE,dl="none",N_="noteClick",$_="noteHover",H_="noteLeave",Xo="object",ia="outside",Z="right",wf="roundedRect",Pa="start",hp="string",G="top",U_="triangle",G_="square",W_="rect",ee="value",q="#fff",Ma="width",E="x",L="y",wc=1,gl="pointer",yl="horizontal",X_="vertical";function Lt(n){return Array.isArray(n)}function ft(n,r){for(var o=Lt(r)?r:[r],t=0;t<o.length;t++){var e=o[t];n.className.indexOf(e)===-1&&(n.className+=" "+e)}}var q_=/\s+/g;function as(n,r){n&&n.className&&(n.className=n.className.replace(r,"").replace(q_," "))}function ie(n){var r=.5;n.options.stroke&&z(n.options.stroke.width)&&n.options.stroke.width%2===0&&(r=0);for(var o=0;o<n.segments.length;o++)n.segments[o].anchor().round(0).translate(r,r);return n}function Ac(n,r){return-n.x*r.y+n.y*r.x<0}function W(n){return typeof n=="number"&&!isNaN(n)}function Kt(n){return typeof n===hp}function Af(n){return W(n)||Kt(n)&&isFinite(n)}function Sc(n,r){return(n+1)%r}function kc(n,r){var o=n-1;return o<0?r-1:o}function Oa(n,r){return r===1||n%r===0?0:n<0?r+n%r:n>=r?n%r:n}function lt(n){return typeof n=="function"}var Tc="object",Y_="undefined";function Sf(n,r){for(var o in r)if(!(o==="__proto__"||o==="constructor")){var t=r[o],e=typeof t,i=void 0;if(e===Tc&&t!==null?i=t.constructor:i=null,i&&i!==Array)if(t instanceof Date)n[o]=new Date(t.getTime());else if(lt(t.clone))n[o]=t.clone();else{var a=n[o];typeof a===Tc?n[o]=a||{}:n[o]={},Sf(n[o],t)}else e!==Y_&&(n[o]=t)}return n}function _(n){for(var r=arguments,o=arguments.length,t=1;t<o;t++)Sf(n,r[t]);return n}function ye(n){return typeof n=="object"}function Ci(n){return W(n)?n+"px":n}var Z_=/width|height|top|left|bottom|right/i;function K_(n){return Z_.test(n)}function ct(n,r){var o=Kt(r)?[r]:r;if(Lt(o)){for(var t={},e=window.getComputedStyle(n),i=0;i<o.length;i++){var a=o[i];t[a]=K_(a)?parseFloat(e[a]):e[a]}return t}else if(ye(r))for(var s in r)n.style[s]=Ci(r[s])}function J(n,r){r===void 0&&(r=0);var o={top:0,right:0,bottom:0,left:0};return typeof n=="number"?o[G]=o[Z]=o[Y]=o[U]=n:(o[G]=n[G]||r,o[Z]=n[Z]||r,o[Y]=n[Y]||r,o[U]=n[U]||r),o}var kf={compile:function(n){return n}},eo=function(){};eo.register=function(r){kf=r};eo.compile=function(r,o){return kf.compile(r,o)};function Ct(n){n===void 0&&(n={});var r;return n.template?n.template=r=eo.compile(n.template):lt(n.content)&&(r=n.content),r}function Tf(n){n===void 0&&(n={});var r;return n.ariaTemplate?n.ariaTemplate=r=eo.compile(n.ariaTemplate):lt(n.ariaContent)&&(r=n.ariaContent),r}var Q_=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Eo={};Eo.undefined=function(n){return n};function Pr(n){if(Eo[n])return Eo[n];var r=[];return n.replace(Q_,function(o,t,e,i){r.push(z(t)?t:e||i)}),Eo[n]=function(o){for(var t=o,e=0;e<r.length&&t;e++)t=t[r[e]];return t},Eo[n]}function oe(n,r){for(var o=n.length,t=[],e=0;e<o;e++)r(n[e])&&t.push(n[e]);return t}function qo(n,r){if(n.className){for(var o=r.split(" "),t=0;t<o.length;t++)if(n.className.indexOf&&n.className.indexOf(o[t])!==-1)return!0}}var cp=function(){this._map=new Map};cp.prototype.get=function(r){return this._map.get(r)};cp.prototype.set=function(r,o){this._map.set(r,o)};function H(n,r){if(r)return r.indexOf(n)!==-1}function ue(n,r,o){return st(n+(r-n)*o,Tt)}var Cc="trigger",Yo=function(r,o){this.observer=r,this.handlerMap=_({},this.handlerMap,o)};Yo.prototype.trigger=function(r,o){var t=this,e=t.observer,i=t.handlerMap,a;return i[r]?a=this.callObserver(i[r],o):e[Cc]&&(a=this.callObserver(Cc,r,o)),a};Yo.prototype.callObserver=function(r){for(var o=[],t=arguments.length-1;t-- >0;)o[t]=arguments[t+1];return this.observer[r].apply(this.observer,o)};Yo.prototype.requiresHandlers=function(r){var o=this;if(this.observer.requiresHandlers)return this.observer.requiresHandlers(r);for(var t=0;t<r.length;t++)if(o.handlerMap[r[t]])return!0};function J_(n){return Object.prototype.toString.call(n)==="[object Object]"}function Cf(n,r){for(var o=n.length,t=[],e=0;e<o;e++){var i=r(n[e]);z(i)&&t.push(i)}return t}var tx=zi.browser||{};function up(n){var r=0;return n.wheelDelta?(r=-n.wheelDelta/120,tx.webkit&&(r=r/(2*Math.max(window.devicePixelRatio,.625)))):n.detail&&(r=n.detail/3),r=r>0?Math.ceil(r):Math.floor(r),r}var Ft=Ly,vi=Ft.append,Lo=Ft.bindEvents,w=Ft.defined,kr=Ft.deg,ji=Ft.elementOffset,Ke=Ft.elementSize,Pf=Ft.eventCoordinates,ke=Ft.eventElement,ex=Ft.hashKey,mt=Ft.last,V=Ft.limitValue,rx=Ft.objectKey,bt=Ft.rad,M=Ft.round,Io=Ft.unbindEvents,j=Ft.valueOrDefault,Jr=function(){};Jr.fetchFonts=function(r,o,t){t===void 0&&(t={depth:0});var e=5;!r||t.depth>e||!document.fonts||Object.keys(r).forEach(function(i){var a=r[i];i==="dataSource"||i[0]==="$"||!a||(i==="font"?o.push(a):typeof a=="object"&&(t.depth++,Jr.fetchFonts(a,o,t),t.depth--))})};Jr.loadFonts=function(r,o){var t=[];if(r.length>0&&document.fonts){try{t=r.map(function(e){return document.fonts.load(e)})}catch(e){Ev(e)}Promise.all(t).then(o,o)}else o()};Jr.preloadFonts=function(r,o){var t=[];Jr.fetchFonts(r,t),Jr.loadFonts(t,o)};function S(n,r){var o=n.prototype;o.options?o.options=_({},o.options,r):o.options=r}var ix="k-icon",qs="k-i-",ox="k-font-icon",nx="k-svg-icon",Pc="k-svg-i-",ro=function(r,o){this.element=r,this.options=_({},this.options,o),this.wrapper()};ro.prototype.wrapper=function(){this.addClasses()};ro.prototype.addClasses=function(){};ro.prototype.html=function(){return this.element.outerHTML};S(ro,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var Mf=function(n){function r(o,t){n.call(this,o,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.wrapper=function(){var t=this.element.className.split(" ").find(function(i){return i.startsWith(qs)}),e=this.options.icon?""+(this.options.icon.startsWith(qs)?"":qs)+this.options.icon:"";this._className=e,ft(this.element,ix),ft(this.element,ox),as(this.element,t),ft(this.element,e),ft(this.element,this.options.iconClass||""),n.prototype.wrapper.call(this)},r}(ro);S(Mf,{name:"HTMLFontIcon",icon:null});var Of=function(n){function r(o,t){o.innerHTML="",n.call(this,o,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.wrapper=function(){var t=this.options.icon,e=this.options.iconClass,i=this.element.className.split(" ").find(function(h){return h.startsWith(Pc)});if(!t&&e){var a=/k-i-(\w+(?:-\w+)*)/,s=e.match(a);s&&(t=s[1],e=e.replace(s[0],""))}Kt(t)&&(t=t.replace("k-i-","").replace(/-./g,function(h){return h[1].toUpperCase()}),t=this.options.svgIcons[t]||this.options.svgIcons[t+"Icon"]);var l=t&&t.name?""+Pc+t.name:"";if(this._className=l,ft(this.element,nx),as(this.element,i),ft(this.element,l),ft(this.element,e||""),this.element.setAttribute("aria-hidden","true"),t&&J_(t)){var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("viewBox",t.viewBox||""),p.setAttribute("focusable","false"),p.innerHTML=t.content||"",this.element.appendChild(p)}n.prototype.wrapper.call(this)},r}(ro);S(Of,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var Mc={svg:Of,font:Mf};function Ei(n,r){var o=n,t=r;return(!o||ye(o)&&!(o instanceof HTMLElement)||Kt(o))&&(t=o,o=document.createElement("span")),Kt(t)&&(t={icon:t}),t.type||(t.type="svg"),Mc[t.type]?new Mc[t.type](o,t).html():null}function ml(n){for(var r=_t,o=wt,t=0,e=n.length;t<e;t++){var i=n[t];i!==null&&isFinite(i)&&(r=Math.min(r,i),o=Math.max(o,i))}return{min:r===_t?void 0:r,max:o===wt?void 0:o}}function Rf(n,r){for(var o=0;o<n.length;o++){var t=n[o];if(r(t,o,n))return t}}var Ra=zt,ax=/matrix\((.*)\)/;function sx(n){var r=n.match(ax);if(r===null||r.length!==2)return Ra.unit();var o=r[1].split(",").map(function(t){return parseFloat(t)});return new(Function.prototype.bind.apply(Ra,[null].concat(o)))}function Oc(n){var r=getComputedStyle(n).transform;return r==="none"?Ra.unit():sx(r)}function lx(n){if(!n)return Ra.unit();for(var r=Oc(n),o=n.parentElement;o;){var t=Oc(o);r=r.multiplyCopy(t),o=o.parentElement}return r.b=r.c=r.e=r.f=0,r}function ss(n){var r=new ve(n).isDark();return r?q:dt}var Ef={},fi=function(r){var o=this;this._index={},this._values=r?r.slice(0):[];for(var t=0;t<this._values.length;t++)o._index[o._values[t]]=t},Lf={size:{configurable:!0}};fi.prototype.values=function(){return this._values.filter(function(r){return r!==Ef})};fi.prototype.has=function(r){return this._index[r]!==void 0};fi.prototype.add=function(r){this.has(r)||(this._index[r]=this._values.length,this._values.push(r))};fi.prototype.delete=function(r){var o=this._index[r];o!==void 0&&(this._values[o]=Ef,delete this._index[r])};fi.prototype.clear=function(){this._index={},this._values=[]};Lf.size.get=function(){return this._values.length};Object.defineProperties(fi.prototype,Lf);var di=function(r){this._set=new Set(r)},If={size:{configurable:!0}};di.prototype.values=function(){return Array.from(this._set)};di.prototype.has=function(r){return this._set.has(r)};di.prototype.add=function(r){this._set.add(r)};di.prototype.delete=function(r){this._set.delete(r)};di.prototype.clear=function(){this._set.clear()};If.size.get=function(){return this._set.size};Object.defineProperties(di.prototype,If);var px=function(){var n=!1;if(typeof Set=="function"){var r=new Set([1]);n=r.has(1)}return n};function Rc(n){return px()?new di(n):new fi(n)}function Df(n){throw n}var Li={LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_PLUS:107,NUMPAD_MINUS:109};function vp(n,r){return Object.prototype.hasOwnProperty.call(n,r)}var Pt=function(){this.height=0,this.width=0,this.data=[]};Pt.prototype.clone=function(){var r=new Pt;return r.height=this.height,r.width=this.width,r.data=this.data.map(function(o){return o.slice()}),r};Pt.prototype.get=function(r,o){var t=this.data[r],e=t?t[o]:null;return e};Pt.prototype.set=function(r,o,t){var e=this.data[r];e==null&&(e=this.data[r]=[]),e[o]=t,r>=this.height&&(this.height=r+1),o>=this.width&&(this.width=o+1)};Pt.prototype.each=function(r,o){for(var t=this,e=0;e<this.height;++e)for(var i=0;i<this.width;++i){var a=t.get(e,i);if((o||a!=null)&&(a=r(a,e,i),a!==void 0))return a}};Pt.prototype.map=function(r,o){var t=new Pt;return this.each(function(e,i,a){t.set(i,a,r(e,i,a))},o),t};Pt.prototype.transpose=function(){var r=new Pt;return this.each(function(o,t,e){r.set(e,t,o)}),r};Pt.prototype.unit=function(r){this.width=this.height=r;for(var o=this.data=new Array(r),t=r;--t>=0;)for(var e=o[t]=new Array(r),i=r;--i>=0;)e[i]=t===i?1:0;return this};Pt.prototype.multiply=function(r){for(var o=this,t=new Pt,e=0;e<o.height;++e)for(var i=0;i<r.width;++i){for(var a=0,s=0;s<o.width;++s){var l=o.get(e,s),p=r.get(s,i);typeof l=="number"&&typeof p=="number"&&(a+=l*p)}t.set(e,i,a)}return t};Pt.prototype.inverse=function(){for(var r=this.width,o=this.augment(new Pt().unit(r)),t=o.data,e=function(v){var f=hx(v,r,function(m){return t[m][v]});if(!t[f][v])return{v:null};if(v!==f){var d=t[v];t[v]=t[f],t[f]=d}for(var g=v+1;g<r;++g){for(var y=v+1;y<2*r;++y)t[g][y]-=t[v][y]*t[g][v]/t[v][v];t[g][v]=0}},i=0;i<r;++i){var a=e(i);if(a)return a.v}for(var s=0;s<r;++s)for(var l=t[s][s],p=0;p<2*r;++p)t[s][p]/=l;for(var h=r;--h>=0;)for(var c=h;--c>=0;)if(t[c][h])for(var u=2*r;--u>=r;)t[c][u]-=t[h][u]*t[c][h];return o.slice(0,r,r,r)};Pt.prototype.augment=function(r){var o=this.clone(),t=o.width;return r.each(function(e,i,a){o.set(i,a+t,e)}),o};Pt.prototype.slice=function(r,o,t,e){for(var i=this,a=new Pt,s=0;s<t;++s)for(var l=0;l<e;++l)a.set(s,l,i.get(r+s,o+l));return a};function hx(n,r,o){for(var t=o(n),e=n,i=n+1;i<r;i++){var a=o(n);a>t&&(t=a,e=n)}return e}var Ii={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};function cx(n){return Ii[n]||n}var Ee=function(n){var r=/([^ ]+)/g,o=n.replace(r,cx);return o};function hn(){var n="",r,o;for(r=0;r<32;r++)o=Math.random()*16|0,(r===8||r===12||r===16||r===20)&&(n+="-"),n+=(r===12?4:r===16?o&3|8:o).toString(16);return n}var _l=new WeakMap,Ea=Symbol("id");function Wt(n,r,o,t,e){vx(n,r,o,t,e)}function te(n,r,o,t,e){dx(n,r,o,t)}function ux(n){return typeof n=="string"}function vx(n,r,o,t,e){var i=Lt(r)?r:(r||"").split(" ");i.forEach(function(a){fx(n,a,o,t,e)})}function fx(n,r,o,t,e){var i=t,a;o&&lt(o)&&!t?i=o:o&&ux(o)&&lt(i)&&(a=o);var s=function(p){var h=p.target?p.target.closest(a):null;if(!a||a&&p.target&&h){var c=a?h:p.currentTarget;Object.defineProperty(p,"currentTarget",{value:c}),Object.defineProperty(p,"delegateTarget",{value:n}),i(p)}};i[Ea]=hn();var l=_l.get(n);l||(l=new Map,_l.set(n,l)),l.set(i[Ea],s),n.addEventListener(r,s,!!e)}function dx(n,r,o,t){var e=Lt(r)?r:(r||"").split(" ");e.forEach(function(i){gx(n,i,o,t)})}function gx(n,r,o,t){var e=_l.get(n);if(e&&o&&o[Ea]){var i=o[Ea],a=e.get(i);e.delete(i),a&&n.removeEventListener(r,a,!!t)}}function cn(){var n=yx(navigator.userAgent),r={};return r.mobileOS=n,r}function yx(n){var r=!1,o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i},t={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i};for(var e in o){var i=n.match(o[e]);if(i){if(e==="windows"&&"plugins"in navigator)return!1;r={},r.device=e,r.name=mx(e,t),r[r.name]=!0;break}}return r}function mx(n,r,o){for(var t in r)if(r[t].test(n))return t;return o!==void 0?o:n}function Ec(){}function Er(){return new Date().getTime()}var Lc="string",Ic="function",_x=function(){this._defaultPrevented=!0},xx=function(){return this._defaultPrevented===!0},xe=function(n){function r(){n.call(this),this._events={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.unbind()},r.prototype.bind=function(t,e,i){var a=this,s,l=typeof t===Lc?[t]:t||[],p,h,c,u=typeof e===Ic,v;if(e===void 0){for(s in t)a.bind(s,t[s]);return a}var f=function(){var d=l[s];c=u?e:e[d],c&&(i&&(h=c,c=function(){a.unbind(d,c),h.apply(a,arguments)},c.original=h),v=a._events[d]=a._events[d]||[],v.push(c))};for(s=0,p=l.length;s<p;s++)f();return a},r.prototype.one=function(t,e){return this.bind(t,e,!0)},r.prototype.first=function(t,e){var i=this,a,s=typeof t===Lc?[t]:t,l,p,h=typeof e===Ic,c;for(a=0,l=s.length;a<l;a++){var u=s[a];p=h?e:e[u],p&&(c=i._events[u]=i._events[u]||[],c.unshift(p))}return i},r.prototype.trigger=function(t,e){var i=this,a=i._events[t],s,l;if(a){var p=e||{};for(p.sender=i,p._defaultPrevented=!1,p.preventDefault=_x,p.isDefaultPrevented=xx,a=a.slice(),s=0,l=a.length;s<l;s++)a[s].call(i,p);return p._defaultPrevented===!0}return!1},r.prototype.unbind=function(t,e){var i=this,a=i._events[t],s;if(t===void 0)i._events={};else if(a)if(e)for(s=a.length-1;s>=0;s--)(a[s]===e||a[s].original===e)&&a.splice(s,1);else i._events[t]=[];return i},r.prototype._setEvents=function(t){for(var e=this,i=(this.events||[]).length,a=0;a<i;a++){var s=e.events[a];e.options[s]&&t[s]&&(e.unbind(s,e.options[s]),e._events&&e._events[s]&&delete e._events[s])}this.bind(this.events,t)},r}(R),oa=Object.assign,bx=function(n){n.preventDefault()},Dc=800,wx=300,Vc=0,Vf="press",zf="hold",zc="select",Bf="start",xl="move",bl="end",Bc="cancel",La="tap",Ff="doubleTap",jf="release",Ax="gesturestart",Fc="gesturechange",jc="gestureend",Nc="gesturetap",Sx={api:0,touch:0,mouse:9,pointer:9};function kx(n,r){var o=n.x.location,t=n.y.location,e=r.x.location,i=r.y.location,a=o-e,s=t-i;return{center:{x:(o+e)/2,y:(t+i)/2},distance:Math.sqrt(a*a+s*s)}}function $c(n){var r=[],o=n.originalEvent||n,t=n.currentTarget;return n.api?r.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"}):r.push({location:o,event:n,target:n.target,currentTarget:t,id:o.pointerId,type:"pointer"}),r}var Hc=function(n){function r(o,t){n.call(this);var e=this;e.support=cn(),e.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,e.axis=o,e._updateLocationData(t),e.startLocation=e.location,e.velocity=e.delta=0,e.timeStamp=Er()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.move=function(t){var e=this,i=t["page"+e.axis],a=Er(),s=a-e.timeStamp||1;!i&&this.invalidZeroEvents||(e.delta=i-e.location,e._updateLocationData(t),e.initialDelta=i-e.startLocation,e.velocity=e.delta/s,e.timeStamp=a)},r.prototype._updateLocationData=function(t){var e=this,i=e.axis;e.location=t["page"+i],e.client=t["client"+i],e.screen=t["screen"+i]},r}(R),Tx=function(n){function r(o,t,e){n.call(this),oa(this,{x:new Hc("X",e.location),y:new Hc("Y",e.location),type:e.type,threshold:o.threshold||Sx[e.type],userEvents:o,target:t,currentTarget:e.currentTarget,initialTouch:e.target,id:e.id,pressEvent:e,_clicks:o._clicks,supportDoubleTap:o.supportDoubleTap,_moved:!1,_finished:!1})}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.press=function(){var t=this;this._holdTimeout=setTimeout(function(){return t._hold()},this.userEvents.minHold),this._trigger(Vf,this.pressEvent)},r.prototype._tap=function(t){var e=this;e.userEvents._clicks++,e.userEvents._clicks===1&&(e._clickTimeout=setTimeout(function(){e.userEvents._clicks===1?e._trigger(La,t):e._trigger(Ff,t),e.userEvents._clicks=0},wx))},r.prototype._hold=function(){this._trigger(zf,this.pressEvent)},r.prototype.move=function(t){var e=this,i=t.type!=="api"&&e.userEvents._shouldNotMove;if(!(e._finished||i)){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(!Ia.current||Ia.current===e.userEvents)e._start(t);else return e.dispose()}e._finished||e._trigger(xl,t)}},r.prototype.end=function(t){this.endTime=Er(),!this._finished&&(this._finished=!0,this._trigger(jf,t),this._moved?this._trigger(bl,t):this.supportDoubleTap?this._tap(t):this._trigger(La,t),clearTimeout(this._holdTimeout),this.dispose())},r.prototype.dispose=function(){var t=this.userEvents,e=t.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);var i=e.indexOf(this);e.splice(i,1)},r.prototype.skip=function(){this.dispose()},r.prototype.cancel=function(){this.dispose()},r.prototype.isMoved=function(){return this._moved},r.prototype._start=function(t){clearTimeout(this._holdTimeout),this.startTime=Er(),this._moved=!0,this._trigger(Bf,t)},r.prototype._trigger=function(t,e){var i=e.event,a={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(t,a)&&i.preventDefault()},r.prototype._withinIgnoreThreshold=function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold},r}(R);function Uc(n){for(var r=Ii.up.split(" "),o=0,t=r.length;o<t;o++)n(r[o])}var Ia=function(n){function r(o,t){n.call(this);var e=this,i,a=cn();if(this.support=a,t=t||{},this.options=t,i=e.filter=t.filter,e.threshold=t.threshold||Vc,e.minHold=t.minHold||Dc,e.touches=[],e._maxTouches=t.multiTouch?2:1,e.allowSelection=t.allowSelection,e.captureUpIfMoved=t.captureUpIfMoved,e._clicks=0,e.supportDoubleTap=t.supportDoubleTap,oa(e,{element:o,surface:t.surface||o,stopPropagation:t.stopPropagation,pressed:!1}),this._surfaceMoveHandler=this._move.bind(this),Wt(e.surface,Ee("move"),this._surfaceMoveHandler),this._surfaceEndHandler=this._end.bind(this),Wt(e.surface,Ee("up cancel"),this._surfaceEndHandler),this._elementStartHandler=this._start.bind(this),Wt(o,Ee("down"),i,this._elementStartHandler),o.style["touch-action"]=t.touchAction||"none",t.preventDragEvent&&(this._elementDragStartHandler=bx,Wt(o,Ee("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=this._select.bind(this),Wt(o,Ee("mousedown"),i,this._elementSelectHandler),e.captureUpIfMoved){var s=e.surface,l=e.preventIfMoving.bind(e);Uc(function(p){s.addEventListener(p,l,!0)})}e.bind([Vf,zf,La,Ff,Bf,xl,bl,jf,Bc,Ax,Fc,jc,Nc,zc],t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.preventIfMoving=function(t){this._isMoved()&&t.preventDefault()},r.prototype.destroy=function(){var t=this,e=this.options,i=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved){var a=t.surface;Uc(function(s){a.removeEventListener(s,t.preventIfMoving)})}te(t.surface,Ee("move"),this._surfaceMoveHandler),te(t.surface,Ee("up cancel"),this._surfaceEndHandler),te(i,Ee("down"),this._elementStartHandler),e.preventDragEvent&&te(i,Ee("dragstart"),this._elementDragStartHandler),te(i,Ee("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},r.prototype.capture=function(){r.current=this},r.prototype.cancel=function(){this._disposeAll(),this.trigger(Bc)},r.prototype.notify=function(t,e){var i=this,a=i.touches,s=t;if(this._isMultiTouch()){switch(s){case xl:s=Fc;break;case bl:s=jc;break;case La:s=Nc;break}oa(e,{touches:a},kx(a[0],a[1]))}return this.trigger(s,oa(e,{type:s}))},r.prototype.press=function(t,e,i){this._apiCall("_start",t,e,i)},r.prototype.move=function(t,e){this._apiCall("_move",t,e)},r.prototype.end=function(t,e){this._apiCall("_end",t,e)},r.prototype._isMultiTouch=function(){return this.touches.length>1},r.prototype._maxTouchesReached=function(){return this.touches.length>=this._maxTouches},r.prototype._disposeAll=function(){for(var t=this.touches;t.length>0;)t.pop().dispose()},r.prototype._isMoved=function(){return oe(this.touches,function(t){return t.isMoved()}).length},r.prototype._select=function(t){(!this.allowSelection||this.trigger(zc,{event:t}))&&t.preventDefault()},r.prototype._start=function(t){var e=this;if(!(t.which&&t.which>1||this._maxTouchesReached())){r.current=null,this.currentTarget=t.currentTarget,this.stopPropagation&&t.stopPropagation();for(var i,a=$c(t),s=0;s<a.length&&!e._maxTouchesReached();s++){var l=a[s];if(e.filter?i=l.currentTarget:i=e.element,!(i&&i.length===0)){var p=new Tx(e,i,l);e.touches.push(p),p.press(),e._isMultiTouch()&&e.notify("gesturestart",{})}}}},r.prototype._move=function(t){this._eachTouch("move",t)},r.prototype._end=function(t){this._eachTouch("end",t)},r.prototype._eachTouch=function(t,e){var i=this,a=this,s={},l=$c(e),p=a.touches,h,c,u,v;for(h=0;h<p.length;h++)c=p[h],s[c.id]=c;for(h=0;h<l.length;h++)if(u=l[h],v=s[u.id],v){var f=t==="move"&&u.type==="pointer"&&!i.surface.hasPointerCapture(u.id);f&&i.surface.setPointerCapture(u.id),v[t](u)}},r.prototype._apiCall=function(t,e,i,a){this[t]({api:!0,pageX:e,pageY:i,clientX:e,clientY:i,target:a||this.element,stopPropagation:Ec,preventDefault:Ec})},r.defaultThreshold=function(t){Vc=t},r.minHold=function(t){Dc=t},r}(xe);function io(n,r){var o=M(r-n,nt-1);if(o===0){if(r===0)return .1;o=Math.abs(r)}var t=Math.pow(10,Math.floor(Math.log(o)/Math.log(10))),e=M(o/t,nt),i=1;return e<1.904762?i=.2:e<4.761904?i=.5:e<9.523809?i=1:i=2,M(t*i,nt)}var F=function(n){function r(o,t){n.call(this),this.x=o||0,this.y=t||0}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},r.prototype.rotate=function(t,e){var i=bt(e),a=Math.cos(i),s=Math.sin(i),l=t.x,p=t.y,h=this,c=h.x,u=h.y;return this.x=M(l+(c-l)*a+(u-p)*s,Tt),this.y=M(p+(u-p)*a-(c-l)*s,Tt),this},r.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},r.prototype.distanceTo=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},r.onCircle=function(t,e,i){var a=bt(e);return new r(t.x-i*Math.cos(a),t.y-i*Math.sin(a))},r}(R),P=function(n){function r(o,t,e,i){n.call(this),this.x1=o||0,this.y1=t||0,this.x2=e||0,this.y2=i||0}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},r.prototype.width=function(){return this.x2-this.x1},r.prototype.height=function(){return this.y2-this.y1},r.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},r.prototype.move=function(t,e){var i=this.height(),a=this.width();return w(t)&&(this.x1=t,this.x2=this.x1+a),w(e)&&(this.y1=e,this.y2=this.y1+i),this},r.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},r.prototype.wrapPoint=function(t){var e=Lt(t),i=e?t[0]:t.x,a=e?t[1]:t.y;return this.wrap(new r(i,a,i,a)),this},r.prototype.snapTo=function(t,e){return(e===E||!e)&&(this.x1=t.x1,this.x2=t.x2),(e===L||!e)&&(this.y1=t.y1,this.y2=t.y2),this},r.prototype.alignTo=function(t,e){var i=this.height(),a=this.width(),s=e===G||e===Y?L:E,l=s===L?i:a;if(e===N){var p=t.center(),h=this.center();this.x1+=p.x-h.x,this.y1+=p.y-h.y}else e===G||e===U?this[s+1]=t[s+1]-l:this[s+1]=t[s+2];return this.x2=this.x1+a,this.y2=this.y1+i,this},r.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},r.prototype.expand=function(t,e){return this.shrink(-t,-e),this},r.prototype.pad=function(t){var e=J(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},r.prototype.unpad=function(t){var e=J(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},r.prototype.clone=function(){return new r(this.x1,this.y1,this.x2,this.y2)},r.prototype.center=function(){return new F(this.x1+this.width()/2,this.y1+this.height()/2)},r.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},r.prototype.points=function(){return[new F(this.x1,this.y1),new F(this.x2,this.y1),new F(this.x2,this.y2),new F(this.x1,this.y2)]},r.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},r.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},r.prototype.rotate=function(t){var e=this.width(),i=this.height(),a=this.center(),s=a.x,l=a.y,p=Hn(0,0,s,l,t),h=Hn(e,0,s,l,t),c=Hn(e,i,s,l,t),u=Hn(0,i,s,l,t);return e=Math.max(p.x,h.x,c.x,u.x)-Math.min(p.x,h.x,c.x,u.x),i=Math.max(p.y,h.y,c.y,u.y)-Math.min(p.y,h.y,c.y,u.y),this.x2=this.x1+e,this.y2=this.y1+i,this},r.prototype.toRect=function(){return new X([this.x1,this.y1],[this.width(),this.height()])},r.prototype.hasSize=function(){return this.width()!==0&&this.height()!==0},r.prototype.align=function(t,e,i){var a=e+1,s=e+2,l=e===E?Ma:Ca,p=this[l]();H(i,[U,G])?(this[a]=t[a],this[s]=this[a]+p):H(i,[Z,Y])?(this[s]=t[s],this[a]=this[s]-p):i===N&&(this[a]=t[a]+(t[l]()-p)/2,this[s]=this[a]+p)},r}(R);function Hn(n,r,o,t,e){var i=bt(e);return new F(o+(n-o)*Math.cos(i)+(r-t)*Math.sin(i),t-(n-o)*Math.sin(i)+(r-t)*Math.cos(i))}var un=function(n){function r(o,t,e,i,a){n.call(this),this.center=o,this.innerRadius=t,this.radius=e,this.startAngle=i,this.angle=a}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},r.prototype.middle=function(){return this.startAngle+this.angle/2},r.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},r.prototype.point=function(t,e){var i=bt(t),a=Math.cos(i),s=Math.sin(i),l=e?this.innerRadius:this.radius,p=M(this.center.x-a*l,Tt),h=M(this.center.y-s*l,Tt);return new F(p,h)},r.prototype.adjacentBox=function(t,e,i){var a=this.clone().expand(t),s=a.middle(),l=a.point(s),p=e/2,h=i/2,c=Math.sin(bt(s)),u=Math.cos(bt(s)),v=l.x-p,f=l.y-h;return Math.abs(c)<.9&&(v+=p*-u/Math.abs(u)),Math.abs(u)<.9&&(f+=h*-c/Math.abs(c)),new P(v,f,v+e,f+i)},r.prototype.containsPoint=function(t){var e=this.center,i=this.innerRadius,a=this.radius,s=this.startAngle,l=this.startAngle+this.angle,p=t.x-e.x,h=t.y-e.y,c=new F(p,h),u=this.point(s),v=new F(u.x-e.x,u.y-e.y),f=this.point(l),d=new F(f.x-e.x,f.y-e.y),g=M(p*p+h*h,Tt);return(v.equals(c)||Ac(v,c))&&!Ac(d,c)&&g>=i*i&&g<=a*a},r.prototype.getBBox=function(){var t=this,e=new P(_t,_t,wt,wt),i=M(this.startAngle%360),a=M((i+this.angle)%360),s=this.innerRadius,l=[0,90,180,270,i,a].sort(Cx),p=l.indexOf(i),h=l.indexOf(a),c;i===a?c=l:p<h?c=l.slice(p,h+1):c=[].concat(l.slice(0,h+1),l.slice(p,l.length));for(var u=0;u<c.length;u++){var v=t.point(c[u]);e.wrapPoint(v),e.wrapPoint(v,s)}return s||e.wrapPoint(this.center),e},r.prototype.expand=function(t){return this.radius+=t,this},r}(R);function Cx(n,r){return n-r}(function(n){function r(o,t,e,i){n.call(this,o,0,t,e,i)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.expand=function(t){return n.prototype.expand.call(this,t)},r.prototype.clone=function(){return new r(this.center,this.radius,this.startAngle,this.angle)},r.prototype.setRadius=function(t){return this.radius=t,this},r})(un);var Px=.001,Ni=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createRing=function(t,e){var i=t.startAngle+180,a=t.angle+i;(t.angle===0||t.angle>0&&i===a)&&(a+=Px);var s=new T(t.center.x,t.center.y),l=Math.max(t.radius,0),p=Math.max(t.innerRadius,0),h=new Rr(s,{startAngle:i,endAngle:a,radiusX:l,radiusY:l}),c=O.fromArc(h,e).close();if(p){h.radiusX=h.radiusY=p;var u=h.pointAt(a);c.lineTo(u.x,u.y),c.arc(a,i,p,p,!0)}else c.lineTo(s.x,s.y);return c},r}(R);Ni.current=new Ni;var tt=function(n){function r(o){n.call(this),this.children=[],this.options=_({},this.options,this.initUserOptions(o))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initUserOptions=function(t){return t},r.prototype.reflow=function(t){for(var e=this.children,i,a=0;a<e.length;a++){var s=e[a];s.reflow(t),i=i?i.wrap(s.box):s.box.clone()}this.box=i||t},r.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},r.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},r.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},r.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},r.prototype.translateChildren=function(t,e){for(var i=this.children,a=i.length,s=0;s<a;s++)i[s].box.translate(t,e)},r.prototype.append=function(){for(var t=arguments,e=this,i=0;i<arguments.length;i++){var a=t[i];e.children.push(a),a.parent=e}},r.prototype.renderVisual=function(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},r.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},r.prototype.renderChildren=function(){for(var t=this.children,e=t.length,i=0;i<e;i++)t[i].renderVisual()},r.prototype.createVisual=function(){this.visual=new Q({zIndex:this.options.zIndex,visible:j(this.options.visible,!0)})},r.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=_e.create(this.visual,this.options.animation))},r.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):w(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},r.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},r.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},r.prototype.stackVisual=function(t){var e=t.options.zIndex||0,i=this.visual.children,a=i.length,s;for(s=0;s<a;s++){var l=i[s],p=j(l.options.zIndex,0);if(p>e)break}this.visual.insert(s,t)},r.prototype.traverse=function(t){for(var e=this.children,i=e.length,a=0;a<i;a++){var s=e[a];t(s),s.traverse&&s.traverse(t)}},r.prototype.closest=function(t){for(var e=this,i=!1;e&&!i;)i=t(e),i||(e=e.parent);if(i)return e},r.prototype.renderComplete=function(){},r.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&t.visible===!1||this.visible===!1)},r.prototype.toggleHighlight=function(t,e){var i=this,a=(this.options||{}).highlight||{},s=a.visual,l=this._highlight;if(!l){var p={fill:{color:q,opacity:e||.2},stroke:{color:q,width:1,opacity:e||.2}};if(s){if(l=this._highlight=s(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return i.createHighlight(p)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!l)return}else l=this._highlight=this.createHighlight(p);w(l.options.zIndex)||(l.options.zIndex=j(a.zIndex,this.options.zIndex)),this.appendVisual(l)}l.visible(t)},r.prototype.toggleFocusHighlight=function(t){var e=(this.options||{}).focusHighlight||{},i=this._focusHighlight;if(!(!t&&!i)){if(!i){var a=this.getRoot().options.background,s=ss(a),l={fill:{opacity:e.opacity,color:e.color},stroke:Object.assign({},{color:s},e.border),zIndex:e.zIndex};i=this._focusHighlight=this.createFocusHighlight(l),this.appendVisual(i)}i.visible(t)}},r.prototype.createGradientOverlay=function(t,e,i){var a=new O(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:t.options.closed},e));return a.segments.elements(t.segments.elements()),a},r.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},r.prototype.supportsPointInactiveOpacity=function(){return!0},r}(R);tt.prototype.options={};var Mx=Rm,Ox=Em,Rx=Lm,Ex=Im,Lx=Dm,Ix={dots:Mx,verticalStripes:Ox,crosshatch:Rx,diagonalStripes:Ex,grid:Lx};function Dx(n,r){return lt(n)?n(r):n}function Fr(n,r,o){var t=Dx(n,o),e=t&&Ix[t.type];return e?e(Object.assign({},r,t)):r}var Lr=function(n){function r(o){n.call(this,o),this.options.margin=J(this.options.margin),this.options.padding=J(this.options.padding)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=this.options,a=i.width,s=i.height,l=i.shrinkToFit,p=a&&s,h=i.margin,c=i.padding,u=i.border.width,v,f=function(){e.align(t,E,i.align),e.align(t,L,i.vAlign),e.paddingBox=v.clone().unpad(h).unpad(u)},d=t.clone();p&&(d.x2=d.x1+a,d.y2=d.y1+s),l&&d.unpad(h).unpad(u).unpad(c),n.prototype.reflow.call(this,d),p?v=this.box=new P(0,0,a,s):v=this.box,l&&p?(f(),d=this.contentBox=this.paddingBox.clone().unpad(c)):(d=this.contentBox=v.clone(),v.pad(c).pad(u).pad(h),f()),this.translateChildren(v.x1-d.x1+h.left+u+c.left,v.y1-d.y1+h.top+u+c.top);for(var g=this.children,y=0;y<g.length;y++){var m=g[y];m.reflow(m.box)}},r.prototype.align=function(t,e,i){this.box.align(t,e,i)},r.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},r.prototype.createVisual=function(){n.prototype.createVisual.call(this);var t=this.options;t.visible&&this.hasBox()&&this.visual.append(O.fromRect(this.paddingBox.toRect(),this.visualStyle()))},r.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:j(e.opacity,t.opacity),dashType:e.dashType},fill:Fr(t.pattern,{color:t.background,opacity:t.opacity},void 0),cursor:t.cursor}},r}(tt);S(Lr,{align:U,vAlign:G,margin:{},padding:{},border:{color:dt,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});function fp(n,r){r&&(n.options.className=r.className,n.options.role=r.role,n.options.ariaLabel=r.ariaLabel,n.options.ariaRoleDescription=r.ariaRoleDescription,n.options.ariaChecked=r.ariaChecked)}var qt=function(n){function r(o,t){n.call(this,o),this.pointData=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=this,e=t.options,i=t.paddingBox,a=e.type,s=e.rotation,l=i.center(),p=i.width()/2,h=i.height()/2;if(!e.visible||!this.hasBox())return null;var c=this.visualStyle(),u;if(a===Zt)u=new re(new Bt([M(i.x1+p,Tt),M(i.y1+h,Tt)],Math.min(p,h)),c);else if(a===U_)u=O.fromPoints([[i.x1+p,i.y1],[i.x1,i.y2],[i.x2,i.y2]],c).close();else if(a===lp)u=new Be(c),u.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),u.moveTo(i.x1,i.y2).lineTo(i.x2,i.y1);else{var v=i.toRect();if(a===wf){var f=j(e.borderRadius,v.width()/5);v.setCornerRadius(f)}u=O.fromRect(v,c)}return s&&u.transform(at().rotate(-s,[l.x,l.y])),u.options.zIndex=e.zIndex,u},r.prototype.createElement=function(){var t=this,e=this.options.visual,i=this.pointData||{},a;return e?a=e({value:i.value,dataItem:i.dataItem,sender:this.getSender(),series:i.series,category:i.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):a=this.getElement(),a},r.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},r.prototype.createVisual=function(){this.visual=this.createElement(),fp(this.visual,this.options.accessibilityOptions)},r}(Lr);S(qt,{type:Zt,align:N,vAlign:N});var Vx="linear",To="radial",zx={glass:{type:Vx,rotation:0,stops:[{offset:0,color:q,opacity:0},{offset:.25,color:q,opacity:.3},{offset:1,color:q,opacity:0}]},sharpBevel:{type:To,stops:[{offset:0,color:q,opacity:.55},{offset:.65,color:q,opacity:0},{offset:.95,color:q,opacity:.25}]},roundedBevel:{type:To,stops:[{offset:.33,color:q,opacity:.06},{offset:.83,color:q,opacity:.2},{offset:.95,color:q,opacity:0}]},roundedGlass:{type:To,supportVML:!1,stops:[{offset:0,color:q,opacity:0},{offset:.5,color:q,opacity:.3},{offset:.99,color:q,opacity:0}]},sharpGlass:{type:To,supportVML:!1,stops:[{offset:0,color:q,opacity:.2},{offset:.15,color:q,opacity:.15},{offset:.17,color:q,opacity:.35},{offset:.85,color:q,opacity:.05},{offset:.87,color:q,opacity:.15},{offset:.99,color:q,opacity:0}]},bubbleShadow:{type:To,center:[.5,.5],radius:.5}};function Bx(n,r){if(n.x1===r.x1&&n.y1===r.y1&&n.x2===r.x2&&n.y2===r.y2)return r;var o=Math.min(n.x1,r.x1),t=Math.max(n.x1,r.x1),e=Math.min(n.x2,r.x2),i=Math.max(n.x2,r.x2),a=Math.min(n.y1,r.y1),s=Math.max(n.y1,r.y1),l=Math.min(n.y2,r.y2),p=Math.max(n.y2,r.y2),h=[];return h[0]=new P(t,a,e,s),h[1]=new P(o,s,t,l),h[2]=new P(e,s,i,l),h[3]=new P(t,l,e,p),n.x1===o&&n.y1===a||r.x1===o&&r.y1===a?(h[4]=new P(o,a,t,s),h[5]=new P(e,l,i,p)):(h[4]=new P(e,a,i,s),h[5]=new P(o,l,t,p)),oe(h,function(c){return c.height()>0&&c.width()>0})[0]}var Nf=function(n){function r(o){n.call(this,o);var t=this.options;t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),this.gradients={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(){var t=this,e=t.options,i=t.children,a=new P(0,0,e.width,e.height);this.box=a.unpad(e.margin);for(var s=0;s<i.length;s++)i[s].reflow(a),a=Bx(a,i[s].box)||new P},r.prototype.createVisual=function(){this.visual=new Q,this.createBackground()},r.prototype.createBackground=function(){var t=this.options,e=t.border||{},i=this.box.clone().pad(t.margin).unpad(e.width),a=O.fromRect(i.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(a)},r.prototype.getRoot=function(){return this},r.prototype.createGradient=function(t){var e=this.gradients,i=rx(t),a=zx[t.gradient],s;if(e[i])s=e[i];else{var l=Object.assign({},a,t);a.type==="linear"?s=new ep(l):(t.innerRadius&&(l.stops=Fx(l)),s=new rp(l),s.supportVML=a.supportVML!==!1),e[i]=s}return s},r.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},r.prototype.size=function(){var t=this.options;return new P(0,0,t.width,t.height)},r}(tt);S(Nf,{width:pp,height:mf,background:q,border:{color:dt,width:0},margin:J(5),zIndex:-2});function Fx(n){for(var r=n.stops,o=n.innerRadius/n.radius*100,t=r.length,e=[],i=0;i<t;i++){var a=Object.assign({},r[i]);a.offset=(a.offset*(100-o)+o)/100,e.push(a)}return e}var ls=function(n){function r(o){n.call(this,o),this._initDirection()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=E,this.elementAxis=L,this.groupSizeField=Ma,this.elementSizeField=Ca,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=L,this.elementAxis=E,this.groupSizeField=Ca,this.elementSizeField=Ma,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},r.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},r.prototype.reflowChildren=function(){var t=this,e=this,i=e.box,a=e.elementAxis,s=e.groupAxis,l=e.elementSizeField,p=e.groupSizeField,h=this.groupOptions(),c=h.groups,u=h.groupsSize,v=h.maxGroupElementsSize,f=c.length,d=i[s+1]+this.alignStart(u,i[p]());if(f){for(var g=d,y=0;y<f;y++){for(var m=c[y],x=m.groupElements,b=i[a+1],A=x.length,k=0;k<A;k++){var C=x[k],I=t.elementSize(C),$=g+t.alignStart(I[p],m.groupSize),B=new P;B[s+1]=$,B[s+2]=$+I[p],B[a+1]=b,B[a+2]=b+I[l],C.reflow(B),b+=I[l]+t.elementSpacing}g+=m.groupSize+t.groupSpacing}i[s+1]=d,i[s+2]=d+u,i[a+2]=i[a+1]+v}},r.prototype.alignStart=function(t,e){var i=0,a=this.options.align;return a===Z||a===Y?i=e-t:a===N&&(i=(e-t)/2),i},r.prototype.groupOptions=function(){for(var t=this,e=this,i=e.box,a=e.children,s=e.elementSizeField,l=e.groupSizeField,p=e.elementSpacing,h=e.groupSpacing,c=M(i[s]()),u=a.length,v=[],f=0,d=0,g=0,y=0,m=[],x=0;x<u;x++){var b=a[x];b.box||b.reflow(i);var A=t.elementSize(b);t.options.wrap&&M(d+p+A[s])>c&&(v.push({groupElements:m,groupSize:f,groupElementsSize:d}),y=Math.max(y,d),g+=h+f,f=0,d=0,m=[]),f=Math.max(f,A[l]),d>0&&(d+=p),d+=A[s],m.push(b)}return v.push({groupElements:m,groupSize:f,groupElementsSize:d}),y=Math.max(y,d),g+=f,{groups:v,groupsSize:g,maxGroupElementsSize:y}},r.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},r.prototype.createVisual=function(){},r}(tt);S(ls,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var jx=af,$f=function(n){function r(o,t){n.call(this,t),this.content=o,this.reflow(new P)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this.options,i=e.size=es(this.content,{font:e.font});this.baseline=i.baseline,this.box=new P(t.x1,t.y1,t.x1+i.width,t.y1+i.height)},r.prototype.createVisual=function(){var t=this.options,e=t.font,i=t.color,a=t.opacity,s=t.cursor,l=t.stroke,p=t.paintOrder;this.visual=new jx(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:i,opacity:a},cursor:s,stroke:l,paintOrder:p})},r}(tt);S($f,{font:yf,color:dt});function $i(n){var r=n.origin,o=n.bottomRight();return new P(r.x,r.y,o.x,o.y)}var Nx=/\n/m,Qt=function(n){function r(o,t,e){n.call(this,t),this.content=o,this.data=e,this._initContainer(),this.options._autoReflow!==!1&&this.reflow(new P)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(Nx),i=new ls({vertical:!0,align:t.align,wrap:!1}),a=_({},t,{opacity:1,animation:null});this.container=i,this.append(i);for(var s=0;s<e.length;s++){var l=new $f(e[s].trim(),a);i.append(l)}},r.prototype.reflow=function(t){var e=this.options,i=e.visual;if(this.container.options.align=e.align,i&&!this._boxReflow){var a=t;a.hasSize()||(this._boxReflow=!0,this.reflow(a),this._boxReflow=!1,a=this.box);var s=this.visual=i(this.visualContext(a));s&&(a=$i(s.clippedBBox()||new X),s.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=a}else if(n.prototype.reflow.call(this,t),e.rotation){var l=J(e.margin),p=this.box.unpad(l);this.targetBox=t,this.normalBox=p.clone(),p=this.rotate(),p.translate(l.left-l.right,l.top-l.bottom),this.rotatedBox=p.clone(),p.pad(l)}},r.prototype.createVisual=function(){var t=this.options;if(this.visual=new Q({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=O.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},r.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var t=this.visual;t&&!w(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else n.prototype.renderVisual.call(this)},r.prototype.visualContext=function(t){var e=this,i={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(i,this.data),i},r.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},r.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,E,t.align),this.align(this.targetBox,L,t.vAlign),this.box},r.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),i=e.x,a=e.y,s=this.rotatedBox.center();return at().translate(s.x-i,s.y-a).rotate(t,[i,a])},r}(Lr),Di=function(n){function r(o){n.call(this,o),this._textBox=new Qt(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){n.prototype.reflow.call(this,t),this.box.snapTo(t,E)},r.buildTitle=function(t,e){var i=t;typeof t=="string"&&(i={text:t}),i=Object.assign({visible:!0},e,i);var a;return i&&i.visible&&i.text&&(a=new r(i)),a},r.orderTitles=function(t){var e=[].concat(t),i=e.filter(function(s){return s&&s.options.position!==Y}),a=e.filter(function(s){return s&&s.options.position===Y});return Gc(i),Gc(a),a.reverse(),i.concat(a)},r}(tt);function Gc(n){for(var r=1;r<n.length;r++){var o=n[r]._textBox,t=n[r-1]._textBox;t.options.margin=Object.assign(J(t.options.margin),{bottom:0}),o.options.margin=Object.assign(J(o.options.margin),{top:0})}}S(Di,{color:dt,position:G,align:N,margin:J(5),padding:J(5)});var Ir=function(n){function r(o,t,e,i,a){n.call(this,t,a),this.text=t,this.value=o,this.index=e,this.dataItem=i,this.reflow(new P)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.visualContext=function(t){var e=n.prototype.visualContext.call(this,t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e},r.prototype.click=function(t,e){t.trigger(B_,{element:ke(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},r.prototype.rotate=function(){if(this.options.alignRotation!==N){var t=this.normalBox.toRect(),e=this.rotationTransform();this.box=$i(t.bbox(e.matrix()))}else n.prototype.rotate.call(this);return this.box},r.prototype.rotationTransform=function(){var t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===N)return n.prototype.rotationTransform.call(this);var i=at().rotate(e).matrix(),a=this.normalBox.toRect(),s=this.targetBox.toRect(),l=t.rotationOrigin||G,p=l===G||l===Y?E:L,h=l===G||l===Y?L:E,c=l===G||l===U?s.origin:s.bottomRight(),u=a.topLeft().transformCopy(i),v=a.topRight().transformCopy(i),f=a.bottomRight().transformCopy(i),d=a.bottomLeft().transformCopy(i),g=X.fromPoints(u,v,f,d),y={};y[h]=s.origin[h]-g.origin[h];var m=Math.abs(u[h]+y[h]-c[h]),x=Math.abs(v[h]+y[h]-c[h]),b,A;M(m,nt)===M(x,nt)?(b=u,A=v):x<m?(b=v,A=f):(b=u,A=d);var k=b[p]+(A[p]-b[p])/2;return y[p]=s.center()[p]-k,at().translate(y.x,y.y).rotate(e)},r}(Qt);S(Ir,{_autoReflow:!1});var Wc=7,$x="#fff",dp=function(n){function r(o,t,e){n.call(this,t),this.fields=o,this.chartService=e,this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.hide=function(){this.options.visible=!1},r.prototype.show=function(){this.options.visible=!0},r.prototype.render=function(){var t=this,e=this.options;if(e.visible){var i=e.label,a=e.icon,s=new P,l=function(){return t},p=a.size,h=this.fields.text,c,u;if(w(i)&&i.visible){var v=Ct(i);v?h=v(this.fields):i.format&&(h=this.chartService.format.auto(i.format,h)),i.color||(i.color=i.position===fl?$x:a.background),this.label=new Qt(h,_({},i)),this.label.aliasFor=l,i.position===fl&&!w(p)&&(a.type===Zt?p=Math.max(this.label.box.width(),this.label.box.height()):(c=this.label.box.width(),u=this.label.box.height()),s.wrap(this.label.box))}a.width=c||p||Wc,a.height=u||p||Wc;var f=new qt(_({},a));f.aliasFor=l,this.marker=f,this.append(f),this.label&&this.append(this.label),f.reflow(new P),this.wrapperBox=s.wrap(f.box)}},r.prototype.reflow=function(t){var e=this,i=e.options,a=e.label,s=e.marker,l=e.wrapperBox,p=t.center(),h=i.line.length,c=i.position;if(i.visible){var u,v,f;H(c,[U,Z])?c===U?(f=l.alignTo(t,c).translate(-h,t.center().y-l.center().y),i.line.visible&&(u=[t.x1,p.y],this.linePoints=[u,[f.x2,p.y]],v=f.clone().wrapPoint(u))):(f=l.alignTo(t,c).translate(h,t.center().y-l.center().y),i.line.visible&&(u=[t.x2,p.y],this.linePoints=[u,[f.x1,p.y]],v=f.clone().wrapPoint(u))):c===Y?(f=l.alignTo(t,c).translate(t.center().x-l.center().x,h),i.line.visible&&(u=[p.x,t.y2],this.linePoints=[u,[p.x,f.y1]],v=f.clone().wrapPoint(u))):(f=l.alignTo(t,c).translate(t.center().x-l.center().x,-h),i.line.visible&&(u=[p.x,t.y1],this.linePoints=[u,[p.x,f.y2]],v=f.clone().wrapPoint(u))),s&&s.reflow(f),a&&(a.reflow(f),s&&(i.label.position===ia&&a.box.alignTo(s.box,c),a.reflow(a.box))),this.contentBox=f,this.targetBox=t,this.box=v||f}},r.prototype.createVisual=function(){n.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},r.prototype.renderVisual=function(){var t=this,e=this.options,i=e.visual;e.visible&&i?(this.visual=i(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:e.background,border:e.background,icon:e.icon,label:e.label,line:e.line,position:e.position,visible:e.visible},createVisual:function(){t.createVisual(),t.renderChildren();var a=t.visual;return delete t.visual,a}})),this.addVisual()):n.prototype.renderVisual.call(this)},r.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=O.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});ie(e),this.visual.append(e)}},r.prototype.click=function(t,e){var i=this.eventArgs(e);t.trigger(N_,i)||e.preventDefault()},r.prototype.over=function(t,e){var i=this.eventArgs(e);t.trigger($_,i)||e.preventDefault()},r.prototype.out=function(t,e){var i=this.eventArgs(e);t.trigger(H_,i)},r.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:ke(t),text:w(e.label)?e.label.text:"",visual:this.visual})},r}(Lr);S(dp,{icon:{visible:!0,type:Zt},label:{position:fl,visible:!0,align:N,vAlign:N},line:{visible:!0},visible:!0,position:G,zIndex:2});var Hx={format:function(n,r){return r},toString:function(n){return n},parseDate:function(n){return new Date(n)},firstDay:function(){return 0}},Hf=Hx,ps=function(){},Uf={implementation:{configurable:!0}};ps.register=function(r){Hf=r};Uf.implementation.get=function(){return Hf};Object.defineProperties(ps,Uf);var Ux=/\{(\d+)(:[^\}]+)?\}/g,hs=function(r){this._intlService=r},gp={intl:{configurable:!0}};gp.intl.get=function(){return this._intlService||ps.implementation};gp.intl.set=function(n){this._intlService=n};hs.prototype.auto=function(r){for(var o=[],t=arguments.length-1;t-- >0;)o[t]=arguments[t+1];var e=this.intl;return Kt(r)&&r.match(_f)?e.format.apply(e,[r].concat(o)):e.toString(o[0],r)};hs.prototype.localeAuto=function(r,o,t){var e=this.intl,i;return Kt(r)&&r.match(_f)?i=r.replace(Ux,function(a,s,l){var p=o[parseInt(s,10)];return e.toString(p,l?l.substring(1):"",t)}):i=e.toString(o[0],r,t),i};Object.defineProperties(hs.prototype,gp);var oo=function(r,o){o===void 0&&(o={}),this._intlService=o.intlService,this.sender=o.sender||r,this.format=new hs(o.intlService),this.chart=r,this.rtl=!!o.rtl},yp={intl:{configurable:!0}};yp.intl.get=function(){return this._intlService||ps.implementation};yp.intl.set=function(n){this._intlService=n,this.format.intl=n};oo.prototype.notify=function(r,o){this.chart&&this.chart.trigger(r,o)};oo.prototype.isPannable=function(r){var o=((this.chart||{}).options||{}).pannable;return o&&o.lock!==r};Object.defineProperties(oo.prototype,yp);var wl,cs=function(){};cs.register=function(r){wl=r};cs.create=function(r,o){var t;return wl?t=wl.create(r,o):t=new Ia(r,Object.assign({},{multiTouch:!0},o)),t};function Gf(n,r){var o=n.tickX,t=n.tickY,e=n.position,i=new O({stroke:{width:r.width,color:r.color}});return n.vertical?i.moveTo(o,e).lineTo(o+r.size,e):i.moveTo(e,t).lineTo(e,t+r.size),ie(i),i}function Wf(n,r){var o=n.lineStart,t=n.lineEnd,e=n.position,i=new O({stroke:{width:r.width,color:r.color,dashType:r.dashType}});return n.vertical?i.moveTo(o,e).lineTo(t,e):i.moveTo(e,o).lineTo(e,t),ie(i),i}var no=function(n){function r(o,t){t===void 0&&(t=new oo),n.call(this,o),this.chartService=t,this.options.visible||(this.options=_({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=_({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==dl},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=_({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==dl},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){},r.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},r.prototype.normalizeLabelRotation=function(t){var e=t.rotation;ye(e)&&(t.alignRotation=e.align,t.rotation=e.angle)},r.prototype.createLabels=function(){var t=this,e=this.options,i=e.vertical?Z:N,a=_({},e.labels,{align:i,zIndex:e.zIndex}),s=Math.max(1,a.step);if(this.clearLabels(),a.visible){this.normalizeLabelRotation(a),a.rotation==="auto"&&(a.rotation=0,e.autoRotateLabels=!0);for(var l=this.labelsRange(),p=l.min;p<l.max;p+=s){var h={index:p,count:l.max},c=t.createAxisLabel(p,a,h);c&&(t.append(c),t.labels.push(c))}}},r.prototype.clearLabels=function(){this.children=oe(this.children,function(t){return!(t instanceof Ir)}),this.labels=[]},r.prototype.clearTitle=function(){var t=this;this.title&&(this.children=oe(this.children,function(e){return e!==t.title}),this.title=void 0)},r.prototype.clear=function(){this.clearLabels(),this.clearTitle()},r.prototype.lineBox=function(){var t=this,e=t.options,i=t.box,a=e.vertical,s=e.labels.mirror,l=s?i.x1:i.x2,p=s?i.y2:i.y1,h=e.line.width||0;return a?new P(l,i.y1,l,i.y2-h):new P(i.x1,p,i.x2-h,p)},r.prototype.createTitle=function(){var t=this.options,e=_({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var i=new Qt(e.text,e);this.append(i),this.title=i}},r.prototype.createNotes=function(){var t=this,e=this.options,i=e.notes,a=i.data||[];this.notes=[];for(var s=0;s<a.length;s++){var l=_({},i,a[s]);l.value=t.parseNoteValue(l.value);var p=new dp({value:l.value,text:l.label.text,dataItem:l},l,t.chartService);p.options.visible&&(w(p.options.position)?e.vertical&&!H(p.options.position,[U,Z])?p.options.position=e.reverse?U:Z:!e.vertical&&!H(p.options.position,[G,Y])&&(p.options.position=e.reverse?Y:G):e.vertical?p.options.position=e.reverse?U:Z:p.options.position=e.reverse?Y:G,t.append(p),t.notes.push(p))}},r.prototype.parseNoteValue=function(t){return t},r.prototype.renderVisual=function(){n.prototype.renderVisual.call(this),this.createPlotBands()},r.prototype.createVisual=function(){n.prototype.createVisual.call(this),this.createBackground(),this.createLine()},r.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new Q({zIndex:-2}),this.appendVisual(this._gridLines)),t},r.prototype.createTicks=function(t){var e=this.options,i=this.lineBox(),a=e.labels.mirror,s=e.majorTicks.visible?e.majorUnit:0,l={vertical:e.vertical};function p(h,c,u){var v=h.length,f=Math.max(1,c.step);if(c.visible)for(var d=c.skip;d<v;d+=f)w(u)&&d%u===0||(l.tickX=a?i.x2:i.x2-c.size,l.tickY=a?i.y1-c.size:i.y1,l.position=h[d],t.append(Gf(l,c)))}p(this.getMajorTickPositions(),e.majorTicks),p(this.getMinorTickPositions(),e.minorTicks,s/e.minorUnit)},r.prototype.createLine=function(){var t=this.options,e=t.line,i=this.lineBox();if(e.width>0&&e.visible){var a=new O({stroke:{width:e.width,color:e.color,dashType:e.dashType}});a.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),t._alignLines&&ie(a);var s=this._lineGroup=new Q;s.append(a),this.visual.append(s),this.createTicks(s)}},r.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},r.prototype.createBackground=function(){var t=this,e=t.options,i=t.box,a=e.background;a&&(this._backgroundPath=O.fromRect(i.toRect(),{fill:{color:a},stroke:null}),this.visual.append(this._backgroundPath))},r.prototype.createPlotBands=function(){var t=this,e=this.options,i=e.plotBands||[],a=e.vertical,s=this.plotArea;if(i.length!==0){for(var l=this._plotbandGroup=new Q({zIndex:-1}),p=oe(this.pane.axes,function(m){return m.options.vertical!==t.options.vertical})[0],h=0;h<i.length;h++){var c=i[h],u=void 0,v=void 0,f=c.label,d=void 0;if(a?(u=(p||s.axisX).lineBox(),v=t.getSlot(c.from,c.to,!0)):(u=t.getSlot(c.from,c.to,!0),v=(p||s.axisY).lineBox()),f&&(f.vAlign=f.position||U,d=t.createPlotBandLabel(f,c,new P(u.x1,v.y1,u.x2,v.y2))),u.width()!==0&&v.height()!==0){var g=new X([u.x1,v.y1],[u.width(),v.height()]),y=O.fromRect(g,{fill:{color:c.color,opacity:c.opacity},stroke:null});l.append(y),d&&l.append(d)}}this.appendVisual(l)}},r.prototype.createPlotBandLabel=function(t,e,i){if(t.visible===!1)return null;var a=t.text,s;if(w(t)&&t.visible){var l=Ct(t);l?a=l({text:a,item:e}):t.format&&(a=this.chartService.format.auto(t.format,a)),t.color||(t.color=this.options.labels.color)}return s=new Qt(a,t),s.reflow(i),s.renderVisual(),s.visual},r.prototype.createGridLines=function(t){var e=this.options,i=e.minorGridLines,a=e.majorGridLines,s=e.minorUnit,l=e.vertical,p=t.options.line.visible,h=a.visible?e.majorUnit:0,c=t.lineBox(),u=c[l?"y1":"x1"],v={lineStart:c[l?"x1":"y1"],lineEnd:c[l?"x2":"y2"],vertical:l},f=[],d=this.gridLinesVisual();function g(y,m,x){var b=y.length,A=Math.max(1,m.step);if(m.visible)for(var k=m.skip;k<b;k+=A){var C=M(y[k]);H(C,f)||k%x!==0&&(!p||u!==C)&&(v.position=C,d.append(Wf(v,m)),f.push(C))}}return g(this.getMajorTickPositions(),a),g(this.getMinorTickPositions(),i,h/s),d.children},r.prototype.reflow=function(t){for(var e=this,i=e.options,a=e.labels,s=e.title,l=i.vertical,p=a.length,h=l?Ma:Ca,c=s?s.box[h]():0,u=this.getActualTickSize()+i.margin+c,v=(this.getRoot()||{}).box||t,f=v[h](),d=0,g=0;g<p;g++){var y=a[g].box[h]();y+u<=f&&(d=Math.max(d,y))}l?this.box=new P(t.x1,t.y1,t.x1+d+u,t.y2):this.box=new P(t.x1,t.y1,t.x2,t.y1+d+u),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},r.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},r.prototype.labelTickIndex=function(t){return t.index},r.prototype.arrangeLabels=function(){for(var t=this,e=this,i=e.options,a=e.labels,s=this.labelsBetweenTicks(),l=i.vertical,p=i.labels.mirror,h=this.getLabelsTickPositions(),c=0;c<a.length;c++){var u=a[c],v=t.labelTickIndex(u),f=l?u.box.height():u.box.width(),d=h[v],g=h[v+1],y=void 0,m=void 0;if(l){if(s){var x=d+(g-d)/2;y=x-f/2}else y=d-f/2;m=y}else s?(y=d,m=g):(y=d-f/2,m=y+f);t.positionLabel(u,p,y,m)}},r.prototype.positionLabel=function(t,e,i,a){a===void 0&&(a=i);var s=this.options,l=s.vertical,p=this.lineBox(),h=this.getActualTickSize()+s.margin,c;if(l){var u=p.x2;e?(u+=h,t.options.rotationOrigin=U):(u-=h+t.box.width(),t.options.rotationOrigin=Z),c=t.box.move(u,i)}else{var v=p.y1;e?(v-=h+t.box.height(),t.options.rotationOrigin=Y):(v+=h,t.options.rotationOrigin=G),c=new P(i,v,a,v+t.box.height())}t.reflow(c)},r.prototype.autoRotateLabelAngle=function(t,e){return t.width()<e?0:t.height()>e?-90:-45},r.prototype.autoRotateLabels=function(){var t=this;if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var e=this.getMajorTickPositions(),i=this.labels,a=Math.min(i.length,e.length-1),s=0,l=0;l<a;l++){var p=Math.abs(e[l+1]-e[l]),h=i[l].box,c=t.autoRotateLabelAngle(h,p);if(c!==0&&(s=c),s===-90)break}if(s!==0){for(var u=0;u<i.length;u++)i[u].options.rotation=s,i[u].reflow(new P);return!0}},r.prototype.arrangeTitle=function(){var t=this,e=t.options,i=t.title,a=e.labels.mirror,s=e.vertical;i&&(s?(i.options.align=a?Z:U,i.options.vAlign=i.options.position):(i.options.align=i.options.position,i.options.vAlign=a?G:Y),i.reflow(this.box))},r.prototype.arrangeNotes=function(){for(var t=this,e=0;e<this.notes.length;e++){var i=t.notes[e],a=i.options.value,s=void 0;w(a)?(t.shouldRenderNote(a)?i.show():i.hide(),s=t.noteSlot(a)):i.hide(),i.reflow(s||t.lineBox())}},r.prototype.noteSlot=function(t){return this.getSlot(t)},r.prototype.alignTo=function(t){var e=t.lineBox(),i=this.options.vertical,a=i?L:E;this.box.snapTo(e,a),i?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[a+1]-=this.lineBox()[a+1]-e[a+1],this.box[a+2]-=this.lineBox()[a+2]-e[a+2]},r.prototype.axisLabelText=function(t,e,i){var a=this,s,l=Ct(e),p=function(){return e.format?a.chartService.format.localeAuto(e.format,[t],e.culture):t};if(l){var h=Object.assign({},i,{get text(){return p()},value:t,format:e.format,culture:e.culture});s=l(h)}else s=p();return s},r.prototype.slot=function(t,e,i){var a=this.getSlot(t,e,i);if(a)return a.toRect()},r.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var i=this.options.vertical?L:E;if(this.chartService.isPannable(i)){var a=this.maxLabelOffset();t[i+1]-=a.start,t[i+2]+=a.end}else{e[0].options.visible&&t.wrap(e[0].box);var s=e[e.length-1];s.options.visible&&t.wrap(s.box)}}return t},r.prototype.maxLabelOffset=function(){for(var t=this,e=this.options,i=e.vertical,a=e.reverse,s=this.labelsBetweenTicks(),l=this.getLabelsTickPositions(),p=i?L:E,h=this.labels,c=a?1:0,u=a?0:1,v=0,f=0,d=0;d<h.length;d++){var g=h[d],y=t.labelTickIndex(g),m=void 0,x=void 0;s?(m=l[y+c],x=l[y+u]):m=x=l[y],v=Math.max(v,m-g.box[p+1]),f=Math.max(f,g.box[p+2]-x)}return{start:v,end:f}},r.prototype.limitRange=function(t,e,i,a,s){var l=this.options;if(t<i&&s<0&&(!w(l.min)||l.min<=i)||a<e&&s>0&&(!w(l.max)||a<=l.max))return null;if(e<i&&s>0||a<t&&s<0)return{min:t,max:e};var p=e-t,h=t,c=e;return t<i&&s<0?(h=V(t,i,a),c=V(t+p,i+p,a)):e>a&&s>0&&(c=V(e,i,a),h=V(e-p,i,a-p)),{min:h,max:c}},r.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},r.prototype.lineDir=function(){var t=this.options,e=t.vertical,i=t.reverse;return(e?-1:1)*(i?-1:1)},r.prototype.lineInfo=function(){var t=this.options,e=t.vertical,i=this.lineBox(),a=e?i.height():i.width(),s=e?L:E,l=this.lineDir(),p=l===1?1:2,h=s+p.toString(),c=i[h];return{axis:s,axisOrigin:h,axisDir:l,lineBox:i,lineSize:a,lineStart:c}},r.prototype.pointOffset=function(t){var e=this.lineInfo(),i=e.axis,a=e.axisDir,s=e.axisOrigin,l=e.lineBox,p=e.lineSize,h=a>0?t[i]-l[s]:l[s]-t[i],c=h/p;return c},r.prototype.scaleToDelta=function(t,e){var i=.999,a=V(t,-.999,i),s;return a>0?s=e*Math.min(1,a):s=e-e/(1+a),s},r.prototype.labelsBetweenTicks=function(){return!this.options.justified},r.prototype.prepareUserOptions=function(){},r}(tt);S(no,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:dt,visible:!0},title:{visible:!0,position:N},majorTicks:{align:ia,size:4,skip:0,step:1},minorTicks:{align:ia,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:ia,minorTickType:dl,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:dt,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Da="milliseconds",mp="seconds",_p="minutes",vn="hours",je="days",fn="weeks",si="months",nr="years",Gx=1,xp=1e3,ao=60*xp,us=60*ao,ar=24*us,bp=7*ar,wp=31*ar,Ap=365*ar,De={years:Ap,months:wp,weeks:bp,days:ar,hours:us,minutes:ao,seconds:xp,milliseconds:Gx};function Sp(n,r){var o=n.getTime()-r,t=n.getTimezoneOffset()-r.getTimezoneOffset();return o-t*ao}function kt(n,r){return new Date(n.getTime()+r)}function it(n){var r;return n instanceof Date?r=n:n&&(r=new Date(n)),r}function Wx(n,r){r===void 0&&(r=0);var o=0,t=n.getDay();if(!isNaN(t))for(;t!==r;)t===0?t=6:t--,o++;return kt(n,-o*ar)}function Un(n,r){return r===0&&n.getHours()===23?(n.setHours(n.getHours()+2),!0):!1}function Xx(n,r){var o=new Date(n);o.setMinutes(0,0,0);var t=(n.getTimezoneOffset()-o.getTimezoneOffset())*ao;return kt(o,t+r*us)}function Dt(n,r,o,t){var e=n;if(n){var i=it(n),a=i.getHours();o===nr?(e=new Date(i.getFullYear()+r,0,1),Un(e,0)):o===si?(e=new Date(i.getFullYear(),i.getMonth()+r,1),Un(e,a)):o===fn?(e=Dt(Wx(i,t),r*7,je),Un(e,a)):o===je?(e=new Date(i.getFullYear(),i.getMonth(),i.getDate()+r),Un(e,a)):o===vn?e=Xx(i,r):o===_p?(e=kt(i,r*ao),e.getSeconds()>0&&e.setSeconds(0)):o===mp?e=kt(i,r*xp):o===Da&&(e=kt(i,r)),o!==Da&&e.getMilliseconds()>0&&e.setMilliseconds(0)}return e}function kp(n,r,o){return Dt(it(n),0,r,o)}function Xf(n,r,o){var t=it(n);return t&&kp(t,r,o).getTime()===t.getTime()?t:Dt(t,1,r,o)}function Va(n,r){return n&&r?n.getTime()-r.getTime():-1}function Ve(n,r){return n.getTime()-r}function ot(n){if(Lt(n)){for(var r=[],o=0;o<n.length;o++)r.push(ot(n[o]));return r}else if(n)return it(n).getTime()}function za(n,r){return n&&r?ot(n)===ot(r):n===r}function Xc(n,r,o){return Sp(n,r)/De[o]}function li(n,r,o,t){var e=it(n),i=it(r),a;return o===si?a=e.getMonth()-i.getMonth()+(e.getFullYear()-i.getFullYear())*12+Xc(e,new Date(e.getFullYear(),e.getMonth()),je)/new Date(e.getFullYear(),e.getMonth()+1,0).getDate():o===nr?a=e.getFullYear()-i.getFullYear()+li(e,new Date(e.getFullYear(),0),si,1)/12:o===je||o===fn?a=Xc(e,i,o):a=Ve(e,r)/De[o],a/t}function Tp(n,r,o){var t;return o===nr?t=r.getFullYear()-n.getFullYear():o===si?t=Tp(n,r,nr)*12+r.getMonth()-n.getMonth():o===je?t=Math.floor(Ve(r,n)/ar):t=Math.floor(Ve(r,n)/De[o]),t}function Et(n,r){var o;return Kt(r)?o=n.parseDate(r)||it(r):o=it(r),o}function qf(n,r){if(Lt(r)){for(var o=[],t=0;t<r.length;t++)o.push(Et(n,r[t]));return o}return Et(n,r)}function Yf(n,r){return W(n.weekStartDay)?n.weekStartDay:r&&r.firstDay?r.firstDay():0}var qx=.01,qc=.1;function Yx(n,r){if(n instanceof Date){for(var o=r.length,t=0;t<o;t++)if(za(r[t],n))return t;return-1}return r.indexOf(n)}var ze=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){this._ticks={}},r.prototype.categoriesHash=function(){return""},r.prototype.clone=function(){var t=new r(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},r.prototype.initUserOptions=function(t){var e=t.categories||[],i=w(t.min),a=w(t.max);if(t.srcCategories=t.categories=e,(i||a)&&e.length){var s=i?Math.floor(t.min):0,l;a?l=t.justified?Math.floor(t.max)+1:Math.ceil(t.max):l=e.length,t.categories=t.categories.slice(s,l)}return t},r.prototype.rangeIndices=function(){var t=this.options,e=t.categories.length||1,i=W(t.min)?t.min%1:0,a;return W(t.max)&&t.max%1!==0&&t.max<this.totalRange().max?a=e-(1-t.max%1):a=e-(t.justified?1:0),{min:i,max:a}},r.prototype.range=function(){var t=this.options,e=W(t.min)?t.min:0,i=W(t.max)?t.max:this.totalRange().max;return{min:e,max:i}},r.prototype.roundedRange=function(){return this.range()},r.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},r.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,i=t.max,a=this.lineBox(),s=this.options.vertical?a.height():a.width(),l=s/(i-e||1);return{scale:l*(this.options.reverse?-1:1),box:a,min:e,max:i}},r.prototype.arrangeLabels=function(){n.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},r.prototype.hideOutOfRangeLabels=function(){var t=this,e=t.box,i=t.labels;if(i.length>0){var a=this.options.vertical?L:E,s=e[a+1],l=e[a+2],p=i[0],h=mt(i);(p.box[a+1]>l||p.box[a+2]<s)&&(p.options.visible=!1),(h.box[a+1]>l||h.box[a+2]<s)&&(h.options.visible=!1)}},r.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},r.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},r.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},r.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),i=e.min,a=e.max,s=Math.ceil(a),l=Math.floor(i),p=[];l<=s;)p.push(l),l+=t;return p},r.prototype.getTickPositions=function(t){for(var e=this.options,i=e.vertical,a=e.reverse,s=this.scaleOptions(),l=s.scale,p=s.box,h=s.min,c=p[(i?L:E)+(a?2:1)],u=this.tickIndices(t),v=[],f=0;f<u.length;f++)v.push(c+M(l*(u[f]-h),Tt));return v},r.prototype.getTicks=function(){var t=this.options,e=this._ticks,i=this.rangeIndices(),a=this.lineBox(),s=a.getHash()+i.min+","+i.max+t.reverse+t.justified;if(e._hash!==s){var l=t.minorTicks.visible||t.minorGridLines.visible;e._hash=s,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,a),e.minorTicks=l?this.filterOutOfRangePositions(this.getTickPositions(.5),a):[]}return e},r.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var i=this.options.vertical?L:E,a=function(h){return e[i+1]<=h&&h<=e[i+2]},s=t.length-1,l=0;!a(t[l])&&l<=s;)l++;for(var p=s;!a(t[p])&&p>=0;)p--;return t.slice(l,p+1)},r.prototype.lineInfo=function(){var t=this.options,e=t.vertical,i=t.reverse,a=this.lineBox(),s=e?a.height():a.width(),l=e?L:E,p=i?-1:1,h=p===1?1:2,c=l+h.toString(),u=a[c];return{axis:l,axisOrigin:c,axisDir:p,lineBox:a,lineSize:s,lineStart:u}},r.prototype.lineDir=function(){var t=this.options,e=t.reverse;return e?-1:1},r.prototype.getSlot=function(t,e,i){var a=this.options,s=a.reverse,l=a.justified,p=this.scaleOptions(),h=p.scale,c=p.box,u=p.min,v=this.lineInfo(),f=v.axis,d=v.lineStart,g=c.clone(),y=!w(e),m=j(t,0),x=j(e,m);x=Math.max(x-1,m),x=Math.max(m,x);var b=d+(m-u)*h,A=d+(x+1-u)*h;return y&&l&&(A=b),i&&(b=V(b,c[f+1],c[f+2]),A=V(A,c[f+1],c[f+2])),g[f+1]=s?A:b,g[f+2]=s?b:A,g},r.prototype.limitSlot=function(t){var e=this.options.vertical,i=e?L:E,a=this.lineBox(),s=t.clone();return s[i+1]=V(t[i+1],a[i+1],a[i+2]),s[i+2]=V(t[i+2],a[i+1],a[i+2]),s},r.prototype.slot=function(t,e,i){var a=Math.floor(this.options.min||0),s=t,l=e;return typeof s=="string"?s=this.categoryIndex(s):W(s)&&(s-=a),typeof l=="string"?l=this.categoryIndex(l):W(l)&&(l-=a),n.prototype.slot.call(this,s,l,i)},r.prototype.pointCategoryIndex=function(t){var e=this.options,i=e.reverse,a=e.justified,s=e.vertical,l=s?L:E,p=this.scaleOptions(),h=p.scale,c=p.box,u=p.min,v=p.max,f=i?v:u,d=c[l+1],g=c[l+2],y=t[l];if(y<d||y>g)return null;var m=f+(y-d)/h,x=m%1;return a?m=Math.round(m):x===0&&m>0&&m--,Math.floor(m)},r.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return e===null?null:this.options.categories[e]},r.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},r.prototype.categoryAt=function(t,e){var i=this.options;return(e?i.srcCategories:i.categories)[t]},r.prototype.categoriesCount=function(){return(this.options.categories||[]).length},r.prototype.translateRange=function(t){var e=this.options,i=this.lineBox(),a=e.vertical?i.height():i.width(),s=e.categories.length,l=a/s,p=M(t/l,nt);return{min:p,max:s+p}},r.prototype.scaleRange=function(t,e){var i=Math.abs(this.pointOffset(e)),a=this.limitedRangeIndices(),s=a.max-a.min,l=this.scaleToDelta(t,s),p=i*l,h=(1-i)*l,c=a.min+p,u=a.max-h;return u-c<qc&&(u=c+qc),{min:c,max:u}},r.prototype.zoomRange=function(t,e){var i=this.totalRange(),a=i.min,s=i.max,l=this.scaleRange(t,e);return{min:V(l.min,a,s),max:V(l.max,a,s)}},r.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},r.prototype.labelsRange=function(){var t=this.options,e=t.justified,i=t.labels,a=this.limitedRangeIndices(!0),s=a.min,l=a.max,p=Math.floor(s);e?(s=Math.ceil(s),l=Math.floor(l)):(s=Math.floor(s),l=Math.ceil(l));var h;return s>i.skip?h=i.skip+i.step*Math.ceil((s-i.skip)/i.step):h=i.skip,{min:h-p,max:(t.categories.length?l+(e?1:0):0)-p}},r.prototype.createAxisLabel=function(t,e,i){var a=this.options,s=a.dataItems?a.dataItems[t]:null,l=j(a.categories[t],"");i.dataItem=s;var p=this.axisLabelText(l,e,i);return new Ir(l,p,t,s,e)},r.prototype.shouldRenderNote=function(t){var e=this.limitedRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},r.prototype.noteSlot=function(t){var e=this.options,i=t-Math.floor(e.min||0);return this.getSlot(i)},r.prototype.arrangeNotes=function(){n.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},r.prototype.hideOutOfRangeNotes=function(){var t=this,e=t.notes,i=t.box;if(e&&e.length)for(var a=this.options.vertical?L:E,s=i[a+1],l=i[a+2],p=0;p<e.length;p++){var h=e[p];h.box&&(l<h.box[a+1]||h.box[a+2]<s)&&h.hide()}},r.prototype.pan=function(t){var e=this.limitedRangeIndices(!0),i=this.scaleOptions(),a=i.scale,s=M(t/a,nt),l=this.totalRange(),p=e.min+s,h=e.max+s;return this.limitRange(p,h,0,l.max,s)},r.prototype.pointsRange=function(t,e){var i=this.options,a=i.reverse,s=i.vertical,l=s?L:E,p=this.limitedRangeIndices(!0),h=this.scaleOptions(),c=h.scale,u=h.box,v=u[l+(a?2:1)],f=t[l]-v,d=e[l]-v,g=p.min+f/c,y=p.min+d/c,m=Math.min(g,y),x=Math.max(g,y);if(x-m>=qx)return{min:m,max:x}},r.prototype.valueRange=function(){return this.range()},r.prototype.totalIndex=function(t){var e=this.options,i=this._categoriesMap?this._categoriesMap.get(t):Yx(t,e.srcCategories);return i},r.prototype.currentRangeIndices=function(){var t=this.options,e=0;W(t.min)&&(e=Math.floor(t.min));var i;return W(t.max)?i=t.justified?Math.floor(t.max):Math.ceil(t.max)-1:i=this.totalCount()-1,{min:e,max:i}},r.prototype.limitedRangeIndices=function(t){var e=this.options,i=W(e.min)?e.min:0,a;if(W(e.max)?a=e.max:W(e.min)?a=i+e.categories.length:a=this.totalRange().max||1,t){var s=this.totalRange();i=V(i,0,s.max),a=V(a,0,s.max)}return{min:i,max:a}},r.prototype.totalRangeIndices=function(){return{min:0,max:this.totalRange().max||1}},r.prototype.indexCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new cp,e=this.options.srcCategories,i=0;i<e.length;i++)t.set(e[i],i)},r.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},r}(no);S(ze,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:dt},labels:{zIndex:1},justified:!1,_deferLabels:!0});var Zx=3e5,Zf={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Kf=.2,Kx="auto",Qe=[Da,mp,_p,vn,je,fn,si,nr],Ba="fit";function na(n,r){r&&(n._range=void 0);var o=n._range;return o||(o=n._range=ml(n),o.min=it(o.min),o.max=it(o.max)),o}var Ce=function(r){this.options=r};Ce.prototype.displayIndices=function(){return{min:0,max:1}};Ce.prototype.displayRange=function(){return{}};Ce.prototype.total=function(){return{}};Ce.prototype.valueRange=function(){return{}};Ce.prototype.valueIndex=function(){return-1};Ce.prototype.values=function(){return[]};Ce.prototype.totalIndex=function(){return-1};Ce.prototype.valuesCount=function(){return 0};Ce.prototype.totalCount=function(){return 0};Ce.prototype.dateAt=function(){return null};var Ut=function(r,o,t){this.options=t,t.baseUnitStep=t.baseUnitStep||1;var e=t.roundToBaseUnit,i=t.justified;this.start=Dt(r,0,t.baseUnit,t.weekStartDay);var a=this.roundToTotalStep(o),s=!i&&za(o,a)&&!t.justifyEnd;this.end=this.roundToTotalStep(o,!i,s?1:0);var l=t.min||r;this.valueStart=this.roundToTotalStep(l),this.displayStart=e?this.valueStart:l;var p=t.max;if(!p)this.valueEnd=a,this.displayEnd=e||s?this.end:o;else{var h=!i&&za(p,this.roundToTotalStep(p))?-1:0;this.valueEnd=this.roundToTotalStep(p,!1,h),this.displayEnd=e?this.roundToTotalStep(p,!i):t.max}this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};Ut.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}};Ut.prototype.displayIndices=function(){if(!this._indices){var r=this.options,o=r.baseUnit,t=r.baseUnitStep,e=li(this.displayStart,this.valueStart,o,t),i=li(this.displayEnd,this.valueStart,o,t);this._indices={min:e,max:i}}return this._indices};Ut.prototype.total=function(){return{min:this.start,max:this.end}};Ut.prototype.totalCount=function(){var r=this.totalIndex(this.end);return r+(this.options.justified?1:0)};Ut.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}};Ut.prototype.valueIndex=function(r){var o=this.options;return Math.floor(li(r,this.valueStart,o.baseUnit,o.baseUnitStep))};Ut.prototype.totalIndex=function(r){var o=this.options;return Math.floor(li(r,this.start,o.baseUnit,o.baseUnitStep))};Ut.prototype.dateIndex=function(r){var o=this.options;return li(r,this.valueStart,o.baseUnit,o.baseUnitStep)};Ut.prototype.valuesCount=function(){var r=this.valueIndex(this.valueEnd);return r+1};Ut.prototype.values=function(){var r=this._values;if(!r){var o=this.options,t=this.valueRange();this._values=r=[];for(var e=t.min;e<=t.max;)r.push(e),e=Dt(e,o.baseUnitStep,o.baseUnit,o.weekStartDay)}return r};Ut.prototype.dateAt=function(r,o){var t=this.options;return Dt(o?this.start:this.valueStart,t.baseUnitStep*r,t.baseUnit,t.weekStartDay)};Ut.prototype.roundToTotalStep=function(r,o,t){var e=this.options,i=e.baseUnit,a=e.baseUnitStep,s=e.weekStartDay,l=this.start,p=li(r,l,i,a),h=o?Math.ceil(p):Math.floor(p);return t&&(h+=t),Dt(l,h*a,i,s)};function Qf(n,r,o){for(var t=na(n.categories),e=(n.max||t.max)-(n.min||t.min),i=n.autoBaseUnitSteps,a=n.maxDateGroups,s=n.baseUnit===Ba,l=r?Qe.indexOf(r):0,p=s?Qe[l++]:n.baseUnit,h=e/De[p],c=h,u,v,f;!v||h>=a;){u=u||i[p].slice(0);do f=u.shift();while(f&&r===p&&f<o);if(f)v=f,h=c/v;else if(p===mt(Qe)){v=Math.ceil(c/a);break}else if(s)p=Qe[l++]||mt(Qe),c=e/De[p],u=null;else{h>a&&(v=Math.ceil(c/a));break}}n.baseUnitStep=v,n.baseUnit=p}function Qx(n){for(var r=n.categories,o=w(r)?r.length:0,t=_t,e,i,a=0;a<o;a++){var s=r[a];if(s&&e){var l=Math.abs(Sp(s,e));l!==0&&(t=Math.min(t,l),t>=Ap?i=nr:t>=wp-ar*3?i=si:t>=bp?i=fn:t>=ar?i=je:t>=us?i=vn:t>=ao?i=_p:i=mp)}e=s}n.baseUnit=i||je}function Jx(n){var r=(n.baseUnit||"").toLowerCase(),o=r!==Ba&&!H(r,Qe);return o&&Qx(n),(r===Ba||n.baseUnitStep===Kx)&&Qf(n),n}var dn=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){var t=new r(Object.assign({},this.options),this.chartService);return t.createLabels(),t},r.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},r.prototype.initUserOptions=function(t){return t},r.prototype.initFields=function(){n.prototype.initFields.call(this);var t=this.chartService,e=t.intl,i=this.options,a=i.categories||[];if(a._parsed||(a=qf(e,a),a._parsed=!0),i=_({roundToBaseUnit:!0},i,{categories:a,min:Et(e,i.min),max:Et(e,i.max),weekStartDay:Yf(i,e)}),t.panning&&t.isPannable(i.vertical?L:E)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=a,a.length>0){var s=na(a,!0),l=i.maxDivisions,p=Jx(i),h=i._forecast;if(h&&(h.before>0&&(s.min=Dt(s.min,-h.before,p.baseUnit,p.weekStartDay)),h.after>0&&(s.max=Dt(s.max,h.after,p.baseUnit,p.weekStartDay))),this.dataRange=new Ut(s.min,s.max,p),l){var c=this.dataRange.displayRange(),u=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:c.min,max:c.max,maxDateGroups:l}),v=this.dataRange.options;Qf(u,v.baseUnit,v.baseUnitStep),this.divisionRange=new Ut(s.min,s.max,u)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||je,this.dataRange=this.divisionRange=new Ce(i);this.rangeLabels=[]},r.prototype.tickIndices=function(t){var e=this,i=e.dataRange,a=e.divisionRange,s=a.valuesCount();if(!this.options.maxDivisions||!s)return n.prototype.tickIndices.call(this,t);var l=[],p=a.values(),h=0;this.options.justified||(p=p.concat(a.dateAt(s)),h=.5);for(var c=0;c<p.length;c++)if(l.push(i.dateIndex(p[c])+h),t!==1&&c>=1){var u=l.length-1;l.splice(c,0,l[u-1]+(l[u]-l[u-1])*t)}return l},r.prototype.shouldRenderNote=function(t){var e=this.range(),i=this.options.categories||[];return Va(t,e.min)>=0&&Va(t,e.max)<=0&&i.length},r.prototype.parseNoteValue=function(t){return Et(this.chartService.intl,t)},r.prototype.noteSlot=function(t){return this.getSlot(t)},r.prototype.translateRange=function(t){var e=this.options,i=e.baseUnit,a=e.weekStartDay,s=e.vertical,l=this.lineBox(),p=s?l.height():l.width(),h=this.range(),c=p/(h.max-h.min),u=M(t/c,nt);if(h.min&&h.max){var v=kt(e.min||h.min,u),f=kt(e.max||h.max,u);h={min:Dt(v,0,i,a),max:Dt(f,0,i,a)}}return h},r.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},r.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,i=this.lineBox(),a=e.vertical?i.height():i.width(),s=this.dataRange.displayRange(),l=s.min,p=s.max,h=this.dataRange.total(),c=a/(p-l),u=M(t/c,nt)*(e.reverse?-1:1),v=kt(l,u),f=kt(p,u),d=this.limitRange(ot(v),ot(f),ot(h.min),ot(h.max),u);if(d)return d.min=it(d.min),d.max=it(d.max),d.baseUnit=e.baseUnit,d.baseUnitStep=e.baseUnitStep||1,d.userSetBaseUnit=e.userSetBaseUnit,d.userSetBaseUnitStep=e.userSetBaseUnitStep,d},r.prototype.pointsRange=function(t,e){if(this.isEmpty())return null;var i=n.prototype.pointsRange.call(this,t,e),a=this.dataRange.displayRange(),s=this.dataRange.displayIndices(),l=Ve(a.max,a.min)/(s.max-s.min),p=this.options,h=kt(a.min,i.min*l),c=kt(a.min,i.max*l);return{min:h,max:c,baseUnit:p.userSetBaseUnit||p.baseUnit,baseUnitStep:p.userSetBaseUnitStep||p.baseUnitStep}},r.prototype.scaleRange=function(t,e){if(this.isEmpty())return{};var i=this.options,a=i.userSetBaseUnit===Ba,s=this.dataRange.total(),l=this.dataRange.displayRange(),p=l.min,h=l.max,c=Math.abs(this.pointOffset(e)),u=h-p,v=this.scaleToDelta(t,u),f=Math.round(c*v),d=Math.round((1-c)*v),g=this.dataRange.options,y=g.baseUnit,m=new Date(p.getTime()+f),x=new Date(h.getTime()-d);if(a){var b=i.autoBaseUnitSteps,A=i.maxDateGroups,k=mt(b[y])*A*De[y],C=Ve(h,p),I=Ve(x,m),$=Qe.indexOf(y),B,D;if(I<De[y]&&y!==Da)y=Qe[$-1],B=mt(b[y]),D=(C-(A-1)*B*De[y])/2,m=kt(p,D),x=kt(h,-D);else if(I>k&&y!==nr){var K=0;do{$++,y=Qe[$],K=0,D=2*De[y];do B=b[y][K],K++;while(K<b[y].length&&D*B<C)}while(y!==nr&&D*B<C);D=(D*B-C)/2,D>0&&(m=kt(p,-D),x=kt(h,D),m=kt(m,V(x,s.min,s.max)-x),x=kt(x,V(m,s.min,s.max)-m))}}if(m&&x&&Ve(x,m)>0)return{min:m,max:x,baseUnit:i.userSetBaseUnit||i.baseUnit,baseUnitStep:i.userSetBaseUnitStep||i.baseUnitStep}},r.prototype.zoomRange=function(t,e){var i=this.dataRange.total(),a=this.scaleRange(t,e);return a&&(a.min<i.min&&(a.min=i.min),a.max>i.max&&(a.max=i.max)),a},r.prototype.range=function(){return this.dataRange.displayRange()},r.prototype.createLabels=function(){n.prototype.createLabels.call(this),this.createRangeLabels()},r.prototype.clearLabels=function(){n.prototype.clearLabels.call(this),this.rangeLabels=[]},r.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),n.prototype.arrangeLabels.call(this)},r.prototype.arrangeRangeLabels=function(){var t=this,e=t.options,i=t.rangeLabels;if(i.length!==0){var a=this.lineBox(),s=e.vertical,l=e.rangeLabels.mirror||e.labels.mirror,p=i[0];if(p){var h=s?a.y1-p.box.height()/2:a.x1;this.positionLabel(p,l,h)}var c=i[1];if(c){var u=s?a.y2-c.box.height()/2:a.x2;this.positionLabel(c,l,u)}}},r.prototype.autoRotateLabels=function(){n.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},r.prototype.hideOutOfRangeLabels=function(){n.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},r.prototype.hideOverlappingLabels=function(){var t=this,e=t.rangeLabels,i=t.labels;if(e.length===0)return;function a(v,f){return!f.options.visible||f.box.overlaps(v.box)?(f.options.visible=!1,!0):!1}var s=e[0];if(s&&s.options.visible)for(var l=0;l<i.length;l++){var p=a(s,i[l]);if(!p)break}var h=e[1];if(h&&h.options.visible)for(var c=i.length-1;c>0;--c){var u=a(h,i[c]);if(!u)break}},r.prototype.contentBox=function(){for(var t=n.prototype.contentBox.call(this),e=this.rangeLabels,i=0;i<e.length;i++){var a=e[i];a.options.visible&&t.wrap(a.box)}return t},r.prototype.createAxisLabel=function(t,e,i){i===void 0&&(i={});var a=this.options,s=a.dataItems&&!a.maxDivisions?a.dataItems[t]:null,l=this.divisionRange.dateAt(t),p=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||p,i.dataItem=s;var h=this.axisLabelText(l,e,i);if(h)return new Ir(l,h,t,s,e)},r.prototype.createRangeLabels=function(){var t=this,e=this.divisionRange,i=e.displayStart,a=e.displayEnd,s=this.options,l=Object.assign({},s.labels,s.rangeLabels,{align:N,zIndex:s.zIndex});if(l.visible===!0){this.normalizeLabelRotation(l),l.alignRotation=N,l.rotation==="auto"&&(l.rotation=0,s.autoRotateRangeLabels=!0);var p=l.dateFormats[this.divisionRange.options.baseUnit];l.format=l.format||p;var h=function(v,f,d){if(d){var g=new Ir(f,d,v,null,l);t.append(g),t.rangeLabels.push(g)}},c=this.axisLabelText(i,l,{index:0,count:2});h(0,i,c);var u=this.axisLabelText(a,l,{index:1,count:2});h(1,a,u)}},r.prototype.autoRotateRangeLabels=function(){var t=this,e=this.rangeLabels;if(!(!this.options.autoRotateRangeLabels||this.options.vertical||e.length!==2)){var i=function(s,l,p){var h=Math.abs(l[p+1]-l[p])*2,c=t.autoRotateLabelAngle(s.box,h);c!==0&&(s.options.rotation=c,s.reflow(new P))},a=this.getMajorTickPositions();i(e[0],a,0),i(e[1],a,a.length-2)}},r.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},r.prototype.slot=function(t,e,i){var a=this.dataRange,s=t,l=e;s instanceof Date&&(s=a.dateIndex(s)),l instanceof Date&&(l=a.dateIndex(l));var p=this.getSlot(s,l,i);if(p)return p.toRect()},r.prototype.getSlot=function(t,e,i){var a=t,s=e;return typeof a===Xo&&(a=this.categoryIndex(a)),typeof s===Xo&&(s=this.categoryIndex(s)),n.prototype.getSlot.call(this,a,s,i)},r.prototype.valueRange=function(){var t=this.options,e=na(t.srcCategories);return{min:it(e.min),max:it(e.max)}},r.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},r.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},r.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},r.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},r.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},r.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return e===null?null:this.dataRange.dateAt(e)},r.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},r.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},r.prototype.totalRange=function(){return this.dataRange.total()},r.prototype.totalRangeIndices=function(){var t=this.dataRange.total();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},r.prototype.totalCount=function(){return this.dataRange.totalCount()},r.prototype.isEmpty=function(){return!this.options.srcCategories.length},r.prototype.roundedRange=function(){if(this.options.roundToBaseUnit!==!1||this.isEmpty())return this.range();var t=this.options,e=na(t.srcCategories),i=new Ut(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1}));return i.displayRange()},r}(ze);S(dn,{type:ir,labels:{dateFormats:Zf},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});function tb(n,r,o){if(!n&&!r)return 0;var t;if(n>=0&&r>=0){var e=n===r?0:n,i=(r-e)/r;if(o===!1||!o&&i>Kf)return 0;t=Math.max(0,e-(r-e)/2)}else t=n;return t}function eb(n,r,o){if(!n&&!r)return 1;var t;if(n<=0&&r<=0){var e=n===r?0:r,i=Math.abs((e-n)/e);if(o===!1||!o&&i>Kf)return 0;t=Math.min(0,e-(n-e)/2)}else t=r;return t}function Jf(n,r){return M(Math.floor(n/r)*r,nt)}function Fa(n,r){return M(Math.ceil(n/r)*r,nt)}function ja(n){return Math.max(Math.min(n,Zx),-3e5)}var Ys=Math.pow(10,-9),fe=function(n){function r(o,t,e,i){n.call(this,Object.assign({},e,{seriesMin:o,seriesMax:t}),i)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initUserOptions=function(t){var e=rb(t.seriesMin,t.seriesMax,t);return this.totalOptions=ib(e,t),nb(e,t)},r.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},r.prototype.clone=function(){return new r(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},r.prototype.startValue=function(){return 0},r.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},r.prototype.getDivisions=function(t){if(t===0)return 1;var e=this.options,i=e.max-e.min;return Math.floor(M(i/t,Tt))+1},r.prototype.getTickPositions=function(t,e){var i=this.options,a=this.lineInfo(),s=a.axisDir,l=a.axisOrigin,p=a.lineBox,h=a.lineSize,c=i.max-i.min,u=h/c,v=t*u,f=this.getDivisions(t),d=[],g=p[l],y=0;e&&(y=e/t);for(var m=0;m<f;m++)m%y!==0&&d.push(M(g,Tt)),g=g+v*s;return d},r.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},r.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},r.prototype.getSlot=function(t,e,i){i===void 0&&(i=!1);var a=this.options,s=this.lineInfo(),l=s.axis,p=s.axisDir,h=s.lineBox,c=s.lineSize,u=s.lineStart,v=p*(c/(a.max-a.min)),f=j(t,e||0),d=j(e,t||0);i&&(f=V(f,a.min,a.max),d=V(d,a.min,a.max));var g=Math.min(f,d)-a.min,y=Math.max(f,d)-a.min,m=new P(h.x1,h.y1,h.x1,h.y1);return m[l+1]=ja(u+v*(p>0?g:y)),m[l+2]=ja(u+v*(p>0?y:g)),m},r.prototype.getValue=function(t){var e=this.options,i=Number(e.max),a=Number(e.min),s=this.pointOffset(t),l=s*(i-a);if(s<0||s>1)return null;var p=a+l;return M(p,nt)},r.prototype.translateRange=function(t){var e=this.options,i=e.vertical,a=e.reverse,s=e.max,l=e.min,p=this.lineInfo(),h=p.lineSize,c=s-l,u=h/c,v=M(t/u,nt);return(i||a)&&!(i&&a)&&(v=-v),{min:l+v,max:s+v,offset:v}},r.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},r.prototype.createAxisLabel=function(t,e,i){var a=this.options,s=M(a.min+t*a.majorUnit,nt),l=this.axisLabelText(s,e,i);return new Ir(s,l,t,null,e)},r.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},r.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},r.prototype.pointsRange=function(t,e){var i=this.getValue(t),a=this.getValue(e),s=Math.min(i,a),l=Math.max(i,a);if(this.isValidRange(s,l))return{min:s,max:l}},r.prototype.scaleRange=function(t,e){var i=Math.abs(this.pointOffset(e)),a=this.options.max-this.options.min,s=this.scaleToDelta(t,a),l=i*s,p=(1-i)*s,h=M(this.options.min+l,nt),c=M(this.options.max-p,nt);return c-h<Ys&&(c=h+Ys),{min:h,max:c}},r.prototype.zoomRange=function(t,e){var i=this,a=i.totalMin,s=i.totalMax,l=this.scaleRange(t,e);return{min:V(l.min,a,s),max:V(l.max,a,s),narrowRange:!1}},r.prototype.isValidRange=function(t,e){return e-t>Ys},r}(no);function rb(n,r,o){var t=o.narrowRange,e=tb(n,r,t),i=eb(n,r,t),a=io(e,i),s={majorUnit:a};return o.roundToMajorUnit!==!1&&(e<0&&Yc(e,a,1/3)&&(e-=a),i>0&&Yc(i,a,1/3)&&(i+=a)),s.min=Jf(e,a),s.max=Fa(i,a),s}function ib(n,r){return{min:w(r.min)?Math.min(n.min,r.min):n.min,max:w(r.max)?Math.max(n.max,r.max):n.max,majorUnit:n.majorUnit}}function ob(n,r){for(var o=0;o<r.length;o++){var t=r[o];n[t]===null&&(n[t]=void 0)}}function nb(n,r){var o=r,t,e;if(r){ob(r,["min","max"]),t=w(r.min),e=w(r.max);var i=t||e;i&&r.min===r.max&&(r.min>0?r.min=0:r.max=1),r.majorUnit?(n.min=Jf(n.min,r.majorUnit),n.max=Fa(n.max,r.majorUnit)):i&&(o=_(n,r),n.majorUnit=io(o.min,o.max))}n.minorUnit=(o.majorUnit||n.majorUnit)/5;var a=_(n,o);return a.min>=a.max&&(t&&!e?a.max=a.min+a.majorUnit:!t&&e&&(a.min=a.max-a.majorUnit)),a}function Yc(n,r,o){var t=M(Math.abs(n%r),nt),e=r*(1-o);return t===0||t>e}S(fe,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:dt},labels:{format:"#.####################"},zIndex:1});var Zc=1e3,td=function(n){function r(o,t,e,i){var a=it(o),s=it(t),l=i.intl,p=e||{};p=_(p||{},{min:Et(l,p.min),max:Et(l,p.max),axisCrossingValue:qf(l,p.axisCrossingValues||p.axisCrossingValue),weekStartDay:Yf(p,l)}),p=sb(a,s,p),n.call(this,p,i),this.intlService=l,this.seriesMin=a,this.seriesMax=s;var h=p.weekStartDay||0;this.totalMin=ot(kp(ot(a)-1,p.baseUnit,h)),this.totalMax=ot(Xf(ot(s)+1,p.baseUnit,h))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},r.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},r.prototype.getDivisions=function(t){var e=this.options;return Math.floor(Tp(e.min,e.max,e.baseUnit)/t+1)},r.prototype.getTickPositions=function(t){for(var e=this.options,i=this.lineInfo(),a=i.axisDir,s=i.lineSize,l=i.lineStart,p=this.getDivisions(t),h=Ve(e.max,e.min),c=s/h,u=e.weekStartDay||0,v=[l],f=1;f<p;f++){var d=Dt(e.min,f*t,e.baseUnit,u),g=l+Ve(d,e.min)*c*a;v.push(M(g,Tt))}return v},r.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},r.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},r.prototype.getSlot=function(t,e,i){return fe.prototype.getSlot.call(this,Et(this.intlService,t),Et(this.intlService,e),i)},r.prototype.getValue=function(t){var e=fe.prototype.getValue.call(this,t);return e!==null?it(e):null},r.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},r.prototype.createAxisLabel=function(t,e,i){var a=this.options,s=t*a.majorUnit,l=a.weekStartDay||0,p=a.min;s>0&&(p=Dt(p,s,a.baseUnit,l));var h=e.dateFormats[a.baseUnit];e.format=e.format||h;var c=this.axisLabelText(p,e,i);return new Ir(p,c,t,null,e)},r.prototype.translateRange=function(t){var e=this.options,i=this.lineBox(),a=e.vertical,s=e.reverse,l=a?i.height():i.width(),p=this.range(),h=l/Ve(p.max,p.min),c=M(t/h,nt);(a||s)&&!(a&&s)&&(c=-c);var u=kt(e.min,c),v=kt(e.max,c);return{min:u,max:v,offset:c}},r.prototype.shouldRenderNote=function(t){var e=this.range();return Va(t,e.min)>=0&&Va(t,e.max)<=0},r.prototype.pan=function(t){var e=this.translateRange(t,!0),i=this.limitRange(ot(e.min),ot(e.max),this.totalMin,this.totalMax,e.offset);if(i)return{min:it(i.min),max:it(i.max)}},r.prototype.pointsRange=function(t,e){var i=this.getValue(t),a=this.getValue(e),s=Math.min(i,a),l=Math.max(i,a);return{min:it(s),max:it(l)}},r.prototype.scaleRange=function(t,e){var i=Math.abs(this.pointOffset(e)),a=this.options.max-this.options.min,s=this.scaleToDelta(t,a),l=i*s,p=(1-i)*s,h=it(ot(this.options.min)+l),c=it(ot(this.options.max)-p);return c-h<Zc&&(c=it(ot(h)+Zc)),{min:h,max:c}},r.prototype.zoomRange=function(t,e){var i=this.scaleRange(t,e),a=it(V(ot(i.min),this.totalMin,this.totalMax)),s=it(V(ot(i.max),this.totalMin,this.totalMax));return{min:a,max:s}},r}(no);function ab(n){var r=vn;return n>=Ap?r=nr:n>=wp?r=si:n>=bp?r=fn:n>=ar&&(r=je),r}function sb(n,r,o){var t=o.min||n,e=o.max||r,i=o.baseUnit||(e&&t?ab(Sp(e,t)):vn),a=De[i],s=o.weekStartDay||0,l=kp(ot(t)-1,i,s)||it(e),p=Xf(ot(e)+1,i,s),h=o.majorUnit?o.majorUnit:void 0,c=h||Fa(io(l.getTime(),p.getTime()),a)/a,u=Tp(l,p,i),v=Fa(u,c),f=v-u,d=Math.floor(f/2),g=f-d;return o.baseUnit||delete o.baseUnit,o.baseUnit=o.baseUnit||i,o.min=o.min||Dt(l,-d,i,s),o.max=o.max||Dt(p,g,i,s),o.minorUnit=o.minorUnit||c/5,o.majorUnit=c,o}S(td,{type:ir,majorGridLines:{visible:!0,width:1,color:dt},labels:{dateFormats:Zf}});var ed=10,Kc=1e-6,vs=function(n){function r(o,t,e,i){var a=_({majorUnit:ed,min:o,max:t},e),s=a.majorUnit,l=hb(t,s),p=pb(o,t,a),h=lb(p,l,a,e);a.max=h.max,a.min=h.min,a.minorUnit=e.minorUnit||M(s-1,nt),n.call(this,a,i),this.totalMin=w(e.min)?Math.min(p,e.min):p,this.totalMax=w(e.max)?Math.max(l,e.max):l,this.logMin=M(we(h.min,s),nt),this.logMax=M(we(h.max,s),nt),this.seriesMin=o,this.seriesMax=t,this.createLabels()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},r.prototype.startValue=function(){return this.options.min},r.prototype.getSlot=function(t,e,i){var a=this,s=a.options,l=a.logMin,p=a.logMax,h=s.majorUnit,c=s.min,u=s.max,v=this.lineInfo(),f=v.axis,d=v.axisDir,g=v.lineBox,y=v.lineSize,m=v.lineStart,x=d*(y/(p-l)),b=j(t,e||1),A=j(e,t||1);if(b<=0||A<=0)return null;i&&(b=V(b,c,u),A=V(A,c,u)),b=we(b,h),A=we(A,h);var k=Math.min(b,A)-l,C=Math.max(b,A)-l,I=new P(g.x1,g.y1,g.x1,g.y1);return I[f+1]=ja(m+x*(d>0?k:C)),I[f+2]=ja(m+x*(d>0?C:k)),I},r.prototype.getValue=function(t){var e=this,i=e.options,a=e.logMin,s=e.logMax,l=i.majorUnit,p=this.lineInfo(),h=p.axis,c=p.axisDir,u=p.lineStart,v=p.lineSize,f=(s-a)/v,d=c*(t[h]-u),g=d*f;if(d<0||d>v)return null;var y=a+g;return M(Math.pow(l,y),nt)},r.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},r.prototype.translateRange=function(t){var e=this,i=e.options,a=e.logMin,s=e.logMax,l=i.reverse,p=i.vertical,h=i.majorUnit,c=this.lineBox(),u=p?c.height():c.width(),v=u/(s-a),f=M(t/v,nt);return(p||l)&&!(p&&l)&&(f=-f),{min:Math.pow(h,a+f),max:Math.pow(h,s+f),offset:f}},r.prototype.labelsCount=function(){var t=Math.floor(this.logMax),e=Math.floor(t-this.logMin)+1;return e},r.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0}),t},r.prototype.createTicks=function(t){var e=this.options,i=e.majorTicks,a=e.minorTicks,s=e.vertical,l=e.labels.mirror,p=this.lineBox(),h=[],c={vertical:s};function u(v,f){c.tickX=l?p.x2:p.x2-f.size,c.tickY=l?p.y1-f.size:p.y1,c.position=v,t.append(Gf(c,f))}return i.visible&&this.traverseMajorTicksPositions(u,i),a.visible&&this.traverseMinorTicksPositions(u,a),h},r.prototype.createGridLines=function(t){var e=this.options,i=e.minorGridLines,a=e.majorGridLines,s=e.vertical,l=t.lineBox(),p={lineStart:l[s?"x1":"y1"],lineEnd:l[s?"x2":"y2"],vertical:s},h=[],c=this.gridLinesVisual();function u(v,f){H(v,h)||(p.position=v,c.append(Wf(p,f)),h.push(v))}return a.visible&&this.traverseMajorTicksPositions(u,a),i.visible&&this.traverseMinorTicksPositions(u,i),c.children},r.prototype.traverseMajorTicksPositions=function(t,e){for(var i=this.lineInfo(),a=i.lineStart,s=i.step,l=this,p=l.logMin,h=l.logMax,c=Math.ceil(p)+e.skip;c<=h;c+=e.step){var u=M(a+s*(c-p),nt);t(u,e)}},r.prototype.traverseMinorTicksPositions=function(t,e){for(var i=this,a=this.options,s=a.min,l=a.max,p=a.minorUnit,h=a.majorUnit,c=this.lineInfo(),u=c.lineStart,v=c.step,f=this,d=f.logMin,g=f.logMax,y=Math.floor(d),m=y;m<g;m++)for(var x=i._minorIntervalOptions(m),b=e.skip;b<p;b+=e.step){var A=x.value+b*x.minorStep;if(A>l)break;if(A>=s){var k=M(u+v*(we(A,h)-d),nt);t(k,e)}}},r.prototype.createAxisLabel=function(t,e,i){var a=Math.ceil(this.logMin+t),s=Math.pow(this.options.majorUnit,a),l=this.axisLabelText(s,e,i);return new Ir(s,l,t,null,e)},r.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},r.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},r.prototype.pointsRange=function(t,e){var i=this.getValue(t),a=this.getValue(e),s=Math.min(i,a),l=Math.max(i,a);return{min:s,max:l}},r.prototype.scaleRange=function(t,e){var i=this.options,a=i.majorUnit,s=we(this.options.min,a),l=we(this.options.max,a),p=Math.abs(this.pointOffset(e)),h=l-s,c=this.scaleToDelta(t,h),u=Math.pow(a,s+p*c),v=Math.pow(a,l-(1-p)*c);return v-u<Kc&&(v=u+Kc),{min:u,max:v}},r.prototype.zoomRange=function(t,e){var i=this.scaleRange(t,e),a=this,s=a.totalMin,l=a.totalMax;return{min:V(i.min,s,l),max:V(i.max,s,l)}},r.prototype._minorIntervalOptions=function(t){var e=this.options,i=e.minorUnit,a=e.majorUnit,s=Math.pow(a,t),l=Math.pow(a,t+1),p=l-s,h=p/i;return{value:s,minorStep:h}},r.prototype.lineInfo=function(){var t=n.prototype.lineInfo.call(this);return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t},r}(no);function lb(n,r,o,t){var e=o.min,i=o.max;return w(o.axisCrossingValue)&&o.axisCrossingValue<=0&&Zs(),w(t.max)?t.max<=0&&Zs():i=r,w(t.min)?t.min<=0&&Zs():e=n,{min:e,max:i}}function pb(n,r,o){var t=o.majorUnit,e=n;return n<=0?e=r<=1?Math.pow(t,-2):1:o.narrowRange||(e=Math.pow(t,Math.floor(we(n,t)))),e}function hb(n,r){var o=M(we(n,r),nt)%1,t;return n<=0?t=r:o!==0&&(o<.3||o>.9)?t=Math.pow(r,we(n,r)+.2):t=Math.pow(r,Math.ceil(we(n,r))),t}function Zs(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function we(n,r){return Math.log(n)/Math.log(r)}S(vs,{type:"log",majorUnit:ed,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:dt},zIndex:1,_deferLabels:!0});var rd={createGridLines:function(n){var r=this.options,o=Math.abs(this.box.center().y-n.lineBox().y1),t=[],e=!1,i,a;return r.majorGridLines.visible&&(i=this.majorGridLineAngles(n),e=!0,t=this.renderMajorGridLines(i,o,r.majorGridLines)),r.minorGridLines.visible&&(a=this.minorGridLineAngles(n,e),vi(t,this.renderMinorGridLines(a,o,r.minorGridLines,n,e))),t},renderMajorGridLines:function(n,r,o){return this.renderGridLines(n,r,o)},renderMinorGridLines:function(n,r,o,t,e){var i=this.radiusCallback&&this.radiusCallback(r,t,e);return this.renderGridLines(n,r,o,i)},renderGridLines:function(n,r,o,t){for(var e={stroke:{width:o.width,color:o.color,dashType:o.dashType}},i=this.box.center(),a=new Bt([i.x,i.y],r),s=this.gridLinesVisual(),l=0;l<n.length;l++){var p=new O(e);t&&(a.radius=t(n[l])),p.moveTo(a.center).lineTo(a.pointAt(n[l]+180)),s.append(p)}return s.children},gridLineAngles:function(n,r,o,t,e){var i=this,a=this.intervals(r,o,t,e),s=n.options,l=s.visible&&(s.line||{}).visible!==!1;return Cf(a,function(p){var h=i.intervalAngle(p);if(!l||h!==90)return h})}},Zo=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.range=function(){return{min:0,max:this.options.categories.length}},r.prototype.reflow=function(t){this.box=t,this.reflowLabels()},r.prototype.lineBox=function(){return this.box},r.prototype.reflowLabels=function(){for(var t=this,e=this,i=e.labels,a=e.options.labels,s=a.skip||0,l=a.step||1,p=new P,h=0;h<i.length;h++){i[h].reflow(p);var c=i[h].box;i[h].reflow(t.getSlot(s+h*l).adjacentBox(0,c.width(),c.height()))}},r.prototype.intervals=function(t,e,i,a){a===void 0&&(a=!1);for(var s=this.options,l=s.categories.length,p=l/t||1,h=360/p,c=e||0,u=i||1,v=[],f=0,d=c;d<p;d+=u)s.reverse?f=360-d*h:f=d*h,f=M(f,Tt)%360,a&&H(f,a)||v.push(f);return v},r.prototype.majorIntervals=function(){return this.intervals(1)},r.prototype.minorIntervals=function(){return this.intervals(.5)},r.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},r.prototype.majorAngles=function(){var t=this;return Cf(this.majorIntervals(),function(e){return t.intervalAngle(e)})},r.prototype.createLine=function(){return[]},r.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},r.prototype.minorGridLineAngles=function(t,e){var i=this.options,a=i.minorGridLines,s=i.majorGridLines,l=e?this.intervals(1,s.skip,s.step):null;return this.gridLineAngles(t,.5,a.skip,a.step,l)},r.prototype.radiusCallback=function(t,e,i){if(e.options.type!==Cr){var a=bt(360/(this.options.categories.length*2)),s=Math.cos(a)*t,l=this.majorAngles(),p=function(h){return!i&&H(h,l)?t:s};return p}},r.prototype.createPlotBands=function(){for(var t=this,e=this.options.plotBands||[],i=this._plotbandGroup=new Q({zIndex:-1}),a=0;a<e.length;a++){var s=e[a],l=t.plotBandSlot(s),p=t.getSlot(s.from),h=s.from-Math.floor(s.from);l.startAngle+=h*p.angle;var c=Math.ceil(s.to)-s.to;l.angle-=(c+h)*p.angle;var u=Ni.current.createRing(l,{fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}});i.append(u)}this.appendVisual(i)},r.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},r.prototype.getSlot=function(t,e){var i=this.options,a=i.justified,s=this.box,l=this.majorAngles(),p=l.length,h=360/p,c=t;i.reverse&&!a&&(c=(c+1)%p),c=V(Math.floor(c),0,p-1);var u=l[c];a&&(u=u-h/2,u<0&&(u+=360));var v=V(Math.ceil(e||c),c,p-1),f=v-c+1,d=h*f;return new un(s.center(),0,s.height()/2,u,d)},r.prototype.slot=function(t,e){var i=this.getSlot(t,e),a=i.startAngle+180,s=a+i.angle;return new Rr([i.center.x,i.center.y],{startAngle:a,endAngle:s,radiusX:i.radius,radiusY:i.radius})},r.prototype.pointCategoryIndex=function(t){for(var e=this,i=this.options.categories.length,a=null,s=0;s<i;s++){var l=e.getSlot(s);if(l.containsPoint(t)){a=s;break}}return a},r}(ze);S(Zo,{startAngle:90,labels:{margin:J(10)},majorGridLines:{visible:!0},justified:!0});_(Zo.prototype,rd);var Cp=function(n){function r(o,t){n.call(this,o,t);var e=this.options;e.minorUnit=e.minorUnit||e.majorUnit/2}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getDivisions=function(t){return fe.prototype.getDivisions.call(this,t)-1},r.prototype.reflow=function(t){this.box=t,this.reflowLabels()},r.prototype.reflowLabels=function(){for(var t=this,e=this,i=e.options,a=e.labels,s=e.options.labels,l=s.skip||0,p=s.step||1,h=new P,c=this.intervals(i.majorUnit,l,p),u=0;u<a.length;u++){a[u].reflow(h);var v=a[u].box;a[u].reflow(t.getSlot(c[u]).adjacentBox(0,v.width(),v.height()))}},r.prototype.lineBox=function(){return this.box},r.prototype.intervals=function(t,e,i,a){a===void 0&&(a=!1);for(var s=this.options.min,l=this.getDivisions(t),p=[],h=e||0,c=i||1,u=h;u<l;u+=c){var v=(360+s+u*t)%360;a&&H(v,a)||p.push(v)}return p},r.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},r.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},r.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},r.prototype.createLine=function(){return[]},r.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},r.prototype.minorGridLineAngles=function(t,e){var i=this.options,a=i.minorGridLines,s=i.majorGridLines,l=e?this.intervals(i.majorUnit,s.skip,s.step):null;return this.gridLineAngles(t,i.minorUnit,a.skip,a.step,l)},r.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},r.prototype.getSlot=function(t,e){var i=this,a=i.options,s=i.box,l=a.startAngle,p=V(t,a.min,a.max),h=V(e||p,p,a.max);if(a.reverse&&(p*=-1,h*=-1),p=(540-p-l)%360,h=(540-h-l)%360,h<p){var c=p;p=h,h=c}return new un(s.center(),0,s.height()/2,p,h-p)},r.prototype.slot=function(t,e){e===void 0&&(e=t);var i=this.options,a=360-i.startAngle,s=this.getSlot(t,e),l=Math.min(t,e),p=Math.max(t,e),h,c;return i.reverse?(h=l,c=p):(h=360-p,c=360-l),h=(h+a)%360,c=(c+a)%360,new Rr([s.center.x,s.center.y],{startAngle:h,endAngle:c,radiusX:s.radius,radiusY:s.radius})},r.prototype.getValue=function(t){var e=this.options,i=this.box.center(),a=t.x-i.x,s=t.y-i.y,l=Math.round(kr(Math.atan2(s,a))),p=e.startAngle;return e.reverse||(l*=-1,p*=-1),(l+p+360)%360},r.prototype.valueRange=function(){return{min:0,max:Math.PI*2}},r}(no);S(Cp,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:J(10)},majorGridLines:{color:dt,visible:!0,width:1},minorGridLines:{color:"#aaa"}});_(Cp.prototype,rd,{createPlotBands:Zo.prototype.createPlotBands,majorAngles:Zo.prototype.majorAngles,range:fe.prototype.range,labelsCount:fe.prototype.labelsCount,createAxisLabel:fe.prototype.createAxisLabel});var id={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var n=this,r=this.options,o=r.majorGridLines.type,t=r.plotBands;t===void 0&&(t=[]);for(var e=this.plotArea.polarAxis,i=e.majorAngles(),a=e.box.center(),s=this._plotbandGroup=new Q({zIndex:-1}),l=0;l<t.length;l++){var p=t[l],h={fill:{color:p.color,opacity:p.opacity},stroke:{opacity:p.opacity}},c=n.getSlot(p.from,p.to,!0),u=new un(a,a.y-c.y2,a.y-c.y1,0,360),v=void 0;o===Cr?v=Ni.current.createRing(u,h):v=O.fromPoints(n.plotBandPoints(u,i),h).close(),s.append(v)}this.appendVisual(s)},plotBandPoints:function(n,r){for(var o=[],t=[],e=[n.center.x,n.center.y],i=new Bt(e,n.innerRadius),a=new Bt(e,n.radius),s=0;s<r.length;s++)o.push(i.pointAt(r[s]+180)),t.push(a.pointAt(r[s]+180));return o.reverse(),o.push(o[0]),t.push(t[0]),t.concat(o)},createGridLines:function(n){var r=this.options,o=this.radarMajorGridLinePositions(),t=n.majorAngles(),e=n.box.center(),i=[];if(r.majorGridLines.visible&&(i=this.renderGridLines(e,o,t,r.majorGridLines)),r.minorGridLines.visible){var a=this.radarMinorGridLinePositions();vi(i,this.renderGridLines(e,a,t,r.minorGridLines))}return i},renderGridLines:function(n,r,o,t){var e={stroke:{width:t.width,color:t.color,dashType:t.dashType}},i=t.skip;i===void 0&&(i=0);var a=t.step;a===void 0&&(a=0);for(var s=this.gridLinesVisual(),l=i;l<r.length;l+=a){var p=n.y-r[l];if(p>0){var h=new Bt([n.x,n.y],p);if(t.type===Cr)s.append(new re(h,e));else{for(var c=new O(e),u=0;u<o.length;u++)c.lineTo(h.pointAt(o[u]+180));c.close(),s.append(c)}}}return s.children},getValue:function(n){var r=this.lineBox(),o=this.plotArea.polarAxis,t=o.majorAngles(),e=o.box.center(),i=n.distanceTo(e),a=i;if(this.options.majorGridLines.type!==Cr&&t.length>1){var s=n.x-e.x,l=n.y-e.y,p=(kr(Math.atan2(l,s))+540)%360;t.sort(function(f,d){return Gn(f,p)-Gn(d,p)});var h=Gn(t[0],t[1])/2,c=Gn(p,t[0]),u=90-h,v=180-c-u;a=i*(Math.sin(bt(v))/Math.sin(bt(u)))}return this.axisType().prototype.getValue.call(this,new F(r.x1,r.y2-a))}};function Gn(n,r){return 180-Math.abs(Math.abs(n-r)-180)}var od=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},r.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},r.prototype.axisType=function(){return n},r}(fe);_(od.prototype,id);var nd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t},r.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t},r.prototype.axisType=function(){return n},r}(vs);_(nd.prototype,id);var Qc=.333,cb=.01,fs=function(n){function r(o){n.call(this),this.closed=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.process=function(t){var e=this,i=t.slice(0),a=[],s=this.closed,l=i.length;if(l>2&&(this.removeDuplicates(0,i),l=i.length),l<2||l===2&&i[0].equals(i[1]))return a;var p=i[0],h=i[1],c=i[2];for(a.push(new It(p));p.equals(i[l-1]);)s=!0,i.pop(),l--;if(l===2){var u=this.tangent(p,h,E,L);return mt(a).controlOut(this.firstControlPoint(u,p,h,E,L)),a.push(new It(h,this.secondControlPoint(u,p,h,E,L))),a}var v,f;if(s){p=i[l-1],h=i[0],c=i[1];var d=this.controlPoints(p,h,c);v=d[1],f=d[0]}else{var g=this.tangent(p,h,E,L);v=this.firstControlPoint(g,p,h,E,L)}for(var y=v,m=0;m<=l-3;m++)if(e.removeDuplicates(m,i),l=i.length,m+3<=l){p=i[m],h=i[m+1],c=i[m+2];var x=e.controlPoints(p,h,c);mt(a).controlOut(y),y=x[1];var b=x[0];a.push(new It(h,b))}if(s){p=i[l-2],h=i[l-1],c=i[0];var A=this.controlPoints(p,h,c);mt(a).controlOut(y),a.push(new It(h,A[0])),mt(a).controlOut(A[1]),a.push(new It(c,f))}else{var k=this.tangent(h,c,E,L);mt(a).controlOut(y),a.push(new It(c,this.secondControlPoint(k,h,c,E,L)))}return a},r.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},r.prototype.invertAxis=function(t,e,i){var a=!1;if(t.x===e.x)a=!0;else if(e.x===i.x)(e.y<i.y&&t.y<=e.y||i.y<e.y&&e.y<=t.y)&&(a=!0);else{var s=this.lineFunction(t,e),l=this.calculateFunction(s,i.x);!(t.y<=e.y&&i.y<=l)&&!(e.y<=t.y&&i.y>=l)&&(a=!0)}return a},r.prototype.isLine=function(t,e,i){var a=this.lineFunction(t,e),s=this.calculateFunction(a,i.x);return t.x===e.x&&e.x===i.x||M(s,1)===M(i.y,1)},r.prototype.lineFunction=function(t,e){var i=(e.y-t.y)/(e.x-t.x),a=t.y-i*t.x;return[a,i]},r.prototype.controlPoints=function(t,e,i){var a=E,s=L,l=!1,p=!1,h;if(this.isLine(t,e,i))h=this.tangent(t,e,E,L);else{var c={x:this.isMonotonicByField(t,e,i,E),y:this.isMonotonicByField(t,e,i,L)};if(c.x&&c.y)h=this.tangent(t,i,E,L),l=!0;else if(this.invertAxis(t,e,i)&&(a=L,s=E),c[a])h=0;else{var u;i[s]<t[s]&&t[s]<=e[s]||t[s]<i[s]&&e[s]<=t[s]?u=Jc((i[s]-t[s])*(e[a]-t[a])):u=-Jc((i[a]-t[a])*(e[s]-t[s])),h=cb*u,p=!0}}var v=this.secondControlPoint(h,t,e,a,s);if(p){var f=a;a=s,s=f}var d=this.firstControlPoint(h,e,i,a,s);return l&&(this.restrictControlPoint(t,e,v,h),this.restrictControlPoint(e,i,d,h)),[v,d]},r.prototype.restrictControlPoint=function(t,e,i,a){t.y<e.y?e.y<i.y?(i.x=t.x+(e.y-t.y)/a,i.y=e.y):i.y<t.y&&(i.x=e.x-(e.y-t.y)/a,i.y=t.y):i.y<e.y?(i.x=t.x-(t.y-e.y)/a,i.y=e.y):t.y<i.y&&(i.x=e.x+(t.y-e.y)/a,i.y=t.y)},r.prototype.tangent=function(t,e,i,a){var s=e[i]-t[i],l=e[a]-t[a],p;return s===0?p=0:p=l/s,p},r.prototype.isMonotonicByField=function(t,e,i,a){return i[a]>e[a]&&e[a]>t[a]||i[a]<e[a]&&e[a]<t[a]},r.prototype.firstControlPoint=function(t,e,i,a,s){var l=e[a],p=i[a],h=(p-l)*Qc;return this.point(l+h,e[s]+h*t,a,s)},r.prototype.secondControlPoint=function(t,e,i,a,s){var l=e[a],p=i[a],h=(p-l)*Qc;return this.point(p-h,i[s]-h*t,a,s)},r.prototype.point=function(t,e,i,a){var s=new T;return s[i]=t,s[a]=e,s},r.prototype.calculateFunction=function(t,e){for(var i=t.length,a=0,s=0;s<i;s++)a+=Math.pow(e,s)*t[s];return a},r}(R);function Jc(n){return n<=0?-1:1}var ub=function(n){function r(o){n.call(this),this._axis=o,this.options=o.options}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.value=function(t){var e=this._axis,i=e.getCategory?e.getCategory(t):e.getValue(t);return i},r.prototype.slot=function(t,e,i){return i===void 0&&(i=!0),this._axis.slot(t,e,i)},r.prototype.range=function(){return this._axis.range()},r.prototype.valueRange=function(){return this._axis.valueRange()},r}(R);function ad(n,r){for(var o=0;o<r.length;o++)if(r[o].options.name===n)return r[o].prepareUserOptions(),new ub(r[o])}var Na=function(r){this.visual=r.visual,this.chartsVisual=r.chartContainer.visual,this._pane=r};Na.prototype.findAxisByName=function(r){return ad(r,this._pane.axes)};var vb=function(n){function r(o){n.call(this),this._plotArea=o,this.visual=o.visual,this.backgroundVisual=o._bgVisual}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(R);function Al(n){for(var r=n.length,o=0,t=0;t<r;t++){var e=n[t];W(e)&&o++}return o}var Sl={min:function(n){for(var r=n.length,o=_t,t=0;t<r;t++){var e=n[t];W(e)&&(o=Math.min(o,e))}return o===_t?n[0]:o},max:function(n){for(var r=n.length,o=wt,t=0;t<r;t++){var e=n[t];W(e)&&(o=Math.max(o,e))}return o===wt?n[0]:o},sum:function(n){for(var r=n.length,o=0,t=0;t<r;t++){var e=n[t];W(e)&&(o+=e)}return o},sumOrNull:function(n){var r=null;return Al(n)&&(r=Sl.sum(n)),r},count:function(n){for(var r=n.length,o=0,t=0;t<r;t++){var e=n[t];e!==null&&w(e)&&o++}return o},avg:function(n){var r=Al(n),o=n[0];return r>0&&(o=Sl.sum(n)/r),o},first:function(n){for(var r=n.length,o=0;o<r;o++){var t=n[o];if(t!==null&&w(t))return t}return n[0]}};function fb(n,r){if(r===null)return r;var o=Pr(n);return o(r)}var rt=function(n){function r(){n.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.register=function(t,e,i){var a=this;e===void 0&&(e=[ee]),i===void 0&&(i={});for(var s=0;s<t.length;s++){var l=t[s];a._valueFields[l]=e,a._otherFields[l]=i,a._nullValue[l]=a._makeValue(e,null),a._undefinedValue[l]=a._makeValue(e,void 0)}},r.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},r.prototype.valueFields=function(t){return this._valueFields[t.type]||[ee]},r.prototype.otherFields=function(t){return this._otherFields[t.type]||[ee]},r.prototype.bindPoint=function(t,e,i){var a=t.data,s=w(i)?i:a[e],l={valueFields:{value:s}},p=this.valueFields(t),h=this._otherFields[t.type],c,u;if(s===null)u=this._nullValue[t.type];else if(!w(s))u=this._undefinedValue[t.type];else if(Array.isArray(s)){var v=s.slice(p.length);u=this._bindFromArray(s,p),c=this._bindFromArray(v,h)}else if(typeof s=="object"){var f=this.sourceFields(t,p),d=this.sourceFields(t,h);u=this._bindFromObject(s,p,f),c=this._bindFromObject(s,h,d)}return w(u)&&(p.length===1?l.valueFields.value=u[p[0]]:l.valueFields=u),l.fields=c||{},l},r.prototype._makeValue=function(t,e){for(var i={},a=t.length,s=0;s<a;s++){var l=t[s];i[l]=e}return i},r.prototype._bindFromArray=function(t,e){var i={};if(e)for(var a=Math.min(e.length,t.length),s=0;s<a;s++)i[e[s]]=t[s];return i},r.prototype._bindFromObject=function(t,e,i){i===void 0&&(i=e);var a={};if(e)for(var s=e.length,l=0;l<s;l++){var p=e[l],h=i[l];h!==null&&(a[p]=fb(h,t))}return a},r.prototype.sourceFields=function(t,e){var i=[];if(e)for(var a=e.length,s=0;s<a;s++){var l=e[s],p=l===ee?"field":l+"Field";i.push(t[p]!==null?t[p]||l:null)}return i},r}(R);rt.current=new rt;var db="stderr",gb="stddev",yb=/percent(?:\w*)\((\d+)\)/,mb=new RegExp("^"+gb+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),sd=function(n){function r(o,t,e){n.call(this),this.initGlobalRanges(o,t,e)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initGlobalRanges=function(t,e,i){var a=e.data,s=mb.exec(t);if(s){this.valueGetter=this.createValueGetter(e,i);var l=this.getAverage(a),p=this.getStandardDeviation(a,l,!1),h=s[1]?parseFloat(s[1]):1,c={low:l.value-p*h,high:l.value+p*h};this.globalRange=function(){return c}}else if(t.indexOf&&t.indexOf(db)>=0){this.valueGetter=this.createValueGetter(e,i);var u=this.getStandardError(a,this.getAverage(a));this.globalRange=function(v){return{low:v-u,high:v+u}}}},r.prototype.createValueGetter=function(t,e){var i=t.data,a=rt.current,s=a.valueFields(t),l=w(i[0])?i[0]:{},p;if(Lt(l)){var h=e?s.indexOf(e):0;p=Pr("["+h+"]")}else if(W(l))p=Pr();else if(typeof l===Xo){var c=a.sourceFields(t,s);p=Pr(c[s.indexOf(e)])}return p},r.prototype.getErrorRange=function(t,e){var i,a,s;if(!w(e))return null;if(this.globalRange)return this.globalRange(t);if(Lt(e))i=t-e[0],a=t+e[1];else if(W(s=parseFloat(e)))i=t-s,a=t+s;else if(s=yb.exec(e)){var l=t*(parseFloat(s[1])/100);i=t-Math.abs(l),a=t+Math.abs(l)}else throw new Error("Invalid ErrorBar value: "+e);return{low:i,high:a}},r.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},r.prototype.getStandardDeviation=function(t,e,i){for(var a=this,s=t.length,l=i?e.count-1:e.count,p=0,h=0;h<s;h++){var c=a.valueGetter(t[h]);W(c)&&(p+=Math.pow(c-e.value,2))}return Math.sqrt(p/l)},r.prototype.getAverage=function(t){for(var e=this,i=t.length,a=0,s=0,l=0;l<i;l++){var p=e.valueGetter(t[l]);W(p)&&(a+=p,s++)}return{value:a/s,count:s}},r}(R),_b=zi.browser||{},de=600,jr="fadeIn",ds=.8,Ae=5,Ko=_b.msie?.001:0,ld="errorLow",pd="errorHigh",xb="xErrorLow",bb="xErrorHigh",wb="yErrorLow",Ab="yErrorHigh",$a=8,sr="zero",Hi="interpolate",tu="gap",Ha="above",kl="below",so="smooth",$o="step",lr="area",ge="bar",gn="boxPlot",lo="bubble",Dr="bullet",po="candlestick",Ne="column",Ua="donut",Qo="funnel",Jo="pyramid",Pp="heatmap",Ui="horizontalWaterfall",pr="line",ho="ohlc",Vr="pie",Mp="polarArea",Ga="polarLine",Op="polarScatter",yn="radarArea",gs="radarColumn",Gi="radarLine",Wi="rangeArea",Xi="rangeBar",mn="rangeColumn",Rp="scatter",Ep="scatterLine",ti="verticalArea",qi="verticalBoxPlot",_n="verticalBullet",ei="verticalLine",ri="verticalRangeArea",xn="waterfall",hd=[ge,Ne,ho,po,gn,qi,Dr,mn,Xi,xn,Ui],Lp="exponentialTrendline",Ip="linearTrendline",Dp="logarithmicTrendline",Vp="movingAverageTrendline",zp="polynomialTrendline",Bp="powerTrendline",co=[Lp,Ip,Dp,Vp,zp,Bp],cd="legendItemClick",Sb="legendItemHover",kb="legendItemLeave",ud="seriesClick",vd="seriesHover",fd="seriesOver",dd="seriesLeave",Tb="plotAreaClick",gd="plotAreaHover",Ks="plotAreaLeave",Do="drag",Vo="dragEnd",Qs="dragStart",Co="zoomStart",Pi="zoom",Mi="zoomEnd",Tl="selectStart",zo="select",Cl="selectEnd",Cb="render",yd="showTooltip",md="hideTooltip",Pb="paneRender",Nr="graphics-symbol",$r="k-chart-point",Hr="Point",Mb="checkbox",Ob="k-chart-legend-item",Rb="Legend item",Wa="log",Pe="category",Xa="insideEnd",Eb="insideBase",ii="outsideEnd",qa="wheel",Pl=150,Lb=.3,Ib="drilldown",fr="drilldown",be="pattern",Fp=2,eu=4,jp=function(n){function r(o,t,e,i,a,s){n.call(this,s),this.low=o,this.high=t,this.isVertical=e,this.chart=i,this.series=a}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this.options.endCaps,i=this.isVertical,a=this.getAxis(),s=a.getSlot(this.low,this.high),l=t.center(),p=this.getCapsWidth(t,i),h=i?l.x:l.y,c=h-p,u=h+p,v;i?(v=[new F(l.x,s.y1),new F(l.x,s.y2)],e&&v.push(new F(c,s.y1),new F(u,s.y1),new F(c,s.y2),new F(u,s.y2)),this.box=new P(c,s.y1,u,s.y2)):(v=[new F(s.x1,l.y),new F(s.x2,l.y)],e&&v.push(new F(s.x1,c),new F(s.x1,u),new F(s.x2,c),new F(s.x2,u)),this.box=new P(s.x1,c,s.x2,u)),this.linePoints=v},r.prototype.getCapsWidth=function(t,e){var i=e?t.width():t.height(),a=Math.min(Math.floor(i/2),eu)||eu;return a},r.prototype.createVisual=function(){var t=this,e=this.options,i=e.visual;i?this.visual=i({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var a=t.visual;return delete t.visual,a}}):this.createDefaultVisual()},r.prototype.createDefaultVisual=function(){var t=this,e=this,i=e.options,a=e.linePoints,s={stroke:{color:i.color,width:i.line.width,dashType:i.line.dashType}};n.prototype.createVisual.call(this);for(var l=0;l<a.length;l+=2){var p=new O(s).moveTo(a[l].x,a[l].y).lineTo(a[l+1].x,a[l+1].y);ie(p),t.visual.append(p)}},r}(tt);S(jp,{animation:{type:jr,delay:de},endCaps:!0,line:{width:2},zIndex:1});var Db=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getAxis=function(){var t=this.chart.seriesValueAxis(this.series);return t},r}(jp);function _d(n){for(var r=0;r<n.length;r++)if(w(n[r].zIndex))return!0}function aa(n,r){r!==null&&n.push(r)}function xd(n){return Al(n)===n.length}function Vb(n,r,o){var t=r.visible;if(w(t))return t;var e=n.pointVisibility;if(e)return e[o]}function bd(n){for(var r=n.data,o=[],t=0,e=0,i=0;i<r.length;i++){var a=rt.current.bindPoint(n,i),s=a.valueFields.value;Kt(s)&&(s=parseFloat(s)),W(s)?(a.visible=Vb(n,a.fields,i)!==!1,a.value=Math.abs(s),o.push(a),a.visible&&(t+=a.value),s!==0&&e++):o.push(null)}return{total:t,points:o,count:e}}function Np(n){for(var r=n.length,o=0,t=0;t<r;t++)o=Math.max(o,n[t].data.length);return o}function Je(n,r){return n&&r?n.toLowerCase()===r.toLowerCase():n===r}var zb=5;function hr(n,r,o,t){o===void 0&&(o={}),t===void 0&&(t=!1);var e=o.defaults=o.defaults||{},i=o.depth=o.depth||0,a=!1;if(o.excluded=o.excluded||[],i>zb)return null;for(var s in n)if(!H(s,o.excluded)&&vp(n,s)){var l=n[s];lt(l)?(a=!0,t||(n[s]=j(l(r),e[s]))):ye(l)&&(t||(o.defaults=e[s]),o.depth++,a=hr(l,r,o,t)||a,o.depth--)}return a}function ut(n,r){for(var o=[],t=[].concat(r),e=0;e<n.length;e++){var i=n[e];H(i.type,t)&&o.push(i)}return o}var ru=new WeakMap;function wd(n,r,o){if(r===null||typeof r!="object")return Et(o,n);var t=ru.get(r);return t||(t=Et(o,n),ru.set(r,t)),t}function $p(n){var r=n.overlay;return r&&r.gradient&&r.gradient!=="none"}function Xt(n){return w(n)&&n!==null}function Ad(n,r){var o=n.type,t=r instanceof Date;return!o&&t||Je(o,ir)}function Yi(n){return n.length===1?n[0]:n}var Bb=/area/i;function Fb(n){return n.missingValues?n.missingValues:Bb.test(n.type)||n.stack?sr:Hi}function Ml(n,r){var o=rt.current.bindPoint(n,null,r),t=o.valueFields;for(var e in t)if(Af(t[e]))return!0}function iu(n){var r=n.start,o=n.dir,t=n.min,e=n.max,i=n.getter,a=n.hasItem,s=n.series,l,p,h=r;do h+=o,a(h)&&(p=i(h),l=Ml(s,p.item));while(t<=h&&h<=e&&!l);if(l)return p}function ou(n,r,o,t,e){var i=r.min,a=r.max,s=i>0&&i<o,l=a+1<o;if(s||l){var p=Fb(n),h,c;if(p!==Hi)s&&(h=t(i-1)),l&&(c=t(a+1));else{var u,v;s&&(u=t(i-1),v=Ml(n,u.item),v?h=u:h=iu({start:i,dir:-1,min:0,max:o-1,getter:t,hasItem:e,series:n})),l&&(u=t(a+1),v=Ml(n,u.item),v?c=u:c=iu({start:a,dir:1,min:0,max:o-1,getter:t,hasItem:e,series:n}))}h&&(n._outOfRangeMinPoint=h),c&&(n._outOfRangeMaxPoint=c)}}var Ur=function(n){function r(o,t){n.call(this,t),this.plotArea=o,this.chartService=o.chartService,this.categoryAxis=o.seriesCategoryAxis(t.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},r.prototype.pointOptions=function(t,e){var i=this.seriesOptions[e];if(!i){var a=this.pointType().prototype.defaults;this.seriesOptions[e]=i=_({},a,{vertical:!this.options.invertAxes},t)}return i},r.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&W(t.value)){for(var e=t.categoryIx,i=this.categoryPoints[e],a=[],s=0,l=0;l<i.length;l++){var p=i[l];if(p){var h=t.series.stack,c=p.series.stack;if(h&&c&&h.group!==c.group)continue;W(p.value)&&(s+=Math.abs(p.value),a.push(Math.abs(p.value)))}}if(s>0)return t.value/s}return t.value},r.prototype.plotRange=function(t,e){var i=this;e===void 0&&(e=0);var a=this.categoryPoints[t.categoryIx];if(this.options.isStacked){var s=this.plotValue(t),l=s>=0,p=e,h=!1,c=w(t.series.stack)?t.series.stack:this.options.defaultStack,u=function(b){return b===!0||typeof b===Xo&&!b.group};if(c)for(var v=0;v<a.length;v++){var f=a[v];if(t===f)break;var d=w(f.series.stack)?f.series.stack:i.options.defaultStack;if(d&&!(typeof c===hp&&c!==d)&&!(u(c)&&!u(d))&&!(c.group&&c.group!==d.group)){var g=i.plotValue(f);(g>=0&&l||g<0&&!l)&&(e===0||g!==0)&&(p+=g,s+=g,h=!0,i.options.isStacked100&&(s=Math.min(s,1)))}}return h&&(p-=e),[p,s]}var y=t.series,m=this.seriesValueAxis(y),x=this.categoryAxisCrossingValue(m);return[x,Af(t.value)?t.value:x]},r.prototype.stackLimits=function(t,e){for(var i=this,a=_t,s=wt,l=0;l<this.categoryPoints.length;l++){var p=i.categoryPoints[l];if(p)for(var h=0;h<p.length;h++){var c=p[h];if(c&&(c.series.stack===e||c.series.axis===t)){var u=i.plotRange(c,0)[1];w(u)&&isFinite(u)&&(s=Math.max(s,u),a=Math.min(a,u))}}}return{min:a,max:s}},r.prototype.updateStackRange=function(){var t=this,e=this.options,i=e.isStacked,a=e.series,s={};if(i)for(var l=0;l<a.length;l++){var p=a[l],h=p.axis,c=h+p.stack,u=s[c];if(!u){u=t.stackLimits(h,p.stack);var v=t.errorTotals;v&&(v.negative.length&&(u.min=Math.min(u.min,ml(v.negative).min)),v.positive.length&&(u.max=Math.max(u.max,ml(v.positive).max))),u.min!==_t||u.max!==wt?s[c]=u:u=null}u&&(t.valueAxisRanges[h]=u)}},r.prototype.addErrorBar=function(t,e,i){var a=t.value,s=t.series,l=t.seriesIx,p=t.options.errorBars,h=e.fields[ld],c=e.fields[pd],u;W(h)&&W(c)?u={low:h,high:c}:p&&w(p.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[l]=this.seriesErrorRanges[l]||new sd(p.value,s,ee),u=this.seriesErrorRanges[l].getErrorRange(a,p.value)),u&&(t.low=u.low,t.high=u.high,this.addPointErrorBar(t,i))},r.prototype.addPointErrorBar=function(t,e){var i=!this.options.invertAxes,a=t.options.errorBars,s=t.series,l=t.low,p=t.high;if(this.options.isStacked){var h=this.stackedErrorRange(t,e);l=h.low,p=h.high}else{var c={categoryIx:e,series:s};this.updateRange({value:l},c),this.updateRange({value:p},c)}var u=new Db(l,p,i,this,s,a);t.errorBars=[u],t.append(u)},r.prototype.stackedErrorRange=function(t,e){var i=this.plotRange(t,0)[1]-t.value,a=t.low+i,s=t.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},a<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,a)),s>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,s)),{low:a,high:s}},r.prototype.addValue=function(t,e){var i=e.categoryIx,a=e.series,s=e.seriesIx,l=this.categoryPoints[i];l||(this.categoryPoints[i]=l=[]);var p=this.seriesPoints[s];p||(this.seriesPoints[s]=p=[]);var h=this.createPoint(t,e);h&&(Object.assign(h,e),h.owner=this,h.noteText=t.fields.noteText,w(h.dataItem)||(h.dataItem=a.data[i]),this.addErrorBar(h,t,i)),this.points.push(h),p.push(h),l.push(h),this.updateRange(t.valueFields,e)},r.prototype.evalPointOptions=function(t,e,i){var a=i.categoryIx,s=i.category,l=i.series,p=i.seriesIx,h={defaults:l._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},c=this._evalSeries[p];w(c)||(this._evalSeries[p]=c=hr(t,{},h,!0));var u=t;return c&&(u=_({},u),hr(u,{value:e,category:s,index:a,series:l,dataItem:l.data[a]},h)),u},r.prototype.updateRange=function(t,e){var i=e.series.axis,a=t.value,s=this.valueAxisRanges[i];isFinite(a)&&a!==null&&(s=this.valueAxisRanges[i]=s||{min:_t,max:wt},s.min=Math.min(s.min,a),s.max=Math.max(s.max,a))},r.prototype.seriesValueAxis=function(t){var e=this.plotArea,i=t.axis,a=i?e.namedValueAxes[i]:e.valueAxis;if(!a)throw new Error("Unable to locate value axis with name "+i);return a},r.prototype.reflow=function(t){var e=this,i=this.categorySlots=[],a=this.points,s=this.categoryAxis,l=0;this.traverseDataPoints(function(p,h){var c=h.categoryIx,u=h.series,v=e.seriesValueAxis(u),f=a[l++],d=i[c];if(d||(i[c]=d=e.categorySlot(s,c,v)),f){var g=e.plotRange(f,v.startValue()),y=e.valueSlot(v,g);if(y){var m=e.pointSlot(d,y);f.aboveAxis=e.aboveAxis(f,v),f.stackValue=g[1],e.options.isStacked100&&(f.percentage=e.plotValue(f)),e.reflowPoint(f,m)}else f.visible=!1}}),this.reflowCategories(i),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},r.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},r.prototype.limitPoints=function(){for(var t=this,e=this.categoryPoints,i=e[0].concat(mt(e)),a=0;a<i.length;a++)i[a]&&t.limitPoint(i[a])},r.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},r.prototype.aboveAxis=function(t,e){var i=this.categoryAxisCrossingValue(e),a=t.value;return e.options.reverse?a<i:a>=i},r.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,i=t.options,a=[].concat(i.axisCrossingValues||i.axisCrossingValue);return a[e.axisIndex||0]||0},r.prototype.reflowPoint=function(t,e){t.reflow(e)},r.prototype.reflowCategories=function(){},r.prototype.pointSlot=function(t,e){var i=this.options,a=i.invertAxes,s=a?e:t,l=a?t:e;return new P(s.x1,l.y1,s.x2,l.y2)},r.prototype.categorySlot=function(t,e){return t.getSlot(e)},r.prototype.traverseDataPoints=function(t){for(var e=this,i=this.options.series,a=Np(i),s=i.length,l=0;l<s;l++)e._outOfRangeCallback(i[l],"_outOfRangeMinPoint",l,t);for(var p=0;p<a;p++)for(var h=0;h<s;h++){var c=i[h],u=e.categoryAxis.categoryAt(p),v=e.plotArea.bindPoint(c,p);t(v,{category:u,categoryIx:p,categoriesCount:a,series:c,seriesIx:h})}for(var f=0;f<s;f++)e._outOfRangeCallback(i[f],"_outOfRangeMaxPoint",f,t)},r.prototype._outOfRangeCallback=function(t,e,i,a){var s=t[e];if(s){var l=s.categoryIx,p=this.plotArea.bindPoint(t,l,s.item);a(p,{category:s.category,categoryIx:l,series:t,seriesIx:i,dataItem:s.item})}},r.prototype.formatPointValue=function(t,e){return t.value===null?"":this.chartService.format.auto(e,t.value)},r.prototype.pointValue=function(t){return t.valueFields.value},r}(tt);S(Ur,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var Me={click:function(n,r){return n.trigger(ud,this.eventArgs(r))},hover:function(n,r){return n.trigger(vd,this.eventArgs(r))},over:function(n,r){return n.trigger(fd,this.eventArgs(r))},out:function(n,r){return n.trigger(dd,this.eventArgs(r))},eventArgs:function(n){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:ke(n),originalEvent:n,point:this}}},uo={createNote:function(){var n=this.options.notes,r=this.noteText||n.label.text;n.visible!==!1&&w(r)&&r!==null&&(this.note=new dp({value:this.value,text:r,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},$e=function(n){function r(o,t){n.call(this),this.value=o,this.options=t,this.aboveAxis=j(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=hn()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){var t=this.options,e=t.markers;this._rendered||(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},r.prototype.createLabel=function(){var t=this.options,e=t.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},r.prototype.createLabelElement=function(t){return new Qt(this.getLabelText(t),_({align:N,vAlign:N,margin:{left:5,right:5},zIndex:j(t.zIndex,this.series.zIndex)},t),this.pointData())},r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value},r.prototype.getAriaLabelText=function(){var t=this.options.labels,e=Tf(t);return e?e(this.pointData()):this.getLabelText(t)},r.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,i=_({color:this.color},t.border);return w(i.color)||(i.color=new ve(e).brightness(ds).toHex()),i},r.prototype.createVisual=function(){},r.prototype.createMarker=function(){var t=this.options.markers,e=new qt({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,pattern:this.options.pattern,zIndex:j(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual,accessibilityOptions:_({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return e},r.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},r.prototype.reflow=function(t){var e=this,i=this,a=i.options,s=i.aboveAxis,l=a.vertical;this.render(),this.box=t;var p=t.clone();if(l?s?p.y1-=p.height():p.y2+=p.height():s?p.x1+=p.width():p.x2-=p.width(),this._childBox=p,this.marker&&this.marker.reflow(p),this.reflowLabel(p),this.errorBars)for(var h=0;h<this.errorBars.length;h++)e.errorBars[h].reflow(p);if(this.note){var c=this.markerBox();if(!(a.markers.visible&&a.markers.size)){var u=c.center();c=new P(u.x,u.y,u.x,u.y)}this.note.reflow(c)}},r.prototype.reflowLabel=function(t){var e=this,i=e.options,a=e.label,s=i.labels.position;a&&(s=s===Ha?G:s,s=s===kl?Y:s,a.reflow(t),a.box.alignTo(this.markerBox(),s),a.reflow(a.box))},r.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,i=this.options.markers,a=i.size+(i.border.width||0)+(t.border.width||0),s=new qt({type:i.type,width:a,height:a,rotation:i.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:j(t.border.opacity,1)},opacity:j(t.opacity,1)});return s.reflow(this._childBox),s.getElement()},r.prototype.highlightVisual=function(){return(this.marker||{}).visual},r.prototype.highlightVisualArgs=function(){var t=this.marker,e,i;if(t)i=t.paddingBox.toRect(),e=t.visual;else{var a=this.options.markers.size,s=a/2,l=this.box.center();i=new X([l.x-s,l.y-s],[a,a])}return{options:this.options,rect:i,visual:e}},r.prototype.createFocusHighlight=function(){var t=this.options.markers,e=this.options.focusHighlight,i=t.size+(t.border.width||0),a=new qt({type:t.type,width:i,height:i,rotation:t.rotation,background:e.color,border:e.border,opacity:e.opacity,padding:e.border.width/2,zIndex:e.zIndex});return a.reflow(this._childBox),a.getElement()},r.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox(),i=!e||e.overlaps(t);if(i){var a=t.x2+Ae,s=U,l,p;return this.aboveAxis?(l=t.y1,p=Y):(l=t.y2,p=G),{point:new F(a,l),align:{horizontal:s,vertical:p}}}},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.overlapsBox=function(t){var e=this.markerBox();return e.overlaps(t)},r.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},r.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},r.prototype.focusVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))},r.prototype.clearFocusFromVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))},r.prototype.getIndex=function(){return w(this.categoryIx)?this.categoryIx:this.pointIx},r}(tt);$e.prototype.defaults={vertical:!0,markers:{visible:!0,background:q,size:$a,type:Zt,border:{width:2},opacity:1},labels:{visible:!1,position:Ha,margin:J(3),padding:J(4),animation:{type:jr,delay:de}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:xf},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:Nr,className:$r,ariaRoleDescription:Hr}};_($e.prototype,Me);_($e.prototype,uo);var gi=function(n){function r(o,t,e){n.call(this),this.linePoints=o,this.series=t,this.seriesIx=e}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},r.prototype.toGeometryPoints=function(t){for(var e=[],i=0,a=t.length;i<a;i++)t[i]&&t[i].visible!==!1&&e.push(t[i]._childBox.toRect().center());return e},r.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!w(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},r.prototype.segmentVisual=function(){var t=this,e=t.options,i=t.series,a=i.color,s=i._defaults;lt(a)&&s&&(a=s.color);var l=O.fromPoints(this.points(),{stroke:{color:a,width:i.width,opacity:i.opacity,dashType:i.dashType},zIndex:i.zIndex});e.closed&&l.close(),this.visual=l},r.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},r}(tt);S(gi,{closed:!1});var Hp={calculateStepPoints:function(n){for(var r=this.parent.plotArea.seriesCategoryAxis(this.series),o=r.options,t=o.justified,e=o.vertical,i=o.reverse,a=e?E:L,s=e?L:E,l=i?2:1,p=l,h=Js(n[0],a,l,s,p),c=[h],u=1;u<n.length;u++){var v=Js(n[u],a,l,s,p);if(h[a]!==v[a]){var f=new T;f[a]=h[a],f[s]=v[s],c.push(f,v)}h=v}return t?h!==mt(c)&&c.push(h):c.push(Js(mt(n),a,l,s,i?1:2)),c}};function Js(n,r,o,t,e){var i=n.box,a=new T;return a[r]=i[r+o],a[t]=i[t+e],a}var Sd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},r}(gi);_(Sd.prototype,Hp);var Up=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,i=t.color;lt(i)&&e&&(i=e.color);var a=new fs(this.options.closed),s=a.process(this.points()),l=new O({stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});l.segments.push.apply(l.segments,s),this.visual=l},r}(gi),Gp={renderSegments:function(){var n=this,r=this,o=r.options,t=r.seriesPoints,e=o.series,i=t.length,a;this._segments=[];for(var s=0;s<i;s++){for(var l=e[s],p=n.sortPoints(t[s]),h=p.length,c=[],u=0;u<h;u++){var v=p[u];v?c.push(v):n.seriesMissingValues(l)!==Hi&&(c.length>1&&(a=n.createSegment(c,l,s,a),n._addSegment(a)),c=[])}c.length>1&&(a=n.createSegment(c,l,s,a),n._addSegment(a))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(n){this._segments.push(n),n.parent=this},sortPoints:function(n){return n},seriesMissingValues:function(n){var r=n.missingValues,o=!r&&this.options.isStacked;return o?sr:r||Hi},getNearestPoint:function(n,r,o){for(var t=new F(n,r),e=this.seriesPoints[o],i=_t,a,s=0;s<e.length;s++){var l=e[s];if(l&&w(l.value)&&l.value!==null&&l.visible!==!1){var p=l.box,h=p.center().distanceTo(t);h<i&&(a=l,i=h)}}return a}},Wp=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){this._setEnd(this.options.box.x1)},r.prototype.step=function(t){var e=this.options.box;this._setEnd(ue(e.x1,e.x2,t))},r.prototype._setEnd=function(t){var e=this.element,i=e.segments,a=i[1].anchor(),s=i[2].anchor();e.suspend(),a.setX(t),e.resume(),s.setX(t)},r}(_e);S(Wp,{duration:de});Ue.current.register("clip",Wp);var ys={createAnimation:function(){var n=this.getRoot();if(n&&(n.options||{}).transitions!==!1){var r=n.size(),o=O.fromRect(r.toRect());this.visual.clip(o),this.animation=new Wp(o,{box:r}),_d(this.options.series)&&this._setChildrenAnimation(o)}},_setChildrenAnimation:function(n){for(var r=this.animationPoints(),o=0;o<r.length;o++){var t=r[o];t&&t.visual&&w(t.visual.options.zIndex)&&t.visual.clip(n)}}},ms=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){n.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},r.prototype.pointType=function(){return $e},r.prototype.createPoint=function(t,e){var i=e.series,a=e.seriesIx,s=this.seriesMissingValues(i),l=t.valueFields.value;if(!w(l)||l===null)if(s===sr)l=0;else return null;var p=this.pointOptions(i,a);p=this.evalPointOptions(p,l,e);var h=t.fields.color||i.color;lt(i.color)&&(h=p.color);var c=new $e(l,p);return c.color=h,this.append(c),c},r.prototype.plotRange=function(t){var e=this,i=this.plotValue(t);if(this.options.isStacked)for(var a=t.categoryIx,s=this.categoryPoints[a],l=0;l<s.length;l++){var p=s[l];if(t===p)break;i+=e.plotValue(p),e.options.isStacked100&&(i=Math.min(i,1))}return[i,i]},r.prototype.createSegment=function(t,e,i){var a=e.style,s;return a===$o?s=Sd:a===so?s=Up:s=gi,new s(t,e,i)},r.prototype.animationPoints=function(){for(var t=this.points,e=[],i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e.concat(this._segments)},r.prototype.supportsPointInactiveOpacity=function(){return!1},r}(Ur);_(ms.prototype,Gp,ys);var vo=function(n){function r(o,t,e,i,a){n.call(this,o,t,e),this.prevSegment=i,this.stackPoints=a}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createVisual=function(){var t=this.series,e=t._defaults,i=t.line||{},a=t.color;lt(a)&&e&&(a=e.color),this.visual=new Q({zIndex:t.zIndex}),this.createFill({fill:Fr(t.pattern,{color:a,opacity:t.opacity}),stroke:null}),i.width>0&&i.visible!==!1&&this.createStroke({stroke:_({color:a,opacity:t.opacity,lineCap:"butt"},i)})},r.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},r.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},r.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},r.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},r.prototype.segmentsFromPoints=function(t){return t.map(function(e){return new It(e)})},r.prototype.createStroke=function(t){var e=new O(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},r.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},r.prototype.createFill=function(t){var e=this.strokeSegments(),i=e.slice(0),a=this.hasStackSegment();if(a){var s=this.stackSegments();vi(i,s)}var l=new O(t);l.segments.push.apply(l.segments,i),!a&&e.length>1&&this.fillToAxes(l),this.visual.append(l)},r.prototype.fillToAxes=function(t){var e=this.parent,i=e.options.invertAxes,a=e.seriesValueAxis(this.series),s=e.categoryAxisCrossingValue(a),l=a.getSlot(s,s,!0),p=this.strokeSegments(),h=p[0].anchor(),c=mt(p).anchor(),u=i?l.x1:l.y1;i?t.lineTo(u,c.y).lineTo(u,h.y):t.lineTo(c.x,u).lineTo(h.x,u)},r}(gi),kd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},r.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},r}(vo);_(kd.prototype,Hp);var Xp=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createStrokeSegments=function(){var t=new fs(this.options.closed),e=this.points();return t.process(e)},r.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],i=t.length-1;i>=0;i--){var a=t[i];e.push(new It(a.anchor(),a.controlOut(),a.controlIn()))}return e},r}(vo),jb=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createSegment=function(t,e,i,a){var s=this.options.isStacked,l=(e.line||{}).style,p,h;if(s&&i>0&&a){var c=this.seriesMissingValues(e);c!=="gap"?(h=a.linePoints,p=a):h=this._gapStackPoints(t,i,l)}var u;return l===$o?u=kd:l===so?u=Xp:u=vo,new u(t,e,i,p,h)},r.prototype.reflow=function(t){var e=this;n.prototype.reflow.call(this,t);var i=this._stackPoints;if(i)for(var a=0;a<i.length;a++){var s=i[a],l=e.categoryAxis.getSlot(s.categoryIx);s.reflow(l)}},r.prototype._gapStackPoints=function(t,e,i){var a=this,s=this.seriesPoints,l=t[0].categoryIx,p=t.length;l<0&&(l=0,p--);var h=l+p,c=this.seriesOptions[0]._outOfRangeMinPoint?1:0,u=[];this._stackPoints=this._stackPoints||[];for(var v=l;v<h;v++){var f=v+c,d=e,g=void 0;do d--,g=s[d][f];while(d>0&&!g);if(g)i!==$o&&v>l&&!s[d][f-1]&&u.push(a._previousSegmentPoint(v,f,f-1,d)),u.push(g),i!==$o&&v+1<h&&!s[d][f+1]&&u.push(a._previousSegmentPoint(v,f,f+1,d));else{var y=a._createGapStackPoint(v);a._stackPoints.push(y),u.push(y)}}return u},r.prototype._previousSegmentPoint=function(t,e,i,a){for(var s=this.seriesPoints,l=a,p;l>0&&!p;)l--,p=s[l][i];return p?p=s[l][e]:(p=this._createGapStackPoint(t),this._stackPoints.push(p)),p},r.prototype._createGapStackPoint=function(t){var e=this.pointOptions({},0),i=new $e(0,e);return i.categoryIx=t,i.series={},i},r.prototype.seriesMissingValues=function(t){return t.missingValues||sr},r.prototype.supportsPointInactiveOpacity=function(){return!1},r}(ms),Ya=function(n){function r(){n.call(this),this.axisRanges={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.update=function(t){var e=this.axisRanges;for(var i in t){var a=t[i],s=e[i];e[i]=s=s||{min:_t,max:wt},s.min=Math.min(s.min,a.min),s.max=Math.max(s.max,a.max)}},r.prototype.reset=function(t){this.axisRanges[t]=void 0},r.prototype.query=function(t){return this.axisRanges[t]},r}(R),qp=function(n){function r(o,t,e){n.call(this,t),this.textBox=new Qt(o,this.options,e),this.append(this.textBox)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},r.prototype.reflow=function(t){var e=this.options,i=e.vertical,a=e.aboveAxis,s=this.children[0],l=s.options,p=s.box,h=s.options.padding,c=t;if(l.align=i?N:U,l.vAlign=i?G:N,e.position===Xa)i?(l.vAlign=G,!a&&p.height()<t.height()&&(l.vAlign=Y)):l.align=a?Z:U;else if(e.position===N)l.vAlign=N,l.align=N;else if(e.position===Eb)i?l.vAlign=a?Y:G:l.align=a?U:Z;else if(e.position===ii)if(i)if(a){var u=(p.width()-t.width()-h.left-h.right)/2;c=new P(t.x1-u,t.y1-p.height(),t.x2+u,t.y1)}else c=new P(t.x1,t.y2,t.x2,t.y2+p.height());else l.align=N,a?c=new P(t.x2,t.y1,t.x2+p.width(),t.y2):c=new P(t.x1-p.width(),t.y1,t.x1,t.y2);e.rotation||(i?h.left=h.right=(c.width()-s.contentBox.width())/2:h.top=h.bottom=(c.height()-s.contentBox.height())/2),s.reflow(c)},r.prototype.alignToClipBox=function(t){var e=this.options.vertical,i=e?L:E,a=i+"1",s=i+"2",l=this.children[0],p=this.parent.box;if(p[a]<t[a]||t[s]<p[s]){var h=l.paddingBox.clone();h[a]=Math.max(p[a],t[a]),h[s]=Math.min(p[s],t[s]),this.reflow(h)}},r}(tt);S(qp,{position:ii,margin:J(3),padding:J(4),color:dt,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:jr,delay:de},zIndex:2});var fo={addAccessibilityAttributesToVisual:function(){this._id=this._id||hn();var n=_({ariaLabel:this.getAriaLabelText()},this.options.accessibility);fp(this.visual,n)},getAriaLabelText:function(){var r=this.options.labels,o=Tf(r);return o?o(this.pointData()):this.getLabelText(r)},focusVisual:function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual:function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}},Nb=6,dr=function(n){function r(o,t){n.call(this),this.options=t,this.color=t.color||q,this.aboveAxis=j(this.options.aboveAxis,!0),this.value=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},r.prototype.createLabel=function(){var t=this.options,e=t.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},r.prototype.createLabelElement=function(t){return new qp(this.getLabelText(t),_({vertical:this.options.vertical},t),this.pointData())},r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):this.formatValue(t.format)},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.reflow=function(t){var e=this;this.render();var i=this.label;if(this.box=t,i&&(i.options.aboveAxis=this.aboveAxis,i.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var a=0;a<this.errorBars.length;a++)e.errorBars[a].reflow(t)},r.prototype.createVisual=function(){var t=this,e=this,i=e.box,a=e.options,s=a.visual;if(this.visible!==!1)if(n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),s){var l=this.rectVisual=s({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:i.toRect(),createVisual:function(){var p=new Q;return t.createRect(p),p},options:a});l&&this.visual.append(l)}else i.width()>0&&i.height()>0&&this.createRect(this.visual)},r.prototype.createRect=function(t){var e=this.options,i=e.border,a=w(i.opacity)?i.opacity:e.opacity,s=this.box.toRect();s.size.width=Math.round(s.size.width);var l=this.rectVisual=O.fromRect(s,{fill:Fr(e.pattern,{color:this.color,opacity:e.opacity}),stroke:{color:this.getBorderColor(),width:i.width,opacity:a,dashType:i.dashType}}),p=this.box.width(),h=this.box.height(),c=e.vertical?p:h;if(c>Nb&&(ie(l),(p<1||h<1)&&(l.options.stroke.lineJoin="round")),t.append(l),$p(e)){var u=this.createGradientOverlay(l,{baseColor:this.color},_({end:e.vertical?void 0:[0,1]},e.overlay));t.append(u)}},r.prototype.createHighlight=function(t){var e=O.fromRect(this.box.toRect(),t);return ie(e)},r.prototype.highlightVisual=function(){return this.rectVisual},r.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},r.prototype.createFocusHighlight=function(t){var e=this.options.focusHighlight.border.width,i=O.fromRect(this.box.pad(e/2).toRect(),t);return ie(i)},r.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,i=e._brightness||ds,a=e.color;return w(a)||(a=new ve(t).brightness(i).toHex()),a},r.prototype.tooltipAnchor=function(){var t=this,e=t.options,i=t.box,a=t.aboveAxis,s=this.owner.pane.clipBox()||i,l=U,p=G,h,c;if(e.vertical)h=Math.min(i.x2,s.x2)+Ae,a?c=Math.max(i.y1,s.y1):(c=Math.min(i.y2,s.y2),p=Y);else{var u=Math.max(i.x1,s.x1),v=Math.min(i.x2,s.x2);e.isStacked?(p=Y,a?(l=Z,h=v):h=u,c=Math.max(i.y1,s.y1)-Ae):(a?h=v+Ae:(h=u-Ae,l=Z),c=Math.max(i.y1,s.y1))}return{point:new F(h,c),align:{horizontal:l,vertical:p}}},r.prototype.overlapsBox=function(t){return this.box.overlaps(t)},r.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},r.prototype.getIndex=function(){return this.categoryIx},r}(tt);_(dr.prototype,Me);_(dr.prototype,uo);_(dr.prototype,fo);dr.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}};function Td(n,r){n.forEach(r)}function Cd(n,r){for(var o=n.length,t=o-1;t>=0;t--)r(n[t],t-o-1)}var bn=function(n){function r(o){n.call(this,o),this.forEach=o.rtl?Cd:Td}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this.options,i=e.vertical,a=e.gap,s=e.spacing,l=this.children,p=l.length,h=i?L:E,c=p+a+s*(p-1),u=(i?t.height():t.width())/c,v=t[h+1]+u*(a/2);this.forEach(l,function(f,d){var g=(f.box||t).clone();g[h+1]=v,g[h+2]=v+u,f.reflow(g),d<p-1&&(v+=u*s),v+=u})},r}(tt);S(bn,{vertical:!1,gap:0,spacing:0});var Pd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){for(var e=this,i=this.options.vertical?E:L,a=this.children,s=a.length,l=this.box=new P,p=0;p<s;p++){var h=a[p];if(h.visible!==!1){var c=h.box.clone();c.snapTo(t,i),p===0&&(l=e.box=c.clone()),h.reflow(c),l.wrap(c)}}},r}(tt);S(Pd,{vertical:!0});var go=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){n.prototype.render.call(this),this.updateStackRange()},r.prototype.pointType=function(){return dr},r.prototype.clusterType=function(){return bn},r.prototype.stackType=function(){return Pd},r.prototype.stackLimits=function(t,e){var i=n.prototype.stackLimits.call(this,t,e);return i},r.prototype.createPoint=function(t,e){var i=e.categoryIx,a=e.series,s=e.seriesIx,l=this,p=l.options,h=l.children,c=w(a.stack)?a.stack:p.defaultStack,u=this.pointValue(t),v=this.pointOptions(a,s),f=v.labels;c&&f.position===ii&&(f.position=Xa),v.isStacked=c;var d=t.fields.color||a.color;u<0&&v.negativeColor&&(d=v.negativeColor),v=this.evalPointOptions(v,u,e),lt(a.color)&&(d=v.color);var g=this.pointType(),y=new g(u,v);y.color=d;var m=h[i];if(!m){var x=this.clusterType();m=new x({vertical:p.invertAxes,gap:p.gap,spacing:p.spacing,rtl:!p.invertAxes&&(this.chartService||{}).rtl}),this.append(m)}if(p.isStacked){var b=this.getStackWrap(c,m);b.append(y)}else m.append(y);return y},r.prototype.getStackWrap=function(t,e){var i=typeof t===Xo?t.group||!0:t,a=e.children,s;if(typeof i===hp||i===!0){for(var l=0;l<a.length;l++)if(a[l]._stackGroup===i){s=a[l];break}}if(!s){var p=this.stackType();s=new p({vertical:!this.options.invertAxes}),s._stackGroup=i,e.append(s)}return s},r.prototype.categorySlot=function(t,e,i){var a=this.options,s=t.getSlot(e),l=i.startValue();if(a.isStacked){var p=i.getSlot(l,l,!0),h=a.invertAxes?E:L;s[h+1]=s[h+2]=p[h+1]}return s},r.prototype.reflowCategories=function(t){for(var e=this.children,i=e.length,a=0;a<i;a++)e[a].reflow(t[a])},r.prototype.createAnimation=function(){this._setAnimationOptions(),n.prototype.createAnimation.call(this),_d(this.options.series)&&this._setChildrenAnimation()},r.prototype._setChildrenAnimation=function(){for(var t=this,e=this.points,i=0;i<e.length;i++){var a=e[i],s=a.visual;s&&w(s.options.zIndex)&&(a.options.animation=t.options.animation,a.createAnimation())}},r.prototype._setAnimationOptions=function(){var t=this.options,e=t.animation||{},i;if(t.isStacked){var a=this.seriesValueAxis(t.series[0]);i=a.getSlot(a.startValue())}else i=this.categoryAxis.getSlot(0);e.origin=new T(i.x1,i.y1),e.vertical=!t.invertAxes},r}(Ur);S(go,{animation:{type:ge}});var Gr=function(n){function r(o,t){n.call(this,t),this.value=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getLabelText=function(t){return this.formatValue(t.format)},r.prototype.reflow=function(t){var e=this,i=e.options,a=e.value,s=e.owner,l=s.seriesValueAxis(i),p=l.getSlot(a.open,a.close),h=l.getSlot(a.low,a.high);p.x1=h.x1=t.x1,p.x2=h.x2=t.x2,this.realBody=p;var c=h.center().x,u=[];u.push([[c,h.y1],[c,p.y1]]),u.push([[c,p.y2],[c,h.y2]]),this.lines=u,this.box=h.clone().wrap(p),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},r.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},r.prototype.createVisual=function(){n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},r.prototype.mainVisual=function(t){var e=new Q;return this.createBody(e,t),this.createLines(e,t),e},r.prototype.createBody=function(t,e){var i=O.fromRect(this.realBody.toRect(),{fill:Fr(e.pattern,{color:this.color,opacity:e.opacity}),stroke:null});e.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:j(e.border.opacity,e.opacity)}),ie(i),t.append(i),$p(e)&&t.append(this.createGradientOverlay(i,{baseColor:this.color},_({end:e.vertical?void 0:[0,1]},e.overlay)))},r.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},r.prototype.drawLines=function(t,e,i,a){if(i)for(var s={stroke:{color:a.color||this.color,opacity:j(a.opacity,e.opacity),width:a.width,dashType:a.dashType,lineCap:"butt"}},l=0;l<i.length;l++){var p=O.fromPoints(i[l],s);ie(p),t.append(p)}},r.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return w(e)||(e=new ve(this.color).brightness(t._brightness).toHex()),e},r.prototype.createOverlay=function(){var t=O.fromRect(this.box.toRect(),{fill:{color:q,opacity:0},stroke:null});this.visual.append(t)},r.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var i=this.mainVisual(_({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,i},r.prototype.highlightVisual=function(){return this._mainVisual},r.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},r.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new F(t.x2+Ae,Math.max(t.y1,e.y1)+Ae),align:{horizontal:U,vertical:G}}},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.overlapsBox=function(t){return this.box.overlaps(t)},r.prototype.pointData=function(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}},r.prototype.getIndex=function(){return this.categoryIx},r}(tt);Gr.prototype.createFocusHighlight=dr.prototype.createFocusHighlight;S(Gr,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}});_(Gr.prototype,Me);_(Gr.prototype,uo);_(Gr.prototype,fo);var _s=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflowCategories=function(t){for(var e=this.children,i=e.length,a=0;a<i;a++)e[a].reflow(t[a])},r.prototype.addValue=function(t,e){var i=e.categoryIx,a=e.category,s=e.series,l=e.seriesIx,p=this,h=p.children,c=p.options,u=t.valueFields,v=this.splitValue(u),f=xd(v),d=s.data[i],g=this.categoryPoints[i],y;g||(this.categoryPoints[i]=g=[]),f&&(y=this.createPoint(t,e));var m=h[i];m||(m=new bn({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),y&&(this.updateRange(u,e),m.append(y),y.categoryIx=i,y.category=a,y.series=s,y.seriesIx=l,y.owner=this,y.dataItem=d,y.noteText=t.fields.noteText),this.points.push(y),g.push(y)},r.prototype.pointType=function(){return Gr},r.prototype.createPoint=function(t,e){var i=e.series,a=this.pointType(),s=t.valueFields,l=_({},i),p=t.fields.color||i.color;l=this.evalPointOptions(l,s,e),(i.type===po||i.type===ho)&&s.open>s.close&&(p=t.fields.downColor||i.downColor||i.color),lt(i.color)&&(p=l.color),l.vertical=!this.options.invertAxes;var h=new a(s,l);return h.color=p,h},r.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},r.prototype.updateRange=function(t,e){var i=e.series.axis,a=this.splitValue(t),s=this.valueAxisRanges[i]||{min:_t,max:wt};this.valueAxisRanges[i]={min:Math.min.apply(Math,a.concat([s.min])),max:Math.max.apply(Math,a.concat([s.max]))}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.open,i.high,i.low,i.close,t.category)},r.prototype.animationPoints=function(){return this.points},r}(Ur);_(_s.prototype,ys);var xs=function(n){function r(o,t){n.call(this,o,t),this.createNote()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=e.options,a=e.value,s=e.owner,l=s.seriesValueAxis(i),p,h;this.boxSlot=h=l.getSlot(a.q1,a.q3),this.realBody=h,this.reflowBoxSlot(t),this.whiskerSlot=p=l.getSlot(a.lower,a.upper),this.reflowWhiskerSlot(t);var c=l.getSlot(a.median);if(a.mean){var u=l.getSlot(a.mean);this.meanPoints=this.calcMeanPoints(t,u)}this.whiskerPoints=this.calcWhiskerPoints(h,p),this.medianPoints=this.calcMedianPoints(t,c),this.box=p.clone().wrap(h),this.reflowNote()},r.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},r.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},r.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},r.prototype.calcWhiskerPoints=function(t,e){var i=e.center().x;return[[[i-5,e.y1],[i+5,e.y1],[i,e.y1],[i,t.y1]],[[i-5,e.y2],[i+5,e.y2],[i,e.y2],[i,t.y2]]]},r.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},r.prototype.renderOutliers=function(t){for(var e=this,i=this.value,a=i.outliers||[],s=Math.abs(i.q3-i.q1)*3,l=[],p=t.markers||{},h=0;h<a.length;h++){var c=a[h];c<i.q3+s&&c>i.q1-s?p=t.outliers:p=t.extremes;var u=_({},p.border);w(u.color)||(w(e.color)?u.color=e.color:u.color=new ve(p.background).brightness(ds).toHex());var v=new qt({type:p.type,width:p.size,height:p.size,rotation:p.rotation,background:p.background,border:u,opacity:p.opacity});v.value=c,l.push(v)}return this.reflowOutliers(l),l},r.prototype.reflowOutliers=function(t){for(var e=this,i=this.owner.seriesValueAxis(this.options),a=this.box.center(),s=0;s<t.length;s++){var l=t[s].value,p=i.getSlot(l);e.options.vertical?p.move(a.x):p.move(void 0,a.y),e.box=e.box.wrap(p),t[s].reflow(p)}},r.prototype.mainVisual=function(t){for(var e=n.prototype.mainVisual.call(this,t),i=this.renderOutliers(t),a=0;a<i.length;a++){var s=i[a].getElement();s&&e.append(s)}return e},r.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},r.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:n.prototype.getBorderColor.call(this)},r}(Gr);S(xs,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:$a,type:lp,background:q,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:$a,type:Zt,background:q,border:{width:2,opacity:1},opacity:0}});_(xs.prototype,Me);var $b=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},r.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},r.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},r.prototype.calcWhiskerPoints=function(t,e){var i=e.center().y;return[[[e.x1,i-5],[e.x1,i+5],[e.x1,i],[t.x1,i]],[[e.x2,i-5],[e.x2,i+5],[e.x2,i],[t.x2,i]]]},r.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},r}(xs),Hb=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.addValue=function(t,e){var i=e.categoryIx,a=e.category,s=e.series,l=e.seriesIx,p=this,h=p.children,c=p.options,u=t.valueFields,v=this.splitValue(u),f=xd(v),d=s.data[i],g=this.categoryPoints[i],y;g||(this.categoryPoints[i]=g=[]),f&&(y=this.createPoint(t,e));var m=h[i];m||(m=new bn({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),y&&(this.updateRange(u,e),m.append(y),y.categoryIx=i,y.category=a,y.series=s,y.seriesIx=l,y.owner=this,y.dataItem=d),this.points.push(y),g.push(y)},r.prototype.pointType=function(){return this.options.invertAxes?$b:xs},r.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},r.prototype.updateRange=function(t,e){var i=e.series.axis,a=this.splitValue(t).concat(this.filterOutliers(t.outliers));w(t.mean)&&(a=a.concat(t.mean));var s=this.valueAxisRanges[i]||{min:_t,max:wt};this.valueAxisRanges[i]={min:Math.min.apply(Math,a.concat([s.min])),max:Math.max.apply(Math,a.concat([s.max]))}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,t.category)},r.prototype.filterOutliers=function(t){for(var e=(t||[]).length,i=[],a=0;a<e;a++){var s=t[a];w(s)&&s!==null&&i.push(s)}return i},r.prototype.supportsPointInactiveOpacity=function(){return!1},r}(_s),Ub=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series),e=this.isVertical?t.y:t.x;return e},r}(jp),yo=function(n){function r(o,t){n.call(this,t),this.plotArea=o,this.chartService=o.chartService,this._initFields(),this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},r.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},r.prototype.addErrorBar=function(t,e,i){var a=t.value[e],s=e+"Value",l=e+"ErrorLow",p=e+"ErrorHigh",h=i.seriesIx,c=i.series,u=t.options.errorBars,v=i[l],f=i[p];if(W(a)){var d;W(v)&&W(f)&&(d={low:v,high:f}),u&&w(u[s])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][h]=this.seriesErrorRanges[e][h]||new sd(u[s],c,e),d=this.seriesErrorRanges[e][h].getErrorRange(a,u[s])),d&&this.addPointErrorBar(d,t,e)}},r.prototype.addPointErrorBar=function(t,e,i){var a=t.low,s=t.high,l=e.series,p=e.options.errorBars,h=i===L,c={};e[i+"Low"]=a,e[i+"High"]=s,e.errorBars=e.errorBars||[];var u=new Ub(a,s,h,this,l,p);e.errorBars.push(u),e.append(u),c[i]=a,this.updateRange(c,l),c[i]=s,this.updateRange(c,l)},r.prototype.addValue=function(t,e){var i=t.x,a=t.y,s=e.seriesIx,l=this.options.series[s],p=this.seriesMissingValues(l),h=this.seriesPoints[s],c=t;Xt(i)&&Xt(a)||(c=this.createMissingValue(c,p));var u;c&&(u=this.createPoint(c,e),u&&(Object.assign(u,e),this.addErrorBar(u,E,e),this.addErrorBar(u,L,e)),this.updateRange(c,e.series)),this.points.push(u),h.push(u)},r.prototype.seriesMissingValues=function(t){return t.missingValues},r.prototype.createMissingValue=function(){},r.prototype.updateRange=function(t,e){var i=this.chartService.intl,a=e.xAxis,s=e.yAxis,l=t.x,p=t.y,h=this.xAxisRanges[a],c=this.yAxisRanges[s];Xt(l)&&(h=this.xAxisRanges[a]=h||{min:_t,max:wt},Kt(l)&&(l=Et(i,l)),h.min=Math.min(h.min,l),h.max=Math.max(h.max,l)),Xt(p)&&(c=this.yAxisRanges[s]=c||{min:_t,max:wt},Kt(p)&&(p=Et(i,p)),c.min=Math.min(c.min,p),c.max=Math.max(c.max,p))},r.prototype.evalPointOptions=function(t,e,i){var a=i.series,s=i.seriesIx,l={defaults:a._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},p=this._evalSeries[s];w(p)||(this._evalSeries[s]=p=hr(t,{},l,!0));var h=t;return p&&(h=_({},t),hr(h,{value:e,series:a,dataItem:i.dataItem},l)),h},r.prototype.pointType=function(){return $e},r.prototype.pointOptions=function(t,e){var i=this.seriesOptions[e];if(!i){var a=this.pointType().prototype.defaults;this.seriesOptions[e]=i=_({},a,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i},r.prototype.createPoint=function(t,e){var i=e.series,a=this.pointOptions(i,e.seriesIx),s=e.color||i.color;a=this.evalPointOptions(a,t,e),lt(i.color)&&(s=a.color);var l=new $e(t,a);return l.color=s,this.append(l),l},r.prototype.seriesAxes=function(t){var e=t.xAxis,i=t.yAxis,a=this.plotArea,s=e?a.namedXAxes[e]:a.axisX,l=i?a.namedYAxes[i]:a.axisY;if(!s)throw new Error("Unable to locate X axis with name "+e);if(!l)throw new Error("Unable to locate Y axis with name "+i);return{x:s,y:l}},r.prototype.reflow=function(t){var e=this,i=this.points,a=!this.options.clip,s=0;this.traverseDataPoints(function(l,p){var h=i[s++],c=e.seriesAxes(p.series),u=c.x.getSlot(l.x,l.x,a),v=c.y.getSlot(l.y,l.y,a);if(h)if(u&&v){var f=e.pointSlot(u,v);h.reflow(f)}else h.visible=!1}),this.box=t},r.prototype.pointSlot=function(t,e){return new P(t.x1,e.y1,t.x2,e.y2)},r.prototype.traverseDataPoints=function(t){for(var e=this,i=this,a=i.options.series,s=i.seriesPoints,l=0;l<a.length;l++){var p=a[l],h=s[l];h||(s[l]=[]);for(var c=0;c<p.data.length;c++){var u=e.plotArea.bindPoint(p,c),v=u.valueFields,f=u.fields;t(v,_({pointIx:c,series:p,seriesIx:l,dataItem:p.data[c],owner:e},f))}}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.x,i.y)},r.prototype.animationPoints=function(){for(var t=this.points,e=[],i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e},r}(tt);S(yo,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0});_(yo.prototype,ys);var tn=function(n){function r(o,t){n.call(this,o,t),this.category=o.category}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,i=this.options.markers,a=this.box.center(),s=(i.size+i.border.width+e.width)/2,l=new Q,p=new re(new Bt([a.x,a.y+s/5+e.width/2],s+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),h=new re(new Bt([a.x,a.y],s),{stroke:{color:e.color||new ve(i.background).brightness(ds).toHex(),width:e.width,opacity:e.opacity},fill:Fr(this.options.pattern,{color:i.background,opacity:t.opacity})});return l.append(p,h),l},r.prototype.createFocusHighlight=function(t){var e=this.options.focusHighlight,i=this.options.markers,a=this.box.center(),s=(i.size+i.border.width)/2+e.border.width/2,l=new re(new Bt([a.x,a.y],s),t);return l},r}($e);tn.prototype.defaults=_({},tn.prototype.defaults,{labels:{position:N},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}});tn.prototype.defaults.highlight.zIndex=void 0;var Md=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initFields=function(){this._maxSize=wt,n.prototype._initFields.call(this)},r.prototype.addValue=function(t,e){t.size!==null&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),n.prototype.addValue.call(this,t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))},r.prototype.reflow=function(t){this.updateBubblesSize(t),n.prototype.reflow.call(this,t)},r.prototype.pointType=function(){return tn},r.prototype.createPoint=function(t,e){var i=e.series,a=i.data.length,s=e.pointIx*(de/a),l={delay:s,duration:de-s,type:lo},p=e.color||i.color;t.size<0&&i.negativeValues.visible&&(p=j(i.negativeValues.color,p));var h=_({labels:{animation:{delay:s,duration:de-s}}},this.pointOptions(i,e.seriesIx),{markers:{type:Zt,border:i.border,opacity:i.opacity,animation:l}});h=this.evalPointOptions(h,t,e),lt(i.color)&&(p=h.color),h.markers.background=p;var c=new tn(t,h);return c.color=p,this.append(c),c},r.prototype.updateBubblesSize=function(t){for(var e=this,i=this,a=i.options.series,s=Math.min(t.width(),t.height()),l=0;l<a.length;l++)for(var p=a[l],h=e.seriesPoints[l],c=p.minSize||Math.max(s*.02,10),u=p.maxSize||s*.2,v=c/2,f=u/2,d=Math.PI*v*v,g=Math.PI*f*f,y=g-d,m=y/e._maxSize,x=0;x<h.length;x++){var b=h[x];if(b){var A=Math.abs(b.value.size)*m,k=Math.sqrt((d+A)/Math.PI),C=j(b.options.zIndex,0),I=C+(1-k/f);_(b.options,{zIndex:I,markers:{size:k*2,zIndex:I},labels:{zIndex:I+1}})}}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.size,t.category)},r.prototype.createAnimation=function(){},r.prototype.createVisual=function(){},r}(yo);S(Md,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var Od=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(qt);_(Od.prototype,Me);var yi=function(n){function r(o,t){n.call(this,t),this.aboveAxis=this.options.aboveAxis,this.color=t.color||q,this.value=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,w(this.value.target)&&(this.target=new Od({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:G,align:Z}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())},r.prototype.createLabel=function(){var t=this.options,e=t.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},r.prototype.createLabelElement=function(t){return new qp(this.getLabelText(t),t,this.pointData())},r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):this.formatValue(t.format)},r.prototype.reflow=function(t){this.render();var e=this,i=e.options,a=e.target,s=e.owner,l=i.invertAxes,p=s.seriesValueAxis(this.options),h=s.categorySlot(s.categoryAxis,i.categoryIx,p),c=p.getSlot(this.value.target),u=l?c:h,v=l?h:c;if(a){var f=new P(u.x1,v.y1,u.x2,v.y2);a.options.height=l?f.height():i.target.line.width,a.options.width=l?i.target.line.width:f.width(),a.reflow(f)}var d=this.label;d&&(d.options.aboveAxis=this.aboveAxis,d.reflow(t)),this.note&&this.note.reflow(t),this.box=t},r.prototype.createVisual=function(){n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual();var t=this.options,e=O.fromRect(this.box.toRect(),{fill:Fr(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:j(t.border.opacity,t.opacity)}),this.bodyVisual=e,ie(e),this.visual.append(e)},r.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=_e.create(this.bodyVisual,this.options.animation))},r.prototype.createHighlight=function(t){return O.fromRect(this.box.toRect(),t)},r.prototype.highlightVisual=function(){return this.bodyVisual},r.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}},r.prototype.overlapsBox=function(t){return this.box.overlaps(t)},r.prototype.getIndex=function(){return this.categoryIx},r}(tt);yi.prototype.tooltipAnchor=dr.prototype.tooltipAnchor;yi.prototype.createFocusHighlight=dr.prototype.createFocusHighlight;S(yi,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}});_(yi.prototype,Me);_(yi.prototype,uo);_(yi.prototype,fo);var Yp=function(n){function r(o,t){Gb(t),n.call(this,o,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflowCategories=function(t){for(var e=this.children,i=e.length,a=0;a<i;a++)e[a].reflow(t[a])},r.prototype.plotRange=function(t){var e=t.series,i=this.seriesValueAxis(e),a=this.categoryAxisCrossingValue(i);return[a,t.value.current||a]},r.prototype.createPoint=function(t,e){var i=e.categoryIx,a=e.series,s=this,l=s.options,p=s.children,h=t.valueFields,c=_({vertical:!l.invertAxes,overlay:a.overlay,categoryIx:i,invertAxes:l.invertAxes},a),u=t.fields.color||a.color;c=this.evalPointOptions(c,h,e),lt(a.color)&&(u=c.color);var v=new yi(h,c);v.color=u;var f=p[i];return f||(f=new bn({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(v),v},r.prototype.updateRange=function(t,e){var i=t.current,a=t.target,s=e.series.axis,l=this.valueAxisRanges[s];w(i)&&!isNaN(i)&&w(a&&!isNaN(a))&&(l=this.valueAxisRanges[s]=l||{min:_t,max:wt},l.min=Math.min(l.min,i,a),l.max=Math.max(l.max,i,a))},r.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},r.prototype.pointValue=function(t){return t.valueFields.current},r.prototype.aboveAxis=function(t){var e=t.value.current;return e>0},r.prototype.createAnimation=function(){var t=this,e=this.points;this._setAnimationOptions();for(var i=0;i<e.length;i++){var a=e[i];a.options.animation=t.options.animation,a.createAnimation()}},r}(Ur);Yp.prototype._setAnimationOptions=go.prototype._setAnimationOptions;S(Yp,{animation:{type:ge}});function Gb(n){for(var r=n.series,o=0;o<r.length;o++){var t=r[o],e=t.data;e&&!Lt(e[0])&&!ye(e[0])&&(t.data=[e])}}var bs=function(n){function r(o,t){n.call(this),this.chartService=o,this.options=_({},this.options,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getStyle=function(t,e){var i=t.background,a=t.border.color;if(e){var s=e.color||e.options.color;i=j(i,s),a=j(a,s)}var l=t.padding!==void 0?J(t.padding):{};return typeof t.padding=="object"&&(l.top=t.padding.top!==void 0?l.top:void 0,l.right=t.padding.right!==void 0?l.right:void 0,l.bottom=t.padding.bottom!==void 0?l.bottom:void 0,l.left=t.padding.left!==void 0?l.left:void 0),{backgroundColor:i,borderColor:a,font:t.font,color:t.color,opacity:t.opacity,borderWidth:Ci(t.border.width),paddingTop:Ci(l.top),paddingBottom:Ci(l.bottom),paddingLeft:Ci(l.left),paddingRight:Ci(l.right)}},r.prototype.show=function(t,e,i){if(this.chartService){t.format=e.format;var a=this.getStyle(e,i);t.style=a;var s=new ve(a.backgroundColor);!w(e.color)&&!s.isDark()&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(yd,t),this.visible=!0}},r.prototype.hide=function(){this.chartService&&this.chartService.notify(md),this.visible=!1},r.prototype.destroy=function(){delete this.chartService},r}(R);S(bs,{border:{width:1},opacity:1});var Rd=function(n){function r(o,t,e){n.call(this,o,e),this.crosshair=t,this.formatService=o.format,this.initAxisName()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initAxisName=function(){var t=this.crosshair.axis,e=t.plotArea,i;e.categoryAxis?i=t.getCategory?"categoryAxis":"valueAxis":i=t.options.vertical?"yAxis":"xAxis",this.axisName=i},r.prototype.showAt=function(t){var e=this,i=e.crosshair.axis,a=e.options,s=i[a.stickyMode?"getCategory":"getValue"](t),l=s;a.format?l=this.formatService.auto(a.format,s):i.options.type===ir&&(l=this.formatService.auto(i.options.labels.dateFormats[i.options.baseUnit],s)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:l,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},r.prototype.hide=function(){this.chartService.notify(md,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},r.prototype.getAnchor=function(){var t=this,e=t.crosshair,i=t.options,a=i.position,s=i.padding,l=!e.axis.options.vertical,p=e.line.bbox(),h,c,u;return l?(h=N,a===Y?(c=G,u=p.bottomLeft().translate(0,s)):(c=Y,u=p.topLeft().translate(0,-s))):(c=N,a===U?(h=Z,u=p.topLeft().translate(-s,0)):(h=U,u=p.topRight().translate(s,0))),{point:u,align:{horizontal:h,vertical:c}}},r}(bs);S(Rd,{padding:10});var Ed=function(n){function r(o,t,e){n.call(this,e),this.axis=t,this.stickyMode=t instanceof ze;var i=this.options.tooltip;i.visible&&(this.tooltip=new Rd(o,this,_({},i,{stickyMode:this.stickyMode})))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},r.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},r.prototype.moveLine=function(){var t=this,e=t.axis,i=t.point,a=e.options.vertical,s=this.getBox(),l=a?L:E,p=new T(s.x1,s.y1),h;if(a?h=new T(s.x2,s.y1):h=new T(s.x1,s.y2),i)if(this.stickyMode){var c=e.getSlot(e.pointCategoryIndex(i));p[l]=h[l]=c.center()[l]}else p[l]=h[l]=i[l];this.box=s,this.line.moveTo(p).lineTo(h)},r.prototype.getBox=function(){for(var t=this.axis,e=t.pane.axes,i=e.length,a=t.options.vertical,s=t.lineBox().clone(),l=a?E:L,p,h=0;h<i;h++){var c=e[h];c.options.vertical!==a&&(p?p.wrap(c.lineBox()):p=c.lineBox().clone())}return s[l+1]=p[l+1],s[l+2]=p[l+2],s},r.prototype.createVisual=function(){n.prototype.createVisual.call(this);var t=this.options;this.line=new O({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),n.prototype.destroy.call(this)},r}(tt);S(Ed,{color:dt,width:2,zIndex:-1,tooltip:{visible:!1}});var Ld=function(n){function r(o,t){n.call(this,o),this.pane=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.shouldClip=function(){for(var t=this.children,e=t.length,i=0;i<e;i++)if(t[i].options.clip===!0)return!0;return!1},r.prototype._clipBox=function(){return this.pane.chartsBox()},r.prototype.createVisual=function(){if(this.visual=new Q({zIndex:0}),this.shouldClip()){var t=this.clipBox=this._clipBox(),e=t.toRect(),i=O.fromRect(e);ie(i),this.visual.clip(i),this.unclipLabels()}},r.prototype.stackRoot=function(){return this},r.prototype.unclipLabels=function(){for(var t=this,e=t.children,i=t.clipBox,a=0;a<e.length;a++)for(var s=e[a].points||{},l=s.length,p=0;p<l;p++){var h=s[p];if(h&&h.visible!==!1&&h.overlapsBox&&h.overlapsBox(i))if(h.unclipElements)h.unclipElements();else{var c=h.label,u=h.note;c&&c.options.visible&&(c.alignToClipBox&&c.alignToClipBox(i),c.options.noclip=!0),u&&u.options.visible&&(u.options.noclip=!0)}}},r.prototype.destroy=function(){n.prototype.destroy.call(this),delete this.parent},r}(tt);Ld.prototype.isStackRoot=!0;var Zp=function(n){function r(o){n.call(this,o),this.id=Xb(),this.createTitle(),this.content=new tt,this.chartContainer=new Ld({},this),this.append(this.content),this.axes=[],this.charts=[]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createTitle=function(){var t=this.options.title;ye(t)&&(t=_({},t,{align:t.position,position:G})),this.title=Di.buildTitle(t,r.prototype.options.title),this.title&&this.append(this.title)},r.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},r.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},r.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},r.prototype.empty=function(){var t=this,e=this.parent;if(e){for(var i=0;i<this.axes.length;i++)e.removeAxis(t.axes[i]);for(var a=0;a<this.charts.length;a++)e.removeChart(t.charts[a])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},r.prototype.reflow=function(t){var e;mt(this.children)===this.content&&(e=this.children.pop()),n.prototype.reflow.call(this,t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())},r.prototype.visualStyle=function(){var t=n.prototype.visualStyle.call(this);return t.zIndex=-10,t},r.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},r.prototype.stackRoot=function(){return this},r.prototype.clipRoot=function(){return this},r.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),i=[],a=[],s=0;s<t.length;s++)for(var l=t[s],p=l.options.vertical,h=p?i:a,c=0;c<e.length;c++)if(h.length===0){var u=e[c];p!==u.options.vertical&&vi(h,l.createGridLines(u))}},r.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},r.prototype.chartsBox=function(){for(var t=this.axes,e=t.length,i=new P,a=0;a<e;a++){var s=t[a],l=s.options.vertical?L:E,p=s.lineBox();i[l+1]=p[l+1],i[l+2]=p[l+2]}if(i.x2===0)for(var h=this.parent.axes,c=h.length,u=0;u<c;u++){var v=h[u];if(!v.options.vertical){var f=v.lineBox();i.x1=f.x1,i.x2=f.x2}}return i},r.prototype.clipBox=function(){return this.chartContainer.clipBox},r.prototype.notifyRender=function(){var t=this.getService();t&&t.notify(Pb,{pane:new Na(this),index:this.paneIndex,name:this.options.name})},r}(Lr),Wb=1;function Xb(){return"pane"+Wb++}Zp.prototype.isStackRoot=!0;S(Zp,{zIndex:-1,shrinkToFit:!0,title:{align:U},visible:!0});var tl=function(n){return n.options.visible!==!1},gr=function(n){function r(o,t,e){n.call(this,t),this.initFields(o,t),this.series=o,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=e,this.originalOptions=t,this.originalSeries=o,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){},r.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},r.prototype.bindPoint=function(t,e,i){var a=this._bindCache.get(t);a||(a=[],this._bindCache.set(t,a));var s=a[e];return s||(s=a[e]=rt.current.bindPoint(t,e,i)),s},r.prototype.createPanes=function(){for(var t=this,e=this.options.title||{},i=this.options.paneDefaults,a=this.options.panes||[],s=Math.max(a.length,1),l=[],p=_({title:{color:e.color}},i),h=0;h<s;h++){var c=_({},p,a[h]);Kt(c.title)&&(c.title=_({text:c.title},p.title));var u=new Zp(c);u.paneIndex=h,l.push(u),t.append(u)}this.panes=l},r.prototype.crosshairOptions=function(t){return t.options.crosshair},r.prototype.createCrosshairs=function(t){var e=this;t===void 0&&(t=this.panes);for(var i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.axes.length;s++){var l=a.axes[s],p=e.crosshairOptions(l);if(p&&p.visible){var h=new Ed(e.chartService,l,p);e.crosshairs.push(h),a.content.append(h)}}},r.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,i=t.axes,a=e.length-1;a>=0;a--)for(var s=0;s<i.length;s++)if(e[a].axis===i[s]){e.splice(a,1);break}},r.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},r.prototype.findPane=function(t){for(var e=this.panes,i,a=0;a<e.length;a++)if(e[a].options.name===t){i=e[a];break}return i||e[0]},r.prototype.findPointPane=function(t){for(var e=this.panes,i,a=0;a<e.length;a++)if(e[a].box.containsPoint(t)){i=e[a];break}return i},r.prototype.appendAxis=function(t){var e=this.findPane(t.options.pane);e.appendAxis(t),this.axes.push(t),t.plotArea=this},r.prototype.removeAxis=function(t){for(var e=this,i=[],a=0;a<this.axes.length;a++){var s=e.axes[a];t!==s?i.push(s):s.destroy()}this.axes=i},r.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},r.prototype.removeChart=function(t){for(var e=this,i=[],a=0;a<this.charts.length;a++){var s=e.charts[a];s!==t?i.push(s):s.destroy()}this.charts=i},r.prototype.addToLegend=function(t){for(var e=t.length,i=this.options.legend,a=i.labels||{},s=i.inactiveItems||{},l=s.labels||{},p=[],h=0;h<e;h++){var c=t[h],u=c.visible!==!1;if(c.visibleInLegend!==!1){var v=c.name,f=u?Ct(a):Ct(l)||Ct(a);f&&(v=f({text:Xt(v)?v:"",series:c}));var d=c._defaults,g=c.color;lt(g)&&d&&(g=d.color);var y=void 0,m=void 0;u?(y={},m=g):(y={color:l.color,font:l.font},m=s.markers.color),Xt(v)&&v!==""&&p.push({text:v,labels:y,markerColor:m,series:c,active:u})}}vi(i.data,p)},r.prototype.groupAxes=function(t){for(var e=[],i=[],a=0;a<t.length;a++)for(var s=t[a].axes,l=0;l<s.length;l++){var p=s[l];p.options.vertical?i.push(p):e.push(p)}return{x:e,y:i,any:e.concat(i)}},r.prototype.groupSeriesByPane=function(){for(var t=this,e=this.series,i={},a=0;a<e.length;a++){var s=e[a],l=t.seriesPaneName(s);i[l]?i[l].push(s):i[l]=[s]}return i},r.prototype.filterVisibleSeries=function(t){for(var e=[],i=0;i<t.length;i++){var a=t[i];a.visible!==!1&&e.push(a)}return e},r.prototype.reflow=function(t){var e=this.options.plotArea,i=this.panes,a=J(e.margin);this.box=t.clone().unpad(a),this.reflowPanes(),this.detachLabels(),this.reflowAxes(i),this.reflowCharts(i)},r.prototype.redraw=function(t){var e=this,i=[].concat(t);this.initSeries();var a=this.getRoot();a&&a.cleanGradients();for(var s=0;s<i.length;s++)e.removeCrosshairs(i[s]),i[s].empty();this._bindCache=new WeakMap,this.render(i),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(i),this.createCrosshairs(i);for(var l=0;l<i.length;l++)i[l].refresh()},r.prototype.axisCrossingValues=function(t,e){for(var i=t.options,a=[].concat(i.axisCrossingValues||i.axisCrossingValue),s=e.length-a.length,l=a[0]||0,p=0;p<s;p++)a.push(l);return a},r.prototype.alignAxisTo=function(t,e,i,a){var s=t.getSlot(i,i,!0),l=t.options.reverse?2:1,p=e.getSlot(a,a,!0),h=e.options.reverse?2:1,c=t.box.translate(p[E+h]-s[E+l],p[L+h]-s[L+l]);t.pane!==e.pane&&c.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(c)},r.prototype.alignAxes=function(t,e){for(var i=this,a=t[0],s=e[0],l=this.axisCrossingValues(a,e),p=this.axisCrossingValues(s,t),h={},c={},u={},v={},f=0;f<e.length;f++){var d=e[f],g=d.pane,y=g.id,m=d.options.visible!==!1,x=Wn(t,g)||a,b=l;if(x!==a&&(b=i.axisCrossingValues(x,e)),i.alignAxisTo(d,x,p[f],b[f]),!d.options._overlap){M(d.lineBox().x1)===M(x.lineBox().x1)&&(h[y]&&d.reflow(d.box.alignTo(h[y].box,U).translate(-d.options.margin,0)),m&&(h[y]=d)),M(d.lineBox().x2)===M(x.lineBox().x2)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),i.alignAxisTo(d,x,p[f],b[f]),c[y]&&d.reflow(d.box.alignTo(c[y].box,Z).translate(d.options.margin,0)),m&&(c[y]=d));var A=Wn(e,g)||s;A!==d&&(d.alignTo(A),d.reflow(d.box))}}for(var k=0;k<t.length;k++){var C=t[k],I=C.pane,$=I.id,B=C.options.visible!==!1,D=Wn(e,I)||s,K=p;D!==s&&(K=i.axisCrossingValues(D,t)),i.alignAxisTo(C,D,l[k],K[k]),!C.options._overlap&&(M(C.lineBox().y1)===M(D.lineBox().y1)&&(C._mirrored||(C.options.labels.mirror=!C.options.labels.mirror,C._mirrored=!0),i.alignAxisTo(C,D,l[k],K[k]),u[$]&&C.reflow(C.box.alignTo(u[$].box,G).translate(0,-C.options.margin)),B&&(u[$]=C)),M(C.lineBox().y2,Tt)===M(D.lineBox().y2,Tt)&&(v[$]&&C.reflow(C.box.alignTo(v[$].box,Y).translate(0,C.options.margin)),B&&(v[$]=C)),k!==0&&(C.alignTo(a),C.reflow(C.box)))}},r.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,i=el(e),a=0,s=0;s<t.length;s++){var l=t[s];l.axes.length>0&&(a=Math.max(a,i.width()-l.contentBox.width()))}if(a!==0)for(var p=0;p<e.length;p++){var h=e[p];h.options.vertical||h.reflow(h.box.shrink(a,0))}},r.prototype.shrinkAxisHeight=function(t){for(var e,i=0;i<t.length;i++){var a=t[i],s=a.axes,l=Math.max(0,el(s).height()-a.contentBox.height());if(l!==0){for(var p=0;p<s.length;p++){var h=s[p];h.options.vertical&&h.reflow(h.box.shrink(0,l))}e=!0}}return e},r.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,i=0,a=0;a<t.length;a++){var s=t[a],l=s.axes,p=s.contentBox;if(l.length>0){var h=el(l),c=Math.max(p.y1-h.y1,p.y2-h.y2);i=Math.max(i,p.x1-h.x1);for(var u=0;u<l.length;u++){var v=l[u];v.reflow(v.box.translate(0,c))}}}for(var f=0;f<e.length;f++){var d=e[f];d.reflow(d.box.translate(i,0))}},r.prototype.reflowAxes=function(t){for(var e=this,i=this.groupAxes(t),a=0;a<t.length;a++)e.reflowPaneAxes(t[a]);i.x.length>0&&i.y.length>0&&(this.alignAxes(i.x,i.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(i),this.alignAxes(i.x,i.y),this.shrinkAxisWidth(t)&&this.alignAxes(i.x,i.y),this.shrinkAxisHeight(t),this.alignAxes(i.x,i.y),this.shrinkAxisHeight(t)&&this.alignAxes(i.x,i.y),this.fitAxes(t))},r.prototype.autoRotateAxisLabels=function(t){for(var e=this,i=this,a=i.panes,s=Zb(a),l,p=0;p<s.length;p++){var h=s[p];h.autoRotateLabels()&&(l=!0)}if(l){for(var c=0;c<a.length;c++)e.reflowPaneAxes(a[c]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(a))}},r.prototype.reflowPaneAxes=function(t){var e=t.axes,i=e.length;if(i>0)for(var a=0;a<i;a++)e[a].reflow(t.contentBox)},r.prototype.reflowCharts=function(t){for(var e=this.charts,i=e.length,a=this.box,s=0;s<i;s++){var l=e[s].pane;(!l||H(l,t))&&e[s].reflow(a)}},r.prototype.reflowPanes=function(){for(var t=this,e=t.box,i=t.panes,a=i.length,s=e.height(),l=0,p=e.y1,h=0;h<a;h++){var c=i[h],u=c.options.height;if(c.options.width=e.width(),!c.options.height)l++;else{if(u.indexOf&&u.indexOf("%")){var v=parseInt(u,10)/100;c.options.height=v*e.height()}c.reflow(e.clone()),s-=c.options.height}}for(var f=0;f<a;f++){var d=i[f];d.options.height||(d.options.height=s/l)}for(var g=0;g<a;g++){var y=i[g],m=e.clone().move(e.x1,p);y.reflow(m),p+=y.options.height}},r.prototype.backgroundBox=function(){for(var t=this.axes,e=t.length,i,a=0;a<e;a++)for(var s=t[a],l=0;l<e;l++){var p=t[l];if(s.options.vertical!==p.options.vertical){var h=s.lineBox().clone().wrap(p.lineBox());i?i=i.wrap(h):i=h}}return i||this.box},r.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],i=0;i<t.length;i++)e.push(t[i].chartsBox());return e},r.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),i=0;i<e.length;i++)t.paths.push(O.fromRect(e[i].toRect()))},r.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),i=0;i<e.length;i++)if(e[i].containsPoint(t))return!0},r.prototype.createVisual=function(){n.prototype.createVisual.call(this);var t=this.options.plotArea,e=t.opacity,i=t.background,a=t.border;a===void 0&&(a={}),Yb(i)&&(i=q,e=0);var s=this._bgVisual=new Be({fill:{color:i,opacity:e},stroke:{color:a.width?a.color:"",width:a.width,dashType:a.dashType},zIndex:-1});this.addBackgroundPaths(s),this.appendVisual(s)},r.prototype.pointsByCategoryIndex=function(t){var e=this.charts,i=[];if(t!==null)for(var a=0;a<e.length;a++){var s=e[a];if(s.pane.options.name!=="_navigator"){var l=e[a].categoryPoints[t];if(l&&l.length)for(var p=0;p<l.length;p++){var h=l[p];h&&w(h.value)&&h.value!==null&&i.push(h)}}}return i},r.prototype.pointsBySeriesIndex=function(t){return this.filterPoints(function(e){return e.series.index===t})},r.prototype.pointsByPointIndex=function(t){return this.filterPoints(function(e){return e.getIndex()===t})},r.prototype.pointsBySeriesName=function(t){return this.filterPoints(function(e){return e.series.name===t})},r.prototype.filterPoints=function(t){for(var e=this.charts,i=[],a=0;a<e.length;a++)for(var s=e[a],l=s.points,p=0;p<l.length;p++){var h=l[p];h&&h.visible!==!1&&t(h)&&i.push(h)}return i},r.prototype.findPoint=function(t){for(var e=this.charts,i=0;i<e.length;i++)for(var a=e[i],s=a.points,l=0;l<s.length;l++){var p=s[l];if(p&&p.visible!==!1&&t(p))return p}},r.prototype.paneByPoint=function(t){for(var e=this.panes,i=0;i<e.length;i++){var a=e[i];if(a.box.containsPoint(t))return a}},r.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,i=t.y;this.detachAxisGroupLabels(i,e),this.detachAxisGroupLabels(e,i)},r.prototype.detachAxisGroupLabels=function(t,e){for(var i=this,a=0,s=0;s<t.length;s++){var l=t[s],p=l.pane,h=Wn(e,p)||e[0],c=s+a,u=i.createLabelAxis(l,c,h);if(u){a++;var v=p.axes.indexOf(l)+a;p.appendAxisAt(u,v)}}},r.prototype.createLabelAxis=function(t,e,i){var a=t.options.labels,s=a.position,l=s!==Wo&&s!==Pa,p=a.visible;if(l||p===!1)return null;var h=this.groupAxes(this.panes),c=i.options.vertical?h.x:h.y,u=this.axisCrossingValues(i,c),v=s===Wo,f=i.range(),d=v?f.max:f.min,g=V(u[e],f.min,f.max);if(g-d===0)return null;u.splice(e+1,0,d),i.options.axisCrossingValues=u;var y=t.clone();return t.clear(),y.options.name=void 0,y.options.line.visible=!1,y.options.crosshair=void 0,y.options.notes=void 0,y.options.plotBands=void 0,y},r.prototype.isTrendline=function(t){return t&&H(t.type,co)},r.prototype.trendlineFactory=function(){},r.prototype.createTrendlineSeries=function(){var t=this,e=[];return this.series=this.series.map(function(i){if(!t.isTrendline(i))return i;var a=t.seriesByName(i.for);if(!a)throw new Error('Invalid Configuration: Unable to locate linked series "'+i.for+'" for trendline "'+i.name+'".');var s=rt.current.valueFields(a),l=mt(s),p=t.trendlineFactory(Object.assign({},{field:l},i),a);return p&&(a.visible===!1&&(p.visible=!1),p.color===bf&&(p.color=a.color),e.push(p)),p}).filter(function(i){return i!==null}),e},r.prototype.seriesByName=function(t){return this.series.find(function(e){return e.name===t})},r.prototype.getFirstPoint=function(){for(var t=this,e=0;e<this.series.length;e++){var i=t.pointsBySeriesIndex(e),a=i.find(tl);if(a)return a}},r.prototype.getPointBelow=function(t){return this._getNextPoint(t,this._pointsByVertical,1)},r.prototype.getPointAbove=function(t){return this._getNextPoint(t,this._pointsByVertical,-1)},r.prototype.getPointToTheRight=function(t){return this._getNextPoint(t,this._pointsByHorizontal,1)},r.prototype.getPointToTheLeft=function(t){return this._getNextPoint(t,this._pointsByHorizontal,-1)},r.prototype._getNextPoint=function(t,e,i){var a=this,s=e.call(this,t).filter(tl),l=s.indexOf(t),p=l+i,h=function(c){var u,v=0;do v+=c,u=e.call(a,t,v).filter(tl);while(u.length===0);return u};return p<0?(s=h(-1),s.at(-1)):p>=s.length?(s=h(1),s.at(0)):s[p]},r.prototype._pointsByVertical=function(t){return this.pointsByPointIndex(t.getIndex())},r.prototype._pointsByHorizontal=function(t,e){e===void 0&&(e=0);var i=Oa(t.series.index+e,this.series.length);return this.pointsBySeriesIndex(i)},r}(tt);function qb(n){return!n.pane.axes.some(function(r){return r.options.vertical===n.options.vertical&&r!==n&&r.options.visible!==!1})}function el(n){for(var r=n.length,o,t=0;t<r;t++){var e=n[t],i=e.options.visible!==!1;if(i||qb(e)){var a=i?e.contentBox():e.lineBox();o?o.wrap(a):o=a.clone()}}return o||new P}function Wn(n,r){for(var o=0;o<n.length;o++){var t=n[o];if(t&&t.pane===r)return t}}function Yb(n){return n===""||n===null||n==="none"||n==="transparent"||!w(n)}var Zb=function(n){return n.reduce(function(r,o){return r.concat(o.axes)},[])};S(gr,{series:[],plotArea:{margin:{}},background:"",border:{color:dt,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var wn={hover:function(n,r){this._dispatchEvent(n,r,gd)},click:function(n,r){this._dispatchEvent(n,r,Tb)}},Kb=function(n){function r(o,t,e){n.call(this);var i=t.canonicalFields(o),a=t.valueFields(o),s=t.sourceFields(o,i),l=this._seriesFields=[],p=e.query(o.type),h=o.aggregate||p;this._series=o,this._binder=t;for(var c=0;c<i.length;c++){var u=i[c],v=void 0;if(ye(h))v=h[u];else if(c===0||H(u,a))v=h;else break;v&&l.push({canonicalName:u,name:s[c],transform:lt(v)?v:Sl[v]})}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.aggregatePoints=function(t,e){var i=this,a=this,s=a._series,l=a._seriesFields,p=this._bindPoints(t||[]),h=p.dataItems[0],c={};if(h&&!W(h)&&!Lt(h)){var u=function(){};u.prototype=h,c=new u}for(var v=0;v<l.length;v++){var f=l[v],d=i._bindField(p.values,f.canonicalName),g=f.transform(d,s,p.dataItems,e);if(g!==null&&ye(g)&&!w(g.length)&&!(g instanceof Date)){c=g;break}else w(g)&&Qb(f.name,c,g)}return c},r.prototype._bindPoints=function(t){for(var e=this,i=e._binder,a=e._series,s=[],l=[],p=0;p<t.length;p++){var h=t[p];s.push(i.bindPoint(a,h)),l.push(a.data[h])}return{values:s,dataItems:l}},r.prototype._bindField=function(t,e){for(var i=[],a=t.length,s=0;s<a;s++){var l=t[s],p=l.valueFields,h=void 0;w(p[e])?h=p[e]:h=l.fields[e],i.push(h)}return i},r}(R);function Qb(n,r,o){var t=r,e=n;if(n.indexOf(".")>-1){for(var i=n.split(".");i.length>1;)e=i.shift(),w(t[e])||(t[e]={}),t=t[e];e=i.shift()}t[e]=o}var cr=function(n){function r(){n.call(this),this._defaults={}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.register=function(t,e){for(var i=this,a=0;a<t.length;a++)i._defaults[t[a]]=e},r.prototype.query=function(t){return this._defaults[t]},r}(R);cr.current=new cr;var Ol=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createLabel=function(){var t=this.options.labels,e=_({},t,t.from),i=_({},t,t.to);e.visible&&(this.labelFrom=this.createLabelElement(e),this.append(this.labelFrom)),i.visible&&(this.labelTo=this.createLabelElement(i),this.append(this.labelTo))},r.prototype.reflow=function(t){this.render();var e=this,i=e.labelFrom,a=e.labelTo,s=e.value;this.box=t,i&&(i.options.aboveAxis=s.from>s.to,i.reflow(t)),a&&(a.options.aboveAxis=s.to>s.from,a.reflow(t)),this.note&&this.note.reflow(t)},r}(dr);Ol.prototype.defaults=_({},Ol.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var Id=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointType=function(){return Ol},r.prototype.pointValue=function(t){return t.valueFields},r.prototype.formatPointValue=function(t,e){return t.value.from===null&&t.value.to===null?"":this.chartService.format.auto(e,t.value.from,t.value.to)},r.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},r.prototype.updateRange=function(t,e){var i=e.series.axis,a=t.from,s=t.to,l=this.valueAxisRanges[i];t!==null&&W(a)&&W(s)&&(l=this.valueAxisRanges[i]=l||{min:_t,max:wt},l.min=Math.min(l.min,a),l.max=Math.max(l.max,a),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))},r.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},r}(go);Id.prototype.plotLimits=Ur.prototype.plotLimits;var nu=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.aliasFor=function(){return this.parent},r}($e),Dd="auto",Jb="{0}",t1="{1}",en=function(n){function r(o,t){n.call(this),this.value=o,this.options=t,this.aboveAxis=j(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=hn(),this.initLabelsFormat()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,i=t.labels,a=this.value,s=this.fromPoint=new nu(a,_({},this.options,{labels:i.from,markers:e.from})),l=this.toPoint=new nu(a,_({},this.options,{labels:i.to,markers:e.to}));this.copyFields(s),this.copyFields(l),this.append(s),this.append(l)}},r.prototype.reflow=function(t){this.render();var e=t.from,i=t.to;this.positionLabels(e,i),this.fromPoint.reflow(e),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},r.prototype.createHighlight=function(){var t=new Q;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},r.prototype.highlightVisual=function(){return this.visual},r.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},r.prototype.createFocusHighlight=function(){var t=new Q;return t.append(this.fromPoint.createFocusHighlight()),t.append(this.toPoint.createFocusHighlight()),t},r.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox(),e=!t||t.overlaps(this.box);if(e){var i=this.box,a=i.center(),s=U,l,p,h;return this.options.vertical?(l=a.x,p=i.y1-Ae,h=Y):(l=i.x2+Ae,p=a.y,h=N),{point:new F(l,p),align:{horizontal:s,vertical:h}}}},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.overlapsBox=function(t){return this.box.overlaps(t)},r.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},r.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||((!t.from||!t.from.format)&&(t.from=Object.assign({},t.from,{format:Jb})),(!t.to||!t.to.format)&&(t.to=Object.assign({},t.to,{format:t1})))},r.prototype.positionLabels=function(t,e){var i=this.options,a=i.labels,s=i.vertical;if(a.position===Dd){var l,p;s?e.y1<=t.y1?(p=Ha,l=kl):(p=kl,l=Ha):e.x1<=t.x1?(p=U,l=Z):(p=Z,l=U),(!a.from||!a.from.position)&&(this.fromPoint.options.labels.position=l),(!a.to||!a.to.position)&&(this.toPoint.options.labels.position=p)}},r.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},r.prototype.focusVisual=function(){this.fromPoint.focusVisual()},r.prototype.clearFocusFromVisual=function(){this.toPoint.clearFocusFromVisual()},r.prototype.getIndex=function(){return this.categoryIx},r}(tt);_(en.prototype,Me);_(en.prototype,uo);en.prototype.defaults={markers:{visible:!1,background:q,size:$a,type:Zt,border:{width:2},opacity:1},labels:{visible:!1,margin:J(3),padding:J(4),animation:{type:jr,delay:de},position:Dd},notes:{label:{}},highlight:{markers:{border:{color:q,width:2}},zIndex:xf},tooltip:{format:"{0} - {1}"},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}};var Kp=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},r.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},r.prototype.createStroke=function(t){var e=new O(t),i=new O(t);e.segments.push.apply(e.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(e),this.visual.append(i)},r.prototype.hasStackSegment=function(){return!0},r.prototype.fromPoints=function(){return this.linePoints.map(function(t){return t.fromPoint})},r.prototype.toPoints=function(){return this.linePoints.map(function(t){return t.toPoint})},r}(vo),e1=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},r.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},r.prototype.createCurveSegments=function(t){var e=new fs;return e.process(this.toGeometryPoints(t))},r}(Kp),Vd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},r.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t},r}(Kp);_(Vd.prototype,Hp);var zd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){n.prototype.render.call(this),this.renderSegments()},r.prototype.pointType=function(){return en},r.prototype.createPoint=function(t,e){var i=e.series,a=e.seriesIx,s=t.valueFields;if(!Xt(s.from)&&!Xt(s.to))if(this.seriesMissingValues(i)===sr)s={from:0,to:0};else return null;var l=this.pointOptions(i,a);l=this.evalPointOptions(l,s,e);var p=t.fields.color||i.color;lt(i.color)&&(p=l.color);var h=new en(s,l);return h.color=p,this.append(h),h},r.prototype.createSegment=function(t,e,i){var a=(e.line||{}).style,s;return a==="smooth"?s=e1:a==="step"?s=Vd:s=Kp,new s(t,e,i)},r.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},r.prototype.valueSlot=function(t,e){var i=t.getSlot(e[0],e[0],!this.options.clip),a=t.getSlot(e[1],e[1],!this.options.clip);if(i&&a)return{from:i,to:a}},r.prototype.pointSlot=function(t,e){var i=e.from,a=e.to,s,l;return this.options.invertAxes?(s=new P(i.x1,t.y1,i.x2,t.y2),l=new P(a.x1,t.y1,a.x2,t.y2)):(s=new P(t.x1,i.y1,t.x2,i.y2),l=new P(t.x1,a.y1,t.x2,a.y2)),{from:s,to:l}},r.prototype.addValue=function(t,e){var i=t.valueFields;W(i.from)||(i.from=i.to),W(i.to)||(i.to=i.from),n.prototype.addValue.call(this,t,e)},r.prototype.updateRange=function(t,e){if(t!==null&&W(t.from)&&W(t.to)){var i=e.series.axis,a=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:_t,max:wt},s=t.from,l=t.to;a.min=Math.min(a.min,s,l),a.max=Math.max(a.max,s,l)}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.from,i.to)},r.prototype.animationPoints=function(){for(var t=this.points,e=[],i=0;i<t.length;i++){var a=t[i];a&&(e.push((a.fromPoint||{}).marker),e.push((a.toPoint||{}).marker))}return e.concat(this._segments)},r}(Ur);_(zd.prototype,Gp,ys);var r1=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=e.options,a=e.value,s=e.owner,l=s.seriesValueAxis(i),p=[],h=[],c=[],u=l.getSlot(a.low,a.high),v=l.getSlot(a.open,a.open),f=l.getSlot(a.close,a.close);v.x1=f.x1=u.x1=t.x1,v.x2=f.x2=u.x2=t.x2;var d=u.center().x;p.push([v.x1,v.y1]),p.push([d,v.y1]),h.push([d,f.y1]),h.push([f.x2,f.y1]),c.push([d,u.y1]),c.push([d,u.y2]),this.lines=[p,h,c],this.box=u.clone().wrap(v.clone().wrap(f)),this.reflowNote()},r.prototype.createBody=function(){},r}(Gr),i1=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointType=function(){return r1},r}(_s),Bd=function(n){function r(o,t,e){n.call(this),this.from=o,this.to=t,this.series=e}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.linePoints=function(){var t=this.from,e=this,i=e.from.box,a=e.to.box,s=[];if(t.isVertical){var l=t.aboveAxis?i.y1:i.y2;s.push([i.x1,l],[a.x2,l])}else{var p=t.aboveAxis?i.x2:i.x1;s.push([p,i.y1],[p,a.y2])}return s},r.prototype.createVisual=function(){n.prototype.createVisual.call(this);var t=this.series.line||{},e=O.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});ie(e),this.visual.append(e)},r}(tt);S(Bd,{animation:{type:jr,delay:de}});var o1=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){n.prototype.render.call(this),this.createSegments()},r.prototype.traverseDataPoints=function(t){for(var e=this,i=this.options.series,a=Np(i),s=!this.options.invertAxes,l=0;l<i.length;l++)for(var p=i[l],h=0,c=0,u=0;u<a;u++){var v=rt.current.bindPoint(p,u),f=v.valueFields.value,d=v.fields.summary,g=h,y=void 0;d?d.toLowerCase()==="total"?(v.valueFields.value=h,g=0,y=h):(v.valueFields.value=c,y=g-c,c=0):W(f)&&(c+=f,h+=f,y=h),t(v,{category:e.categoryAxis.categoryAt(u),categoryIx:u,series:p,seriesIx:l,total:h,runningTotal:c,from:g,to:y,isVertical:s})}},r.prototype.updateRange=function(t,e){n.prototype.updateRange.call(this,{value:e.to},e)},r.prototype.aboveAxis=function(t){return t.value>=0},r.prototype.plotRange=function(t){return[t.from,t.to]},r.prototype.createSegments=function(){for(var t=this,e=this.options.series,i=this.seriesPoints,a=this.segments=[],s=0;s<e.length;s++){var l=e[s],p=i[s];if(p)for(var h=void 0,c=0;c<p.length;c++){var u=p[c];if(u&&h){var v=new Bd(h,u,l);a.push(v),t.append(v)}h=u}}},r}(go);function Fd(n,r,o){var t=n[String(r)];return t?t(o):null}function Wr(n,r){for(var o=0,t=0,e=0,i=0,a=0,s,l,p=Number.MAX_VALUE,h=Number.MIN_VALUE,c=0;c<n.length;c++){var u=n[c],v=r(u),f=v.xValue,d=v.yValue;isFinite(f)&&f!==null&&isFinite(d)&&d!==null&&(p=Math.min(f,p),h=Math.max(f,h),a++,o+=f,t+=d,e+=Math.pow(f,2),i+=f*d)}return a>0&&(s=(a*i-o*t)/(a*e-Math.pow(o,2)),l=(t-s*o)/a),{slope:s,intercept:l,count:a,xMin:p,xMax:h}}var An=function(n,r){return n.every(function(o){var t=o.valueFields;return!Xt(t[r])||t[r]>0})};function Sn(n,r){for(var o=[],t=r.totalRangeIndices(),e=r.currentRangeIndices(),i={min:Math.floor(Math.max(e.min-1,t.min)),max:Math.ceil(Math.min(e.max+2,t.max))},a=i.min;a<i.max;a++){var s=a+1;o[a]={category:r.categoryAt(a,!0),value:n(s)}}return o}function n1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=s1({seriesValues:t,categoryAxis:o,options:r});return e?Object.assign({},r,{type:"line",data:e,categoryField:"category",field:"value"}):null}var a1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:o+1,yValue:Math.log(t[n])}}};function s1(n){var r=n.seriesValues,o=n.categoryAxis,t=n.options,e=r();if(!An(e,t.field))return null;var i=Wr(e,a1(t.field)),a=i.slope,s=i.intercept,l=i.count;if(l>0){var p=Math.exp(s),h=a;return Sn(function(c){return p*Math.exp(h*c)},o)}return null}function l1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=h1({seriesValues:t,categoryAxis:o,options:r});return e?Object.assign({},r,{type:"line",data:e,categoryField:"category",field:"value"}):null}var p1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:o+1,yValue:t[n]}}};function h1(n){var r=n.seriesValues,o=n.categoryAxis,t=n.options,e=Wr(r(),p1(t.field)),i=e.slope,a=e.intercept,s=e.count;return s>0?Sn(function(l){return i*l+a},o):null}function c1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=v1({seriesValues:t,categoryAxis:o,options:r});return e?Object.assign({},r,{type:"line",data:e,categoryField:"category",field:"value"}):null}var u1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:Math.log(o+1),yValue:t[n]}}};function v1(n){var r=n.seriesValues,o=n.categoryAxis,t=n.options,e=Wr(r(),u1(t.field)),i=e.slope,a=e.intercept,s=e.count;if(s>0){var l=i,p=a;return Sn(function(h){return l*Math.log(h)+p},o)}return null}function jd(n,r,o){for(var t=[],e=[],i=Math.max(Fp,o)-1,a=0,s=0,l=0;l<n.length;l++){var p=n[l],h=r(p),c=h.xValue,u=h.yValue;if(isFinite(u)&&u!==null?(e.push(u),s+=u,a=Math.max(l,a)):e.push(null),l>=i){var v=e.filter(function(g){return g!==null}).length,f=e.shift()||0;if(v>0){var d=s/v;t.push([c,d]),s-=f;continue}}t.push([c,null])}return t.slice(0,a+1)}function f1(n){var r=n.options,o=y1(n);return o?Object.assign({},r,{type:"line",data:o,categoryField:"category",field:"value"}):null}var d1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:o,yValue:t[n]}}};function g1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=(r.trendline||{}).period||Fp,i=o.totalRangeIndices(),a=o.currentRangeIndices(),s={min:Math.floor(Math.max(a.min-e,i.min)),max:Math.ceil(Math.min(a.max+e+2,i.max))};return jd(t(s),d1(r.field),e)}function y1(n){var r=n.categoryAxis,o=g1(n),t=[];return o.forEach(function(e){var i=e[0],a=e[1];t[i]={category:r.categoryAt(i,!0),value:a}}),t.length>0?t:null}var au=1,m1=6;function Nd(n,r,o){for(var t=Math.min(Math.max(o||au,au),m1)+1,e=new Pt,i=new Pt,a=0,s=Number.MAX_VALUE,l=Number.MIN_VALUE,p=function(y){return y},h=[],c=0;c<n.length;c++){var u=n[c],v=r(u),f=v.xValue,d=v.yValue;if(isFinite(f)&&f!==null&&isFinite(d)&&d!==null){s=Math.min(f,s),l=Math.max(f,l),a++,i.set(c,0,d),e.set(c,0,1),e.set(c,1,f);for(var g=2;g<=t;g++)e.set(c,g,Math.pow(e.get(c,1),g))}else e.set(c,0,0)}return e.width=Math.min(t,a),a>0&&(h=_1(e,i),p=function(y){return h.reduce(function(m,x,b){return m+x*Math.pow(y,b)},0)}),{coefficients:h,count:a,valueMapper:p,xMin:s,xMax:l}}function _1(n,r){for(var o=n.transpose(),t=o.multiply(n).inverse().multiply(o).multiply(r),e=[],i=0;i<t.height;i++)e.push(t.get(i,0));return e}function x1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=w1({seriesValues:t,categoryAxis:o,options:r});return e?Object.assign({},r,{type:"line",data:e,categoryField:"category",field:"value"}):null}var b1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:o+1,yValue:t[n]}}};function w1(n){var r=n.seriesValues,o=n.categoryAxis,t=n.options,e=(t.trendline||{}).order,i=Nd(r(),b1(t.field),e),a=i.count,s=i.valueMapper;return a>0?Sn(function(l){return s(l)},o):null}function A1(n){var r=n.options,o=n.categoryAxis,t=n.seriesValues,e=k1({seriesValues:t,categoryAxis:o,options:r});return e?Object.assign({},r,{type:"line",data:e,categoryField:"category",field:"value"}):null}var S1=function(n){return function(r){var o=r.categoryIx,t=r.valueFields;return{xValue:Math.log(o+1),yValue:Math.log(t[n])}}};function k1(n){var r=n.seriesValues,o=n.categoryAxis,t=n.options,e=r();if(!An(e,t.field))return null;var i=Wr(e,S1(t.field)),a=i.slope,s=i.intercept,l=i.count;if(l>0){var p=Math.exp(s),h=a;return Sn(function(c){return p*Math.pow(c,h)},o)}return null}var mi={};mi[Lp]=n1;mi[Ip]=l1;mi[Dp]=c1;mi[Vp]=f1;mi[zp]=x1;mi[Bp]=A1;var Rl=[lr,ti,Wi,ri],su=[pr,ei].concat(Rl),Se=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(t){var e=this;if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Ya,this._seriesPointsCache={},this._currentPointsCache={},t.length>0){this.invertAxes=H(t[0].type,[ge,Dr,ei,ti,ri,Xi,Ui,qi]);for(var i=0;i<t.length;i++){var a=t[i].stack;if(a&&a.type==="100%"){e.stack100=!0;break}}}},r.prototype.render=function(t){t===void 0&&(t=this.panes),this.series=[].concat(this.originalSeries),this.createCategoryAxes(t),this.aggregateCategories(t),this.createTrendlineSeries(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},r.prototype.removeAxis=function(t){var e=t.options.name;n.prototype.removeAxis.call(this,t),t instanceof ze?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis},r.prototype.trendlineFactory=function(t,e){var i=this.seriesCategoryAxis(t),a=this.seriesValues.bind(this,e.index),s=Fd(mi,t.type,{options:t,categoryAxis:i,seriesValues:a});return s&&(s.categoryAxis=e.categoryAxis,s.valueAxis=e.valueAxis,this.filterSeries(s,i))},r.prototype.trendlineAggregateForecast=function(){return this.series.map(function(t){return(t.trendline||{}).forecast}).filter(function(t){return t!==void 0}).reduce(function(t,e){return{before:Math.max(t.before,e.before||0),after:Math.max(t.after,e.after||0)}},{before:0,after:0})},r.prototype.seriesValues=function(t,e){var i=this,a=[],s=this.srcSeries[t],l=this.seriesCategoryAxis(s),p=Je(l.options.type,ir);p&&(this._seriesPointsCache={},this._currentPointsCache={},l.options.dataItems=[],s=this.aggregateSeries(s,l,l.totalRangeIndices()));for(var h=e?e.min:0,c=e?e.max:s.data.length,u=h;u<c;u++){var v=i.bindPoint(s,u);a.push({categoryIx:u,category:v.fields.category,valueFields:v.valueFields})}return a},r.prototype.createCharts=function(t){for(var e=this,i=this.groupSeriesByPane(),a=0;a<t.length;a++){var s=t[a],l=i[s.options.name||"default"]||[];e.addToLegend(l);var p=e.filterVisibleSeries(l);if(p)for(var h=e.groupSeriesByCategoryAxis(p),c=0;c<h.length;c++)e.createChartGroup(h[c],s)}},r.prototype.createChartGroup=function(t,e){this.createAreaChart(ut(t,[lr,ti]),e),this.createRangeAreaChart(ut(t,[Wi,ri]),e),this.createBarChart(ut(t,[Ne,ge]),e),this.createRangeBarChart(ut(t,[mn,Xi]),e),this.createBulletChart(ut(t,[Dr,_n]),e),this.createCandlestickChart(ut(t,po),e),this.createBoxPlotChart(ut(t,[gn,qi]),e),this.createOHLCChart(ut(t,ho),e),this.createWaterfallChart(ut(t,[xn,Ui]),e),this.createLineChart(ut(t,[pr,ei]),e)},r.prototype.aggregateCategories=function(t){var e=this,i=[].concat(this.series),a=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var s=0;s<i.length;s++){var l=i[s];if(!e.isTrendline(l)){var p=e.seriesCategoryAxis(l),h=e.findPane(p.options.pane),c=Je(p.options.type,ir);(c||l.categoryField)&&H(h,t)?l=e.aggregateSeries(l,p,p.currentRangeIndices()):l=e.filterSeries(l,p)}a.push(l)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=i,this.series=a},r.prototype.filterSeries=function(t,e){var i=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,i),!(w(e.options.min)||w(e.options.max)))return t;var a=e.currentRangeIndices(),s=H(t.type,su),l=_({},t);return l.data=(l.data||[]).slice(a.min,a.max+1),s&&ou(l,a,i,function(p){return{item:t.data[p],category:e.categoryAt(p,!0),categoryIx:p-a.min}},function(p){return w(t.data[p])}),l},r.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},r.prototype.seriesSourcePoints=function(t,e){var i=this,a=t.index+";"+e.categoriesHash();if(this._seriesPointsCache&&this._seriesPointsCache[a])return this._currentPointsCache[a]=this._seriesPointsCache[a],this._seriesPointsCache[a];var s=e.options,l=s.srcCategories,p=Je(s.type,ir),h=t.data,c=[];p||e.indexCategories();for(var u=0;u<h.length;u++){var v=rt.current.bindPoint(t,u).fields.category;if(p&&(v=wd(v,h[u],i.chartService.intl)),w(v)||(v=l[u]),w(v)&&v!==null){var f=e.totalIndex(v);c[f]=c[f]||{items:[],category:v},c[f].items.push(u)}}return this._currentPointsCache[a]=c,c},r.prototype.aggregateSeries=function(t,e,i){var a=t.data;if(!a.length)return t;for(var s=this.seriesSourcePoints(t,e),l=_({},t),p=new Kb(_({},t),rt.current,cr.current),h=l.data=[],c=e.options.dataItems||[],u=function(d){var g=d-i.min,y=s[d];if(y||(y=s[d]={}),y.categoryIx=g,!y.item){var m=e.categoryAt(d,!0);y.category=m,y.item=p.aggregatePoints(y.items,m)}return y},v=i.min;v<=i.max;v++){var f=u(v);h[f.categoryIx]=f.item,f.items&&f.items.length&&(c[f.categoryIx]=f.item)}return H(l.type,su)&&ou(l,i,e.totalCount(),u,function(d){return s[d]}),e.options.dataItems=c,l},r.prototype.appendChart=function(t,e){var i=t.options.series,a=this.seriesCategoryAxis(i[0]),s=a.options.categories,l=Math.max(0,Np(i)-s.length);if(l>0)for(s=a.options.categories=a.options.categories.slice(0);l--;)s.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),n.prototype.appendChart.call(this,t,e)},r.prototype.seriesPaneName=function(t){var e=this.options,i=t.axis,a=[].concat(e.valueAxis),s=oe(a,function(c){return c.name===i})[0],l=e.panes||[{}],p=(l[0]||{}).name||"default",h=(s||{}).pane||p;return h},r.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,i=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+e);return i},r.prototype.stackableChartOptions=function(t,e){var i=t.some(function(l){return l.stack}),a=t.some(function(l){return l.stack&&l.stack.type==="100%"}),s=e.options.clip;return{defaultStack:t[0].stack,isStacked:i,isStacked100:a,clip:s}},r.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],i={},a=0;a<t.length;a++){var s=t[a].categoryAxis||"$$default$$";vp(i,s)||(i[s]=!0,e.push(s))}for(var l=[],p=0;p<e.length;p++){var h=e[p],c=T1(t,h,p);c.length!==0&&l.push(c)}return l},r.prototype.createBarChart=function(t,e){if(t.length!==0){var i=t[0],a=new go(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(t,e)));this.appendChart(a,e)}},r.prototype.createRangeBarChart=function(t,e){if(t.length!==0){var i=t[0],a=new Id(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(a,e)}},r.prototype.createBulletChart=function(t,e){if(t.length!==0){var i=t[0],a=new Yp(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});this.appendChart(a,e)}},r.prototype.createLineChart=function(t,e){if(t.length!==0){var i=new ms(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}},r.prototype.createAreaChart=function(t,e){if(t.length!==0){var i=new jb(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}},r.prototype.createRangeAreaChart=function(t,e){if(t.length!==0){var i=new zd(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(i,e)}},r.prototype.createOHLCChart=function(t,e){if(t.length!==0){var i=t[0],a=new i1(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(a,e)}},r.prototype.createCandlestickChart=function(t,e){if(t.length!==0){var i=t[0],a=new _s(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(a,e)}},r.prototype.createBoxPlotChart=function(t,e){if(t.length!==0){var i=t[0],a=new Hb(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(a,e)}},r.prototype.createWaterfallChart=function(t,e){if(t.length!==0){var i=t[0],a=new o1(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(a,e)}},r.prototype.axisRequiresRounding=function(t,e){for(var i=this,a=ut(this.series,hd),s=0;s<this.series.length;s++){var l=i.series[s];if(H(l.type,Rl)){var p=l.line;p&&p.style===$o&&a.push(l)}}for(var h=0;h<a.length;h++){var c=a[h].categoryAxis||"";if(c===t||!c&&e===0)return!0}},r.prototype.aggregatedAxis=function(t,e){for(var i=this.series,a=0;a<i.length;a++){var s=i[a].categoryAxis||"";if((s===t||!s&&e===0)&&i[a].categoryField)return!0}},r.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof ze&&t[e].createLabels()},r.prototype.createCategoryAxes=function(t){for(var e=this,i=this.invertAxes,a=[].concat(this.options.categoryAxis),s=[],l=0;l<a.length;l++){var p=a[l],h=e.findPane(p.pane);if(H(h,t)){var c=p.name,u=p.categories;u===void 0&&(u=[]),p=_({vertical:i,reverse:!i&&e.chartService.rtl,axisCrossingValue:i?_t:0},p),w(p.justified)||(p.justified=e.isJustified()),e.axisRequiresRounding(c,l)&&(p.justified=!1);var v=void 0;if(Ad(p,u[0])?(p._forecast=e.trendlineAggregateForecast(),v=new dn(p,e.chartService)):v=new ze(p,e.chartService),a[l].categories=v.options.srcCategories,c){if(e.namedCategoryAxes[c])throw new Error("Category axis with name "+c+" is already defined");e.namedCategoryAxes[c]=v}v.axisIndex=l,s.push(v),e.appendAxis(v)}}var f=this.categoryAxis||s[0];this.categoryAxis=f,i?this.axisY=f:this.axisX=f},r.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){var i=t[e];if(!H(i.type,Rl))return!1}return!0},r.prototype.createValueAxes=function(t){var e=this,i=this.valueAxisRangeTracker,a=i.query(),s=[].concat(this.options.valueAxis),l=this.invertAxes,p={vertical:!l,reverse:l&&this.chartService.rtl},h=[];this.stack100&&(p.roundToMajorUnit=!1,p.labels={format:"P0"});for(var c=0;c<s.length;c++){var u=s[c],v=e.findPane(u.pane);if(H(v,t)){var f=u.name,d=Je(u.type,Wa)?{min:.1,max:1}:{min:0,max:1},g=i.query(f)||a||d;c===0&&g&&a&&(g.min=Math.min(g.min,a.min),g.max=Math.max(g.max,a.max));var y=void 0;Je(u.type,Wa)?y=vs:y=fe;var m=new y(g.min,g.max,_({},p,u),e.chartService);if(f){if(e.namedValueAxes[f])throw new Error("Value axis with name "+f+" is already defined");e.namedValueAxes[f]=m}m.axisIndex=c,h.push(m),e.appendAxis(m)}}var x=this.valueAxis||h[0];this.valueAxis=x,l?this.axisX=x:this.axisY=x},r.prototype._dispatchEvent=function(t,e,i){var a=t._eventCoordinates(e),s=new F(a.x,a.y),l=this.pointPane(s),p=[],h=[];if(l){for(var c=l.axes,u=0;u<c.length;u++){var v=c[u];v.getValue?aa(h,v.getValue(s)):aa(p,v.getCategory(s))}p.length===0&&aa(p,this.categoryAxis.getCategory(s)),p.length>0&&h.length>0&&t.trigger(i,{element:ke(e),originalEvent:e,category:Yi(p),value:Yi(h)})}},r.prototype.pointPane=function(t){for(var e=this.panes,i=0;i<e.length;i++){var a=e[i];if(a.contentBox.containsPoint(t))return a}},r.prototype.updateAxisOptions=function(t,e){lu(this.options,t,e),lu(this.originalOptions,t,e)},r.prototype._pointsByVertical=function(t,e){return e===void 0&&(e=0),this.invertAxes?this._siblingsBySeriesIndex(t.series.index,e):this._siblingsByPointIndex(t.getIndex())},r.prototype._pointsByHorizontal=function(t,e){if(e===void 0&&(e=0),this.invertAxes)return this._siblingsByPointIndex(t.getIndex());var i=this._siblingsBySeriesIndex(t.series.index,e);return this.chartService.rtl?i.reverse():i},r.prototype._siblingsByPointIndex=function(t){for(var e=this,i=this.charts,a=[],s=0;s<i.length;s++){var l=i[s];if(!(l.pane&&l.pane.options.name==="_navigator")){var p=l.points.filter(function(h){return h&&h.visible!==!1&&h.getIndex()===t});a.push.apply(a,p.sort(e._getSeriesCompareFn(p[0])))}}return a},r.prototype._siblingsBySeriesIndex=function(t,e){var i=Oa(t+e,this.series.length);return this.pointsBySeriesIndex(i)},r.prototype._getSeriesCompareFn=function(t){var e=this._isInStackedSeries(t);return e&&this.invertAxes||!e&&!this.invertAxes?function(i,a){return i.box.center().x-a.box.center().x}:function(i,a){return i.box.center().y-a.box.center().y}},r.prototype._isInStackedSeries=function(t){var e=H(t.series.type,[lr,ti,Wi,ri,pr,ei,Gi,yn]),i=H(t.series.type,[Ne,ge]);return e||i&&t.options.isStacked},r}(gr);function lu(n,r,o){var t=r instanceof ze?[].concat(n.categoryAxis):[].concat(n.valueAxis);_(t[r.axisIndex],o)}function T1(n,r,o){return oe(n,function(t){return o===0&&!t.categoryAxis||t.categoryAxis===r})}S(Se,{categoryAxis:{},valueAxis:{}});_(Se.prototype,wn);var C1=function(n){function r(){n.call(this),this._points=[]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this._points=[]},r.prototype.show=function(t,e){var i=this,a=[].concat(t);this.hide();for(var s=0;s<a.length;s++){var l=a[s];l&&l.toggleHighlight&&l.hasHighlight()&&(i.togglePointHighlight(l,!0,e),i._points.push(l))}},r.prototype.togglePointHighlight=function(t,e,i){var a=(t.options.highlight||{}).toggle;if(a){var s={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:P1,visual:t.highlightVisual(),show:e};a(s),s._defaultPrevented||t.toggleHighlight(e,i)}else t.toggleHighlight(e,i)},r.prototype.hide=function(){for(var t=this,e=this._points;e.length;)t.togglePointHighlight(e.pop(),!1)},r.prototype.isHighlighted=function(t){for(var e=this._points,i=0;i<e.length;i++){var a=e[i];if(t===a)return!0}return!1},r}(R);function P1(){this._defaultPrevented=!0}function $d(n,r){var o=(r||"").toLowerCase(),t=n.event,e=o==="none"&&!(t.ctrlKey||t.shiftKey||t.altKey)||t[o+"Key"];return e}function Qp(n){for(var r={},o=0;o<n.length;o++){var t=n[o];t.axis.options.name&&(r[t.axis.options.name]={min:t.range.min,max:t.range.max})}return r}var Hd=function(n){function r(o,t){n.call(this),this.plotArea=o,this.options=_({},this.options,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.start=function(t){return this._active=$d(t,this.options.key),this._active},r.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,E).concat(this._panAxes(t,L));if(e.length)return this.axisRanges=e,Qp(e)}},r.prototype.end=function(){var t=this._active;return this._active=!1,t},r.prototype.pan=function(){var t=this,e=t.plotArea,i=t.axisRanges;if(i.length){for(var a=0;a<i.length;a++){var s=i[a];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}},r.prototype.destroy=function(){delete this.plotArea},r.prototype._panAxes=function(t,e){var i=this.plotArea,a=-t[e].delta,s=(this.options.lock||"").toLowerCase(),l=[];if(a!==0&&(s||"").toLowerCase()!==e)for(var p=i.axes,h=0;h<p.length;h++){var c=p[h];if(e===E&&!c.options.vertical||e===L&&c.options.vertical){var u=c.pan(a);u&&(u.limitRange=!0,l.push({axis:c,range:u}))}}return l},r}(R);Hd.prototype.options={key:"none",lock:"none"};var Ud=function(n){function r(o,t){n.call(this),this.chart=o,this.options=_({},this.options,t),this.createElement()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},r.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},r.prototype.setStyles=function(t){ct(this._marquee,t)},r.prototype.start=function(t){if($d(t,this.options.key)){var e=this.chart,i=e._eventCoordinates(t),a=this._zoomPane=e._plotArea.paneByPoint(i),s=a?a.chartsBox().clone():null;if(a&&s){var l=this._elementOffset();return s.translate(l.left,l.top),this._zoomPaneClipBox=s,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},r.prototype._elementOffset=function(){var t=this.chart.element,e=ct(t,["paddingLeft","paddingTop"]),i=e.paddingLeft,a=e.paddingTop,s=ji(t);return{left:i+s.left,top:a+s.top}},r.prototype.move=function(t){var e=this._zoomPane;e&&this.setStyles(this._selectionPosition(t))},r.prototype.end=function(t){var e=this._zoomPane;if(e){var i=this._elementOffset(),a=this._selectionPosition(t);a.left-=i.left,a.top-=i.top;var s={x:a.left,y:a.top},l={x:a.left+a.width,y:a.top+a.height};return this._updateAxisRanges(s,l),this.removeElement(),delete this._zoomPane,Qp(this.axisRanges)}},r.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,i=0;i<t.length;i++){var a=t[i];e.updateAxisOptions(a.axis,a.range)}e.redraw(e.panes)}},r.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},r.prototype._updateAxisRanges=function(t,e){for(var i=(this.options.lock||"").toLowerCase(),a=[],s=this._zoomPane.axes,l=0;l<s.length;l++){var p=s[l],h=p.options.vertical;if(!(i===E&&!h)&&!(i===L&&h)&&w(p.axisIndex)){var c=p.pointsRange(t,e);c&&a.push({axis:p,range:c})}}this.axisRanges=a},r.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,i={x:t.x.startLocation,y:t.y.startLocation},a=t.x.location,s=t.y.location,l=(this.options.lock||"").toLowerCase(),p=Math.min(i.x,a),h=Math.min(i.y,s),c=Math.abs(i.x-a),u=Math.abs(i.y-s);return l===E&&(p=e.x1,c=e.width()),l===L&&(h=e.y1,u=e.height()),a>e.x2&&(c=e.x2-i.x),a<e.x1&&(c=i.x-e.x1),s>e.y2&&(u=e.y2-i.y),s<e.y1&&(u=i.y-e.y1),{left:Math.max(p,e.x1),top:Math.max(h,e.y1),width:c,height:u}},r}(R);Ud.prototype.options={key:"shift",lock:"none"};var M1=.01,O1=.9,R1=.3,E1=function(n){function r(o,t){n.call(this),this.chart=o,this.options=_({rate:R1},this.options,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.updateRanges=function(t,e){for(var i=this,a=(this.options.lock||"").toLowerCase(),s=[],l=this.chart._plotArea.axes,p=0;p<l.length;p++){var h=l[p],c=h.options.vertical;if(!(a===E&&!c)&&!(a===L&&c)&&h.zoomRange){var u=V(i.options.rate,M1,O1),v=h.zoomRange(-t*u,e);v&&s.push({axis:h,range:v})}}return this.axisRanges=s,Qp(s)},r.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var i=0;i<t.length;i++){var a=t[i];e.updateAxisOptions(a.axis,a.range)}e.redraw(e.panes)}},r.prototype.destroy=function(){delete this.chart},r}(R),L1=function(n){return n?Wo:Pa},I1=function(n){function r(o,t){n.call(this,o),this.chartService=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){var t=this,e=t.children,i=t.options,a=i.vertical;this.visual=new Sm(null,{spacing:a?0:i.spacing,lineSpacing:a?i.spacing:0,orientation:a?X_:yl,reverse:i.rtl,alignItems:a?L1(i.rtl):N});for(var s=0;s<e.length;s++){var l=e[s];l.reflow(new P),l.renderVisual()}},r.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();e?this.box=$i(e):this.box=new P},r.prototype.renderVisual=function(){this.addVisual()},r.prototype.createVisual=function(){},r}(tt),Tr=10,Kr=2,Gd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.visualStyle=function(){var t=this.markerOptions(),e=t.border;return{stroke:{width:e.width,color:e.color,opacity:j(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},r.prototype.markerOptions=function(){return this.options},r.prototype.markerHighlightOptions=function(){var t=this.markerOptions(),e=t.highlight.border.width;return _({},t,{background:t.border.color},t.highlight,t.type===lp?{background:t.highlight.border.color,border:{color:t.highlight.background,width:e/2},width:t.width,height:t.height,margin:{top:0,left:0}}:{})},r.prototype.createHighlight=function(){var t=new n(this.markerHighlightOptions()),e=this.paddingBox.clone();return t.reflow(e.pad(t.options.border.width)),this.highlight=[t.getElement()],this.highlight},r}(qt);S(Gd,{border:{width:Kr},width:Tr-Kr,height:Tr-Kr,background:q,margin:{top:-1,left:-1},vAlign:G,align:U,highlight:{width:Tr,height:Tr,border:{color:q,width:Kr}}});var Jp=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=new Q,e=new Be(this.visualStyle()),i=this,a=i.paddingBox,s=a.height()/2;return e.moveTo(a.x1,a.y1+s).lineTo(a.x1,a.y2).lineTo(a.x2,a.y2),t.append(e),t},r}(qt);S(Jp,{width:15,height:15,align:Z,vAlign:Y,margin:{right:-2,bottom:2}});var Wd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=new Q,e=new Be({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),i=this.paddingBox,a=i.center().y;return e.moveTo(i.x1,a).lineTo(i.x2,a),t.append(e),t},r.prototype.createHighlight=function(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight},r.prototype.createHighlightLine=function(){var t=_({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),e=new Jp(t);return e.reflow(this.parent.paddingBox.clone()),this.highlightLine=e.getElement(),this.highlightLine},r.prototype.createHighlightMarker=function(){var t=_({},{background:this.options.background},this.options.highlight.markers),e=new n(t),i=this.parent.paddingBox,a=t.border.width,s=this.parent.box.clone();return s.pad({left:a-i.x1,top:a-i.y1}),e.reflow(s),this.highlightMarker=e.getElement(),this.highlightMarker},r}(qt);S(Wd,{border:{width:0},type:W_,align:U,vAlign:N,highlight:{border:{width:Kr},markers:{type:Zt,width:Tr,height:Tr,border:{width:Kr,color:q},align:U,vAlign:G}}});var Xd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createHighlight=function(){var t=_({},{background:this.options.background},this.options.highlight.markers),e=new n(t),i=this.paddingBox.clone(),a=this.parent.box.clone();return i.align(a,E,U),i.align(a,L,G),e.reflow(i),this.highlight=[e.getElement()],this.highlight},r}(qt);S(Xd,{highlight:{markers:{type:Zt,width:Tr,height:Tr,border:{width:Kr,color:q},margin:{top:-3,left:-3}}}});var qd=function(n){function r(o){n.call(this,o),this.createContainer(),o.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=hn(),this.options.accessibility.ariaChecked=o.active}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createContainer=function(){this.container=new ls({vertical:!1,wrap:!1,align:N,spacing:this.options.spacing}),this.append(this.container)},r.prototype.createMarker=function(){this.markerWrap=new n({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))},r.prototype.createMarkerArea=function(){var t=this.options,e=t.markerColor,i=t.line;i===void 0&&(i={});var a={border:{color:i.color||e,opacity:i.opacity,dashType:i.dashType}};return this._createLine(a)||this._createMarkerLine(a,i)||this._createSquare()},r.prototype.markerOptions=function(){var t=this.options,e=t.markers;e===void 0&&(e={});var i=t.markerColor,a=e.border;return a===void 0&&(a={}),e.zIndex=void 0,_({},e,{border:{color:a.color||i},highlight:t.highlight.markers})},r.prototype._highlightOptions=function(){var t=this.options;return _({markers:{type:t.markers.type}},t.highlight)},r.prototype._createLine=function(t){var e=this.options;return e.type===pr&&!e.markers.visible&&(this._line=new Wd(_({},{background:e.markerColor,highlight:this._highlightOptions()},t,e.line)),this.markerWrap.append(this._line)),this._line},r.prototype._createMarkerLine=function(t,e){var i=this.options;return i.type===pr&&(this._markerLineArea=new Jp(_({},{border:{width:e.height}},t)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea},r.prototype._reduceSize=function(t,e,i){i===void 0&&(i=.6),typeof t[e]=="number"&&(t[e]=t[e]*i)},r.prototype._createSquare=function(){var t=this.options;if(t.type===lr){var e=t.pattern||(t.series||{}).pattern;e&&(typeof e=="function"&&(e=e(t.series)),e=structuredClone(e),this._reduceSize(e,"gap"),this._reduceSize(e,"width"),this._reduceSize(e,"radius")),this._square=new Xd(Object.assign({},{border:t.border,vAlign:t.markers.visible?Y:N,highlight:this._highlightOptions()},t.area,{pattern:e,background:t.area.background||t.markerColor})),this.markerWrap.append(this._square)}return this._square},r.prototype._createMarker=function(){return new Gd(this.markerOptions())},r.prototype._highlightMarkers=function(){this.options.active&&this._toggleHighlight(!0)},r.prototype._restoreMarkers=function(){this._toggleHighlight(!1)},r.prototype._toggleHighlight=function(t){var e=this;if(this.options.highlight.visible){var i=this._marker||this._square||this._line;if(i&&i===this._line&&this._line.visual.visible(!t),i){var a=i.highlight;a||(a=i.createHighlight(),a.forEach(function(s){return s&&e.markerWrap.appendVisual(s)})),a.forEach(function(s){return s&&s.visible(t)})}}},r.prototype.createLabel=function(){var t=this.options,e=_({},t.labels);this.container.append(new Qt(t.text,e))},r.prototype.getAriaLabelText=function(){return this.options.text},r.prototype.focusVisual=function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()},r.prototype.clearFocusFromVisual=function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()},r.prototype.renderComplete=function(){n.prototype.renderComplete.call(this);var t=this.options.cursor||{},e=this._itemOverlay=O.fromRect(this.container.box.toRect(),{fill:{color:q,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)},r.prototype.click=function(t,e){var i=this.eventArgs(e);!t.trigger(cd,i)&&e&&e.type==="contextmenu"&&e.preventDefault()},r.prototype.over=function(t,e){var i=this.eventArgs(e);return t.trigger(Sb,i)||(t._legendItemHover(i.seriesIndex,i.pointIndex),this._highlightMarkers()),!0},r.prototype.out=function(t,e){t._unsetActivePoint(),this._restoreMarkers(),t.trigger(kb,this.eventArgs(e))},r.prototype.eventArgs=function(t){var e=this.options;return{element:ke(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},r.prototype.createVisual=function(){n.prototype.createVisual.call(this);var t=this.options;if(this.options.visible){var e=_({ariaLabel:t.accessibility.ariaLabel!==void 0?t.accessibility.ariaLabel:t.text},t.accessibility);fp(this.visual,e)}},r.prototype.renderVisual=function(){var t=this,e=this.options,i=e.visual;i?(this.visual=i({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{type:e.type,markers:_({background:this.options.markerColor},this.markerOptions()),labels:e.labels},createVisual:function(){t.createVisual(),t.renderChildren(),t.renderComplete();var a=t.visual;return delete t.visual,a}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):n.prototype.renderVisual.call(this)},r.prototype.createFocusHighlight=function(t){var e=t.stroke.width;return O.fromRect(this.container.box.pad(e/2).toRect(),t)},r}(Lr);S(qd,{accessibility:{role:Mb,className:Ob,ariaRoleDescription:Rb},markers:{},highlight:{visible:!0,markers:{}}});var Xn="custom",th=function(n){function r(o,t){t===void 0&&(t={}),n.call(this,o),this.chartService=t,H(this.options.position,[G,Z,Y,U,Xn])||(this.options.position=Z),this.createContainers(),this.createLegendTitle(o.title),this.createItems()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createContainers=function(){var t=this.options,e=t.position,i=t.align,a=e,s=N;e===Xn?a=U:H(e,[G,Y])?(i===Pa?a=U:i===Wo?a=Z:a=N,s=e):i&&(i===Pa?s=G:i===Wo&&(s=Y)),this.container=new Lr({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:s,align:a,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new Lr({vAlign:s,align:a,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},r.prototype.createItems=function(){var t=this.getService(),e=this.options,i=this.isVertical(),a=new I1({vertical:i,spacing:e.spacing,rtl:t.rtl},t),s=e.data;e.reverse&&(s=s.slice(0).reverse());for(var l=s.length,p=0;p<l;p++){var h=s[p],c=h.series||{},u=c.markers;u===void 0&&(u={});var v=c.dashType,f=c.legendItem,d=c.opacity,g=_({visible:u.visible!==!1,type:Zt},u);delete g.size;var y=_({},{markers:g,labels:e.labels,rtl:t.rtl,line:Object.assign({},{dashType:v},e.line),area:Object.assign({},{opacity:d},e.area),opacity:d,accessibility:e.accessibility,focusHighlight:e.focusHighlight},e.item,f,h,{markers:e.markers});a.append(new qd(y))}a.render(),this.itemsContainer.append(a)},r.prototype.isVertical=function(){var t=this.options,e=t.orientation,i=t.position,a=i===Xn&&e!==yl||(w(e)?e!==yl:H(i,[U,Z]));return a},r.prototype.hasItems=function(){return this.container.children[0].children.length>0},r.prototype.getItems=function(){return this.itemsContainer.children[0].children},r.prototype.reflow=function(t){var e=this.options,i=t.clone();if(!this.hasItems()){this.box=i;return}e.position===Xn?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i),this.hasTitle()&&this.title.reflow(new P(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))},r.prototype.containerReflow=function(t){var e=this,i=e.options,a=e.container,s=i.position,l=i.width,p=i.height,h=s===G||s===Y?E:L,c=this.isVertical(),u=t.clone(),v=t.clone();(s===U||s===Z)&&(v.y1=u.y1=0),c&&p?(v.y2=v.y1+p,v.align(u,L,a.options.vAlign)):!c&&l&&(v.x2=v.x1+l,v.align(u,E,a.options.align)),a.reflow(v),v=a.box;var f=v.clone();(i.offsetX||i.offsetY)&&(v.translate(i.offsetX,i.offsetY),a.reflow(v)),f[h+1]=t[h+1],f[h+2]=t[h+2],this.box=f},r.prototype.containerCustomReflow=function(t){var e=this,i=e.options,a=e.container,s=i.offsetX,l=i.offsetY,p=i.width,h=i.height,c=this.isVertical(),u=t.clone();c&&h?u.y2=u.y1+h:!c&&p&&(u.x2=u.x1+p),a.reflow(u),u=a.box,a.reflow(new P(s,l,s+u.width(),l+u.height()))},r.prototype.renderVisual=function(){this.hasItems()&&n.prototype.renderVisual.call(this)},r.prototype.createLegendTitle=function(t){var e=_({},{color:dt,position:G,align:N},t),i=e.text;if(!(!t||t.visible===!1||!t.text)){if(w(e)&&e.visible){var a=Ct(e);a?i=a({text:i}):e.format&&(i=this.chartService.format.auto(e.format,i))}this.title=new Qt(i,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},r.prototype.createTitleLayout=function(){this.layout=new ls({vertical:!0,wrap:!1}),this.container.append(this.layout)},r.prototype.hasTitle=function(){return!!(this.options.title&&this.options.title.visible!==!1&&this.options.title.text)},r.prototype.appendTitleLayoutContent=function(){var t=this.options;t.title.position===Y?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},r}(tt);S(th,{position:Z,data:[],offsetX:0,offsetY:0,margin:J(2),padding:J(5),border:{color:dt,width:0},item:{cursor:gl,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:gl,opacity:1},area:{type:G_,align:Z,width:15,height:15}});var Te=function(n){function r(){n.call(this),this._registry=[]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},r.prototype.create=function(t,e,i){for(var a=this._registry,s=a[0],l,p=0;p<a.length;p++){var h=a[p];l=ut(t,h.seriesTypes);var c=ut(t,co);if(l.length-c.length>0){s=h;break}}return new s.type(l,e,i)},r}(R);Te.current=new Te;var D1=3,V1=.1;function We(n){var r=document.createElement("div");return n&&(r.className=n),r}function pu(n){for(var r=n;r&&!qo(r,"k-handle");)r=r.parentNode;return r}var eh=function(n){function r(o,t,e,i){n.call(this);var a=o.element;this.options=_({},this.options,e),this.chart=o,this.observer=i,this.chartElement=a,this.categoryAxis=t,this._dateAxis=this.categoryAxis instanceof dn,this.initOptions(),this.visible=this.options.visible&&a.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.onPane=function(t){return this.categoryAxis.pane===t},r.prototype.createElements=function(){var t=this.options,e=this.wrapper=We("k-selector k-pointer-events-none");ct(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var i=this.selection=We("k-selection k-pointer-events-none");this.leftMask=We("k-mask k-pointer-events-none"),this.rightMask=We("k-mask k-pointer-events-none"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(i);var a=this.body=We("k-selection-bg k-pointer-events-none");i.appendChild(a);var s=this.leftHandle=We("k-handle k-left-handle k-pointer-events-auto"),l=this.rightHandle=We("k-handle k-right-handle k-pointer-events-auto");s.appendChild(We()),l.appendChild(We()),i.appendChild(s),i.appendChild(l),this.chartElement.appendChild(e);var p=ct(i,["borderLeftWidth","borderRightWidth","height"]),h=ct(s,"height").height,c=ct(l,"height").height;t.selection={border:{left:p.borderLeftWidth,right:p.borderRightWidth}},ct(s,{top:(p.height-h)/2}),ct(l,{top:(p.height-c)/2}),e.style.cssText=e.style.cssText},r.prototype.bindEvents=function(){var t;this.options.mousewheel!==!1&&(this._mousewheelHandler=this._mousewheel.bind(this),Lo(this.chartElement,(t={},t[qa]=this._mousewheelHandler,t))),this._domEvents=cs.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},r.prototype.initOptions=function(){var t=this,e=t.options,i=t.categoryAxis,a=i.pane.chartsBox(),s=this.chart.chartService.intl;this._dateAxis&&_(e,{min:Et(s,e.min),max:Et(s,e.max),from:Et(s,e.from),to:Et(s,e.to)});var l=ct(this.chartElement,["paddingLeft","paddingTop"]),p=l.paddingLeft,h=l.paddingTop;this.options=_({},{width:a.width(),height:a.height()+V1,padding:{left:p,top:h},offset:{left:a.x1+p,top:a.y1+h},from:e.min,to:e.max},e)},r.prototype.destroy=function(){var t;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Io(this.chartElement,(t={},t[qa]=this._mousewheelHandler,t)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},r.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},r.prototype._pointInPane=function(t,e){var i=this.categoryAxis.pane.box,a=this.chart._toModelCoordinates(t,e);return i.containsPoint(a)},r.prototype._start=function(t){var e=this.options,i=ke(t);if(!(this._state||!i)){var a=Pf(t),s=this._pointInPane(a.x,a.y);if(s){var l=pu(i),p=this.body.getBoundingClientRect(),h=!l&&a.x>=p.x&&a.x<=p.x+p.width&&a.y>=p.y&&a.y<=p.y+p.height;this.chart._unsetActivePoint(),this._state={moveTarget:l,startLocation:t.x?t.x.location:0,inBody:h,range:{from:this._index(e.from),to:this._index(e.to)}};var c=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(Tl,c)&&(this._state=null)}}},r.prototype._press=function(t){var e;this._state?e=this._state.moveTarget:e=pu(ke(t)),e&&ft(e,"k-handle-active")},r.prototype._move=function(t){if(this._state){var e=this,i=e._state,a=e.options,s=e.categoryAxis,l=i.range,p=i.moveTarget,h=s.options.reverse,c=this._index(a.from),u=this._index(a.to),v=this._index(a.min),f=this._index(a.max),d=i.startLocation-t.x.location,g={from:l.from,to:l.to},y=l.to-l.from,m=ct(this.wrapper,"width").width/(s.categoriesCount()-1),x=Math.round(d/m)*(h?-1:1);if(!(!p&&!i.inBody)){var b=p&&qo(p,"k-left-handle"),A=p&&qo(p,"k-right-handle");i.inBody?(l.from=Math.min(Math.max(v,c-x),f-y),l.to=Math.min(l.from+y,f)):b&&!h||A&&h?(l.from=Math.min(Math.max(v,c-x),f-1),l.to=Math.max(l.from+1,l.to)):(b&&h||A&&!h)&&(l.to=Math.min(Math.max(v+1,u-x),f),l.from=Math.min(l.to-1,l.from)),(l.from!==g.from||l.to!==g.to)&&(this.move(l.from,l.to),this.trigger(zo,this._rangeEventArgs(l)))}}},r.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&as(t,"k-handle-active");var e=this._state.range;this.set(e.from,e.to),this.trigger(Cl,this._rangeEventArgs(e)),delete this._state}},r.prototype._tap=function(t){var e=this,i=e.options,a=e.categoryAxis,s=this.chart._eventCoordinates(t),l=a.pointCategoryIndex(new F(s.x,a.box.y1)),p=this._index(i.from),h=this._index(i.to),c=this._index(i.min),u=this._index(i.max),v=h-p,f=p+v/2,d={},g=t.event.which===3,y=Math.round(f-l);this._state||g||(this.chart._unsetActivePoint(),a.options.justified||y--,d.from=Math.min(Math.max(c,p-y),u-v),d.to=Math.min(d.from+v,u),this._start(t),this._state&&(this._state.range=d,this.trigger(zo,this._rangeEventArgs(d)),this._end()))},r.prototype._mousewheel=function(t){var e=this,i=up(t);if(this._start(t),this._state){var a=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(i)>1&&(i*=D1),this.options.mousewheel.reverse&&(i*=-1),this.expand(i)&&this.trigger(zo,{axis:this.categoryAxis.options,delta:i,originalEvent:t,from:this._value(a.from),to:this._value(a.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._end()},Pl)}},r.prototype._gesturestart=function(t){var e=this.options,i=t.touches[0],a=this._pointInPane(i.pageX,i.pageY);if(a){this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var s=this._rangeEventArgs(this._state.range);this.trigger(Tl,s)?this._state=null:t.preventDefault()}},r.prototype._gestureend=function(){this._state&&(this.trigger(Cl,this._rangeEventArgs(this._state.range)),delete this._state)},r.prototype._gesturechange=function(t){if(this._state){var e=this,i=e.chart,a=e._state,s=e.options,l=e.categoryAxis,p=a.range,h=i._toModelCoordinates(t.touches[0].x.location).x,c=i._toModelCoordinates(t.touches[1].x.location).x,u=Math.min(h,c),v=Math.max(h,c);t.preventDefault(),p.from=l.pointCategoryIndex(new F(u))||s.min,p.to=l.pointCategoryIndex(new F(v))||s.max,this.move(p.from,p.to),this.trigger(zo,this._rangeEventArgs(p))}},r.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},r.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e},r.prototype._slot=function(t){var e=this.categoryAxis,i=this._index(t);return e.getSlot(i,i,!0)},r.prototype.move=function(t,e){var i=this.options,a=this.categoryAxis.options.reverse,s=i.offset,l=i.padding,p=i.selection.border,h=a?e:t,c=a?t:e,u="x"+(a?2:1),v=this._slot(h),f=M(v[u]-s.left+l.left);ct(this.leftMask,{width:f}),ct(this.selection,{left:f}),v=this._slot(c);var d=M(i.width-(v[u]-s.left+l.left));ct(this.rightMask,{width:d});var g=i.width-d;g!==i.width&&(g+=p.right),ct(this.rightMask,{left:g}),ct(this.selection,{width:Math.max(i.width-(f+d)-p.right,0)})},r.prototype.set=function(t,e){var i=this.options,a=this._index(i.min),s=this._index(i.max),l=V(this._index(t),a,s),p=V(this._index(e),l+1,s);i.visible&&this.move(l,p),i.from=this._value(l),i.to=this._value(p)},r.prototype.expand=function(t){var e=this.options,i=this._index(e.min),a=this._index(e.max),s=e.mousewheel.zoom,l=this._index(e.from),p=this._index(e.to),h={from:l,to:p},c=_({},h);if(this._state&&(h=this._state.range),s!==Z&&(h.from=V(V(l-t,0,p-1),i,a)),s!==U&&(h.to=V(V(p+t,h.from+1,a),i,a)),h.from!==c.from||h.to!==c.to)return this.set(h.from,h.to),!0},r.prototype.zoom=function(t,e){var i=this.options,a=this._index(i.min),s=this._index(i.max),l=this._index(i.from),p=this._index(i.to),h={from:l,to:p},c=_({},h),u=this.categoryAxis.options,v=u.reverse,f=E+(v?"2":"1"),d=this.categoryAxis.lineBox(),g=Math.abs(d[f]-e[E]),y=d.width(),m=M(g/y,2),x=M(m*t),b=M((1-m)*t);if(this._state&&(h=this._state.range),h.from=V(V(l-x,0,p-1),a,s),h.to=V(V(p+b,h.from+1,s),a,s),h.from!==c.from||h.to!==c.to)return this.set(h.from,h.to),!0},r.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},r}(R);S(eh,{visible:!0,mousewheel:{zoom:"both"},min:wt,max:_t});var z1=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.show=function(t){if(!(!t||!t.tooltipAnchor||this._current&&this._current===t)){var e=_({},this.options,t.options.tooltip),i=t.tooltipAnchor();i?(this._current=t,n.prototype.show.call(this,{point:t,anchor:i},e,t)):this.hide()}},r.prototype.hide=function(){delete this._current,n.prototype.hide.call(this)},r}(bs),rh=function(n){function r(o,t){n.call(this,o.chartService,t),this.plotArea=o,this.formatService=o.chartService.format}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.showAt=function(t,e){var i=oe(t,function(p){var h=p.series.tooltip,c=h&&h.visible===!1;return!c});if(i.length>0){var a=i[0],s=this.plotArea.categoryAxis.getSlot(a.categoryIx),l=e?this._slotAnchor(e,s):this._defaultAnchor(a,s);this.show({anchor:l,shared:!0,points:t,category:a.category,categoryText:this.formatService.auto(this.options.categoryFormat,a.category),series:this.plotArea.series},this.options)}},r.prototype._slotAnchor=function(t,e){var i=this.plotArea.categoryAxis,a={horizontal:"left",vertical:"center"};return i.options.vertical||(t.x=e.center().x),{point:t,align:a}},r.prototype._defaultAnchor=function(t,e){var i=t.owner.pane.chartsBox(),a=this.plotArea.categoryAxis.options.vertical,s=i.center(),l=e.center(),p={horizontal:"center",vertical:"center"},h;return a?h=new F(s.x,l.y):h=new F(l.x,s.y),{point:h,align:p}},r}(bs);S(rh,{categoryFormat:"{0:d}"});var Yd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){var t=this,e=t.element,i=t.options,a=e.bbox();if(a){this.origin=i.origin;var s=i.vertical?L:E,l=this.fromScale=new T(1,1);l[s]=Ko,e.transform(at().scale(l.x,l.y))}else this.abort()},r.prototype.step=function(t){var e=ue(this.fromScale.x,1,t),i=ue(this.fromScale.y,1,t);this.element.transform(at().scale(e,i,this.origin))},r.prototype.abort=function(){n.prototype.abort.call(this),this.element.transform(null)},r}(_e);S(Yd,{duration:de});Ue.current.register(ge,Yd);var Zd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(at().scale(Ko,Ko,t))},r.prototype.step=function(t){this.element.transform(at().scale(t,t,this.center))},r}(_e);S(Zd,{easing:"easeOutElastic"});Ue.current.register(lo,Zd);var Kd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},r.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},r}(_e);S(Kd,{duration:200,easing:"linear"});Ue.current.register(jr,Kd);var Qd=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){this.element.transform(at().scale(Ko,Ko,this.options.center))},r.prototype.step=function(t){this.element.transform(at().scale(t,t,this.options.center))},r}(_e);S(Qd,{easing:"easeOutElastic",duration:de});Ue.current.register(Vr,Qd);var ih=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){n.prototype.render.call(this),this.renderSegments()},r.prototype.createSegment=function(t,e,i){var a=e.style,s;return a===so?s=Up:s=gi,new s(t,e,i)},r.prototype.animationPoints=function(){var t=n.prototype.animationPoints.call(this);return t.concat(this._segments)},r.prototype.createMissingValue=function(t,e){if(e===sr){var i={x:t.x,y:t.y};return Xt(i.x)||(i.x=0),Xt(i.y)||(i.y=0),i}},r}(yo);_(ih.prototype,Gp);function kn(n,r,o){var t=[],e=r.xMin,i=r.xMax,a=(o||{}).forecast;a&&(a.before>0&&(e-=a.before),a.after>0&&(i+=a.after));var s=(o||{}).samplingInterval,l=j(s,io(e,i)/10);s<=0&&(l=i-e);for(var p=e;p<=i;p+=l)t.push([p,n(p)]);return t}function B1(n){var r=n.options,o=n.seriesValues,t=j1({seriesValues:o,options:r});return t?Object.assign({},r,{type:"scatterLine",data:t}):null}var F1=function(n){return function(r){var o=r.valueFields;return{xValue:o.x,yValue:Math.log(o[n])}}};function j1(n){var r=n.seriesValues,o=n.options,t=r();if(!An(t,o.field))return null;var e=Wr(t,F1(o.field)),i=e.slope,a=e.intercept,s=e.count,l=e.xMin,p=e.xMax,h={xMin:l,xMax:p};if(s>0){var c=Math.exp(a),u=i;return kn(function(v){return c*Math.exp(u*v)},h,o.trendline)}return null}var ws=function(n){return function(r){var o=r.valueFields;return{xValue:o.x,yValue:o[n]}}};function N1(n){var r=n.options,o=n.seriesValues,t=$1({seriesValues:o,options:r});return t?Object.assign({},r,{type:"scatterLine",data:t}):null}function $1(n){var r=n.seriesValues,o=n.options,t=Wr(r(),ws(o.field)),e=t.slope,i=t.intercept,a=t.count,s=t.xMin,l=t.xMax,p={xMin:s,xMax:l};return a>0?kn(function(h){return e*h+i},p,o.trendline):null}function Jd(n,r){for(var o=Number.MAX_VALUE,t=Number.MIN_VALUE,e=0;e<n.length;e++){var i=n[e],a=r(i),s=a.xValue,l=a.yValue;isFinite(s)&&s!==null&&isFinite(l)&&l!==null&&(o=Math.min(s,o),t=Math.max(s,t))}return{xMin:o,xMax:t}}function H1(n){var r=n.options,o=n.seriesValues,t=W1({seriesValues:o,options:r});return t?Object.assign({},r,{type:"scatterLine",data:t}):null}var U1=function(n){return function(r){var o=r.valueFields;return{xValue:o.x,yValue:o[n]}}},G1=function(n){return function(r){var o=r.valueFields;return{xValue:Math.log(o.x),yValue:o[n]}}};function W1(n){var r=n.seriesValues,o=n.options,t=r();if(!An(t,"x"))return null;var e=Wr(t,G1(o.field)),i=e.slope,a=e.intercept,s=e.count,l=Jd(t,U1(o.field));if(s>0){var p=i,h=a;return kn(function(c){return p*Math.log(c)+h},l,o.trendline)}return null}function X1(n){var r=n.options,o=q1(n);return o?Object.assign({},r,{type:"scatterLine",data:o}):null}function q1(n){var r=n.options,o=n.seriesValues,t=(r.trendline||{}).period||Fp,e={before:t,after:t},i=jd(o(e),ws(r.field),t);return i.length>0?i:null}function Y1(n){var r=n.options,o=n.seriesValues,t=Z1({seriesValues:o,options:r});return t?Object.assign({},r,{type:"scatterLine",data:t}):null}function Z1(n){var r=n.seriesValues,o=n.options,t=(o.trendline||{}).order,e=ws(o.field),i=Nd(r(),e,t),a=i.count,s=i.valueMapper,l=i.xMin,p=i.xMax,h={xMin:l,xMax:p};return a>0?kn(s,h,o.trendline):null}function K1(n){var r=n.options,o=n.seriesValues,t=J1({seriesValues:o,options:r});return t?Object.assign({},r,{type:"scatterLine",data:t}):null}var Q1=function(n){return function(r){var o=r.valueFields;return{xValue:Math.log(o.x),yValue:Math.log(o[n])}}};function J1(n){var r=n.seriesValues,o=n.options,t=r();if(!An(t,"x"))return null;var e=Wr(t,Q1(o.field)),i=e.slope,a=e.intercept,s=e.count,l=Jd(t,ws(o.field));if(s>0){var p=Math.exp(a),h=i;return kn(function(c){return p*Math.pow(c,h)},l,o.trendline)}return null}var _i={};_i[Lp]=B1;_i[Ip]=N1;_i[Dp]=H1;_i[Vp]=X1;_i[zp]=Y1;_i[Bp]=K1;var Tn=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Ya,this.yAxisRangeTracker=new Ya},r.prototype.render=function(t){var e=this;t===void 0&&(t=this.panes),this.series=[].concat(this.originalSeries),this.createTrendlineSeries();for(var i=this.groupSeriesByPane(),a=0;a<t.length;a++){var s=t[a],l=i[s.options.name||"default"]||[];e.addToLegend(l);var p=e.filterVisibleSeries(l);p&&(e.createScatterChart(ut(p,Rp),s),e.createScatterLineChart(ut(p,Ep),s),e.createBubbleChart(ut(p,lo),s))}this.createAxes(t)},r.prototype.appendChart=function(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),n.prototype.appendChart.call(this,t,e)},r.prototype.removeAxis=function(t){var e=t.options.name;n.prototype.removeAxis.call(this,t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},r.prototype.seriesPaneName=function(t){var e=this.options,i=t.xAxis,a=[].concat(e.xAxis),s=oe(a,function(f){return f.name===i})[0],l=t.yAxis,p=[].concat(e.yAxis),h=oe(p,function(f){return f.name===l})[0],c=e.panes||[{}],u=c[0].name||"default",v=(s||{}).pane||(h||{}).pane||u;return v},r.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new yo(this,{series:t,clip:e.options.clip}),e)},r.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new ih(this,{series:t,clip:e.options.clip}),e)},r.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new Md(this,{series:t,clip:e.options.clip}),e)},r.prototype.createXYAxis=function(t,e,i){for(var a=t.name,s=e?this.namedYAxes:this.namedXAxes,l=e?this.yAxisRangeTracker:this.xAxisRangeTracker,p=_({reverse:!e&&this.chartService.rtl},t,{vertical:e}),h=Je(p.type,Wa),c=l.query(),u=h?{min:.1,max:1}:{min:0,max:1},v=l.query(a)||c||u,f=[p.min,p.max],d=this.series,g=0;g<d.length;g++){var y=d[g],m=y[e?"yAxis":"xAxis"];if(m===p.name||i===0&&!m){var x=rt.current.bindPoint(y,0).valueFields;f.push(x[e?"y":"x"]);break}}i===0&&c&&(v.min=Math.min(v.min,c.min),v.max=Math.max(v.max,c.max));for(var b,A=0;A<f.length;A++)if(f[A]instanceof Date){b=!0;break}var k;Je(p.type,ir)||!p.type&&b?k=td:h?k=vs:k=fe;var C=new k(v.min,v.max,p,this.chartService);if(C.axisIndex=i,a){if(s[a])throw new Error((e?"Y":"X")+" axis with name "+a+" is already defined");s[a]=C}return this.appendAxis(C),C},r.prototype.createAxes=function(t){for(var e=this,i=this.options,a=[].concat(i.xAxis),s=[],l=[].concat(i.yAxis),p=[],h=0;h<a.length;h++){var c=e.findPane(a[h].pane);H(c,t)&&s.push(e.createXYAxis(a[h],!1,h))}for(var u=0;u<l.length;u++){var v=e.findPane(l[u].pane);H(v,t)&&p.push(e.createXYAxis(l[u],!0,u))}this.axisX=this.axisX||s[0],this.axisY=this.axisY||p[0]},r.prototype._dispatchEvent=function(t,e,i){for(var a=t._eventCoordinates(e),s=new F(a.x,a.y),l=this.axes,p=l.length,h=[],c=[],u=0;u<p;u++){var v=l[u],f=v.options.vertical?c:h,d=v.getValue(s);d!==null&&f.push(d)}h.length>0&&c.length>0&&t.trigger(i,{element:ke(e),originalEvent:e,x:Yi(h),y:Yi(c)})},r.prototype.updateAxisOptions=function(t,e){var i=t.options.vertical,a=this.groupAxes(this.panes),s=(i?a.y:a.x).indexOf(t);hu(this.options,s,i,e),hu(this.originalOptions,s,i,e)},r.prototype.trendlineFactory=function(t,e){var i=this.seriesValues.bind(this,e.index),a=Fd(_i,t.type,{options:t,seriesValues:i});return a&&(a.xAxis=e.xAxis,a.yAxis=e.yAxis),a},r.prototype.seriesValues=function(t){for(var e=this,i=[],a=this.series[t],s=0;s<a.data.length;s++){var l=e.bindPoint(a,s);i.push({pointIx:s,valueFields:l.valueFields})}return i},r}(gr);function hu(n,r,o,t){var e=[].concat(o?n.yAxis:n.xAxis)[r];_(e,t)}S(Tn,{xAxis:{},yAxis:{}});_(Tn.prototype,wn);var Cn=function(n){function r(o,t,e){n.call(this,e),this.value=o,this.sector=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this._rendered||this.visible===!1||(this._rendered=!0,this.createLabel())},r.prototype.createLabel=function(){var t=this.options.labels,e=this.owner.chartService,i=this.getLabelText(t);if(t.visible&&(i||i===0)){if(t.position===N||t.position===Xa)t.color||(t.color=ss(this.options.color)),t.background||(t.background=this.options.color);else{var a=e.theme.seriesDefaults.labels;t.color=t.color||a.color,t.background=t.background||a.background}this.label=new Qt(i,_({},t,{align:N,vAlign:"",animation:{type:jr,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}},r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):this.owner.chartService.format.auto(t.format,this.value)},r.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},r.prototype.reflowLabel=function(){var t=this,e=t.options.labels,i=t.label,a=this.sector.clone(),s=e.distance,l=a.middle();if(i){var p=i.box.height(),h=i.box.width(),c;if(e.position===N)a.radius=Math.abs((a.radius-p)/2)+p,c=a.point(l),i.reflow(new P(c.x,c.y-p/2,c.x,c.y));else if(e.position===Xa)a.radius=a.radius-p/2,c=a.point(l),i.reflow(new P(c.x,c.y-p/2,c.x,c.y));else{var u;c=a.clone().expand(s).point(l),c.x>=a.center.x?(u=c.x+h,i.orientation=Z):(u=c.x-h,i.orientation=U),i.reflow(new P(u,c.y-p,c.x,c.y))}}},r.prototype.createVisual=function(){var t=this,e=this,i=e.sector,a=e.options;if(n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this.value)if(a.visual){var s=(i.startAngle+180)%360,l=a.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new T(i.center.x,i.center.y),radius:i.radius,innerRadius:i.innerRadius,startAngle:s,endAngle:s+i.angle,options:a,sender:this.getSender(),createVisual:function(){var p=new Q;return t.createSegmentVisual(p),p}});l&&this.visual.append(l)}else this.createSegmentVisual(this.visual)},r.prototype.createSegmentVisual=function(t){var e=this,i=e.sector,a=e.options,s=a.border||{},l=s.width>0?{stroke:{color:s.color,width:s.width,opacity:s.opacity,dashType:s.dashType}}:{},p=a.color,h=Fr(a.pattern,{color:p,opacity:a.opacity}),c=this.createSegment(i,_({fill:h,stroke:{opacity:a.opacity},zIndex:a.zIndex},l));t.append(c),$p(a)&&t.append(this.createGradientOverlay(c,{baseColor:p,fallbackFill:h},_({center:[i.center.x,i.center.y],innerRadius:i.innerRadius,radius:i.radius,userSpace:!0},a.overlay)))},r.prototype.createSegment=function(t,e){return e.singleSegment?new re(new Bt(new T(t.center.x,t.center.y),t.radius),e):Ni.current.createRing(t,e)},r.prototype.createAnimation=function(){var t=this,e=t.options,i=t.sector.center;_(e,{animation:{center:[i.x,i.y],delay:this.animationDelay}}),n.prototype.createAnimation.call(this)},r.prototype.createHighlight=function(t){var e=this.options.highlight||{},i=e.border||{};return this.createSegment(this.sector,_({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))},r.prototype.highlightVisual=function(){return this.visual.children[0]},r.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new T(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},r.prototype.createFocusHighlight=function(t){var e=this.options.focusHighlight.border.width,i=this.createSegment(this.sector,_({},t,{stroke:{width:e*2}})),a=new Be;return a.paths.push(O.fromRect(i.bbox())),a.paths.push(this.createSegment(this.sector,{})),i.clip(a),i},r.prototype.tooltipAnchor=function(){var t=this.sector.clone().expand(Ae),e=t.middle(),i=t.point(e);return{point:i,align:rw(e+180)}},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},r.prototype.getIndex=function(){return this.index},r}(tt),tw=M(bt(30),nt),ew=M(bt(60),nt);function rw(n){var r=bt(n),o=M(Math.sin(r),nt),t=M(Math.cos(r),nt),e;Math.abs(o)>ew?e=N:t<0?e=Z:e=U;var i;return Math.abs(o)<tw?i=N:o<0?i=Y:i=G,{horizontal:e,vertical:i}}S(Cn,{color:q,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:yf,margin:J(.5),align:Zt,zIndex:1,position:ii},animation:{type:Vr},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}});_(Cn.prototype,Me);_(Cn.prototype,fo);var tg={createLegendItem:function(n,r,o){var t=this.options.legend||{},e=t.labels||{},i=t.inactiveItems||{},a=i.labels||{};if(o&&o.visibleInLegend!==!1){var s=o.visible!==!1,l=s?Ct(e):Ct(a)||Ct(e),p=o.category;l&&(p=l({text:p,series:o.series,dataItem:o.dataItem,percentage:o.percentage,value:n}));var h,c;s?(h={},c=r.color):(h={color:a.color,font:a.font},c=(i.markers||{}).color),Xt(p)&&p!==""&&this.legendItems.push({active:s,pointIndex:o.index,text:p,series:o.series,markerColor:c,pattern:r.pattern,labels:h})}}},iw=70,Pn=function(n){function r(o,t){n.call(this,t),this.plotArea=o,this.chartService=o.chartService,this.points=[],this.legendItems=[],this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},r.prototype.traverseDataPoints=function(t){var e=this,i=this,a=i.options,s=i.plotArea.options.seriesColors;s===void 0&&(s=[]);for(var l=s.length,p=a.series,h=p.length,c=0;c<h;c++){var u=p[c],v=u.data,f=bd(u),d=f.total,g=f.points,y=f.count,m=360/d,x=void 0;isFinite(m)||(x=360/y);var b=void 0;w(u.startAngle)?b=u.startAngle:b=a.startAngle,c!==h-1&&u.labels.position===ii&&(u.labels.position=N);for(var A=0;A<g.length;A++){var k=g[A];if(k){var C=k.fields,I=k.value,$=k.visible,B=I!==0?x||I*m:0,D=v.length!==1&&!!C.explode;lt(u.color)||(u.color=C.color||s[A%l]),t(I,new un(null,0,0,b,B),{owner:e,category:w(C.category)?C.category:"",pattern:w(C.pattern)?C.pattern:u.pattern,index:A,series:u,seriesIx:c,dataItem:v[A],percentage:d!==0?I/d:0,explode:D,visibleInLegend:C.visibleInLegend,visible:$,zIndex:h-c,animationDelay:e.animationDelay(A,c,h)}),$!==!1&&(b+=B)}}}},r.prototype.evalSegmentOptions=function(t,e,i){var a=i.series;hr(t,{value:e,series:a,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:a._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})},r.prototype.addValue=function(t,e,i){var a=_({},i.series,{index:i.index});if(a.pattern=i.pattern||a.pattern,this.evalSegmentOptions(a,t,i),this.createLegendItem(t,a,i),i.visible!==!1){var s=new Cn(t,e,a);Object.assign(s,i),this.append(s),this.points.push(s)}},r.prototype.reflow=function(t){var e=this,i=e.options,a=e.points,s=e.seriesConfigs;s===void 0&&(s=[]);var l=a.length,p=t.clone(),h=5,c=Math.min(p.width(),p.height()),u=c/2,v=c-c*.85,f=new P(p.x1,p.y1,p.x1+c,p.y1+c),d=f.center(),g=p.center(),y=i.series.length,m=[],x=[],b=j(i.padding,v);this.targetBox=t,b=b>u-h?u-h:b,f.translate(g.x-d.x,g.y-d.y);for(var A=u-b,k=new F(A+f.x1+b,A+f.y1+b),C=0;C<l;C++){var I=a[C],$=I.sector,B=I.seriesIx;if($.radius=A,$.center=k,s.length){var D=s[B];$.innerRadius=D.innerRadius,$.radius=D.radius}B===y-1&&I.explode&&($.center=$.clone().setRadius($.radius*.15).point($.middle())),I.reflow(f);var K=I.label;K&&K.options.position===ii&&B===y-1&&(K.orientation===Z?x.push(K):m.push(K))}m.length>0&&(m.sort(this.labelComparator(!0)),this.leftLabelsReflow(m)),x.length>0&&(x.sort(this.labelComparator(!1)),this.rightLabelsReflow(x)),this.box=f},r.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},r.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},r.prototype.distanceBetweenLabels=function(t){var e=mt(this.points),i=e.sector,a=t.length-1,s=i.radius+e.options.labels.distance,l=[],p=t[0].box,h=M(p.y1-(i.center.y-s-p.height()-p.height()/2));l.push(h);for(var c=0;c<a;c++){var u=t[c+1].box;p=t[c].box,h=M(u.y1-p.y2),l.push(h)}return h=M(i.center.y+s-t[a].box.y2-t[a].box.height()/2),l.push(h),l},r.prototype.distributeLabels=function(t,e){for(var i=this,a=t.length,s,l,p,h=0;h<a;h++)for(p=-t[h],s=l=h;p>0&&(s>=0||l<a);)p=i._takeDistance(t,h,--s,p),p=i._takeDistance(t,h,++l,p);this.reflowLabels(t,e)},r.prototype._takeDistance=function(t,e,i,a){var s=a;if(t[i]>0){var l=Math.min(t[i],s);s-=l,t[i]-=l,t[e]+=l}return s},r.prototype.reflowLabels=function(t,e){var i=this,a=mt(this.points),s=a.sector,l=a.options.labels,p=e.length,h=l.distance,c=s.center.y-(s.radius+h)-e[0].box.height(),u;t[0]+=2;for(var v=0;v<p;v++){var f=e[v],d=f.box;c+=t[v],u=i.hAlignLabel(d.x2,s.clone().expand(h),c,c+d.height(),f.orientation===Z),f.orientation===Z?(l.align!==Zt&&(u=s.radius+s.center.x+h),f.reflow(new P(u+d.width(),c,u,c))):(l.align!==Zt&&(u=s.center.x-s.radius-h),f.reflow(new P(u-d.width(),c,u,c))),c+=d.height()}},r.prototype.createVisual=function(){var t=this,e=this,i=e.options.connectors,a=e.points,s=a.length,l=4;n.prototype.createVisual.call(this),this._connectorLines=[];for(var p=0;p<s;p++){var h=a[p],c=h.sector,u=h.label,v=c.middle(),f=(h.options.connectors||{}).color||i.color;if(u){var d=new O({stroke:{color:f,width:i.width},animation:{type:jr,delay:h.animationDelay}});if(u.options.position===ii){var g=u.box,y=c.center,m=c.point(v),x=new F(g.x1,g.center().y),b=void 0,A=void 0,k=void 0;m=c.clone().expand(i.padding).point(v),d.moveTo(m.x,m.y),u.orientation===Z?(A=new F(g.x1-i.padding,g.center().y),k=cu(y,m,x,A),x=new F(A.x-l,A.y),k=k||x,k.x=Math.min(k.x,x.x),t.pointInCircle(k,c.center,c.radius+l)||k.x<c.center.x?(b=c.center.x+c.radius+l,h.options.labels.align!==Ne?b<x.x?d.lineTo(b,m.y):d.lineTo(m.x+l*2,m.y):d.lineTo(b,m.y),d.lineTo(x.x,A.y)):(k.y=A.y,d.lineTo(k.x,k.y))):(A=new F(g.x2+i.padding,g.center().y),k=cu(y,m,x,A),x=new F(A.x+l,A.y),k=k||x,k.x=Math.max(k.x,x.x),t.pointInCircle(k,c.center,c.radius+l)||k.x>c.center.x?(b=c.center.x-c.radius-l,h.options.labels.align!==Ne?b>x.x?d.lineTo(b,m.y):d.lineTo(m.x-l*2,m.y):d.lineTo(b,m.y),d.lineTo(x.x,A.y)):(k.y=A.y,d.lineTo(k.x,k.y))),d.lineTo(A.x,A.y),t._connectorLines.push(d),t.visual.append(d)}}}},r.prototype.renderVisual=function(){if(n.prototype.renderVisual.call(this),Rf(this.options.series,function(l){return l.autoFit})){var t=this.targetBox,e=this.box.center(),i=this.visual.bbox();if(!i)return;var a=i.bottomRight(),s=Math.min((e.y-t.y1)/(e.y-i.origin.y),(t.y2-e.y)/(a.y-e.y),(e.x-t.x1)/(e.x-i.origin.x),(t.x2-e.x)/(a.x-e.x));s<1&&this.visual.transform(at().scale(s,s,[e.x,e.y]))}},r.prototype.labelComparator=function(t){var e=t?-1:1;return function(i,a){var s=(i.parent.sector.middle()+270)%360,l=(a.parent.sector.middle()+270)%360;return(s-l)*e}},r.prototype.hAlignLabel=function(t,e,i,a,s){var l=e.radius,p=e.center,h=p.x,c=p.y,u=Math.min(Math.abs(c-i),Math.abs(c-a));return u>l?t:h+Math.sqrt(l*l-u*u)*(s?1:-1)},r.prototype.pointInCircle=function(t,e,i){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)},r.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},r.prototype.animationDelay=function(t){return t*iw},r.prototype.stackRoot=function(){return this},r}(tt);function cu(n,r,o,t){var e=(t.x-o.x)*(n.y-o.y)-(t.y-o.y)*(n.x-o.x),i=(t.y-o.y)*(r.x-n.x)-(t.x-o.x)*(r.y-n.y),a;if(i!==0){var s=e/i;a=new F(n.x+s*(r.x-n.x),n.y+s*(r.y-n.y))}return a}S(Pn,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}});_(Pn.prototype,tg);Pn.prototype.isStackRoot=!0;var eg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this.createPieChart(this.series)},r.prototype.createPieChart=function(t){var e=t[0],i=new Pn(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)},r.prototype.appendChart=function(t,e){n.prototype.appendChart.call(this,t,e),vi(this.options.legend.data,t.legendItems)},r.prototype.getPointBelow=function(t){return this.getPointToTheRight(t)},r.prototype.getPointAbove=function(t){return this.getPointToTheLeft(t)},r}(gr),As=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflowLabel=function(){var t=this,e=t.options.labels,i=t.label,a=this.sector.clone(),s=a.middle();if(i){var l=i.box.height();if(e.position===N){a.radius-=(a.radius-a.innerRadius)/2;var p=a.point(s);i.reflow(new P(p.x,p.y-l/2,p.x,p.y))}else n.prototype.reflowLabel.call(this)}},r.prototype.createSegment=function(t,e){return Ni.current.createRing(t,e)},r}(Cn);S(As,{overlay:{gradient:"roundedGlass"},labels:{position:N},animation:{type:Vr}});_(As.prototype,Me);var ow=50,rg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.addValue=function(t,e,i){var a=_({},i.series,{index:i.index});if(a.pattern=i.pattern||a.pattern,this.evalSegmentOptions(a,t,i),this.createLegendItem(t,a,i),i.visible!==!1){var s=new As(t,e,a);Object.assign(s,i),this.append(s),this.points.push(s)}},r.prototype.reflow=function(t){var e=this,i=this.options,a=t.clone(),s=5,l=Math.min(a.width(),a.height()),p=l/2,h=l-l*.85,c=i.series,u=c.length,v=j(i.padding,h);v=v>p-s?p-s:v;for(var f=p-v,d=0,g,y=0;y<u;y++){var m=c[y];y===0&&w(m.holeSize)&&(g=m.holeSize,f-=m.holeSize),w(m.size)?f-=m.size:d++,w(m.margin)&&y!==u-1&&(f-=m.margin)}if(!w(g)){var x=(p-v)/(u+.75);g=x*.75,f-=g}var b=g,A=0,k,C;this.seriesConfigs=[];for(var I=0;I<u;I++){var $=c[I];k=j($.size,f/d),b+=A,C=b+k,e.seriesConfigs.push({innerRadius:b,radius:C}),A=$.margin||0,b=C}n.prototype.reflow.call(this,t)},r.prototype.animationDelay=function(t,e,i){return t*ow+de*(e+1)/(i+1)},r}(Pn);S(rg,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var nw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this.createDonutChart(this.series)},r.prototype.createDonutChart=function(t){var e=t[0],i=new rg(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)},r.prototype.getPointBelow=function(t){return this._getNextPoint(t,this._pointsByVertical,-1)},r.prototype.getPointAbove=function(t){return this._getNextPoint(t,this._pointsByVertical,1)},r}(eg),aw=.15,ig=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){this.valueAxisRangeTracker=new Ya},r.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},r.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),i=t.options.reverse?e.max:e.min,a=t.getSlot(i),s=this.polarAxis.getSlot(0).center,l=t.box.translate(s.x-a.x1,s.y-a.y1);t.reflow(l)},r.prototype.createValueAxis=function(){var t=this.valueAxisRangeTracker,e=t.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1}),a,s;i.type===Wa?(a=nd,s={min:.1,max:1}):(a=od,s={min:0,max:1});var l=t.query(name)||e||s;l&&e&&(l.min=Math.min(l.min,e.min),l.max=Math.max(l.max,e.max));var p=new a(l.min,l.max,i,this.chartService);this.valueAxis=p,this.appendAxis(p)},r.prototype.reflowAxes=function(){var t=this,e=t.options.plotArea,i=t.valueAxis,a=t.polarAxis,s=t.box,l=Math.min(s.width(),s.height())*aw,p=J(e.padding||{},l),h=s.clone().unpad(p),c=h.clone();c.y2=c.y1+Math.min(c.width(),c.height()),c.align(h,L,N);var u=c.clone().shrink(0,c.height()/2);a.reflow(c),i.reflow(u);var v=i.lineBox().height()-i.box.height();i.reflow(i.box.unpad({top:v})),this.axisBox=c,this.alignAxes(c)},r.prototype.backgroundBox=function(){return this.box},r.prototype.detachLabels=function(){},r}(gr),oh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointSlot=function(t,e){var i=t.center.y-e.y1,a=F.onCircle(t.center,t.startAngle,i);return new P(a.x,a.y,a.x,a.y)},r}(yo);S(oh,{clip:!1});var Ss=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(ih);Ss.prototype.pointSlot=oh.prototype.pointSlot;S(Ss,{clip:!1});var sw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},r.prototype._polarAxisCenter=function(){var t=this.parent.plotArea.polarAxis,e=t.box.center();return e},r.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),i=new fs(!1),a=this.points();a.push(e),t=this._strokeSegments=i.process(a),t.pop()}return t},r}(Xp),lw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis,i=e.box.center(),a=new It([i.x,i.y]);t.segments.unshift(a),t.segments.push(a)},r}(vo),pw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createSegment=function(t,e,i){var a=(e.line||{}).style,s;return a===so?s=new sw(t,e,i):s=new lw(t,e,i),s},r.prototype.createMissingValue=function(t,e){var i;return Xt(t.x)&&e!==Hi&&(i={x:t.x,y:t.y},e===sr&&(i.y=0)),i},r.prototype.seriesMissingValues=function(t){return t.missingValues||sr},r.prototype._hasMissingValuesGap=function(){for(var t=this,e=this.options.series,i=0;i<e.length;i++)if(t.seriesMissingValues(e[i])===tu)return!0},r.prototype.sortPoints=function(t){var e=this;if(t.sort(hw),this._hasMissingValuesGap())for(var i=0;i<t.length;i++){var a=t[i];if(a){var s=a.value;!Xt(s.y)&&e.seriesMissingValues(a.series)===tu&&delete t[i]}}return t},r}(Ss);function hw(n,r){return n.value.x-r.value.x}var nh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createPolarAxis=function(){var t=new Cp(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},r.prototype.render=function(){this.series=[].concat(this.originalSeries),this.createTrendlineSeries(),n.prototype.render.call(this)},r.prototype.valueAxisOptions=function(t){return _(t,{majorGridLines:{type:Cr},minorGridLines:{type:Cr}},this.options.yAxis)},r.prototype.createValueAxis=function(){n.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},r.prototype.trendlineFactory=function(t,e){var i=Tn.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=Ga),i},r.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),gr.prototype.appendChart.call(this,t,e)},r.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(ut(t,[Ga]),e),this.createScatterChart(ut(t,[Op]),e),this.createAreaChart(ut(t,[Mp]),e)},r.prototype.createLineChart=function(t,e){if(t.length!==0){var i=new Ss(this,{series:t});this.appendChart(i,e)}},r.prototype.createScatterChart=function(t,e){if(t.length!==0){var i=new oh(this,{series:t});this.appendChart(i,e)}},r.prototype.createAreaChart=function(t,e){if(t.length!==0){var i=new pw(this,{series:t});this.appendChart(i,e)}},r.prototype._dispatchEvent=function(t,e,i){var a=t._eventCoordinates(e),s=new F(a.x,a.y),l=this.axisX.getValue(s),p=this.axisY.getValue(s);l!==null&&p!==null&&t.trigger(i,{element:ke(e),x:l,y:p})},r.prototype.createCrosshairs=function(){},r}(ig);S(nh,{xAxis:{},yAxis:{}});_(nh.prototype,wn,{seriesValues:Tn.prototype.seriesValues});function cw(n){for(var r=[],o=0;o<n.length;o++){var t=n[o];r[t.seriesIx]=r[t.seriesIx]||[],r[t.seriesIx].push(t)}return r}var ah=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointSlot=function(t,e){var i=t.center.y-e.y1,a=F.onCircle(t.center,t.middle(),i);return new P(a.x,a.y,a.x,a.y)},r.prototype.renderSegments=function(){if(n.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var t=cw(this._segments),e=0;e<t.length;e++){var i=t[e];if(i&&i.length>1){var a=i[0].linePoints[0],s=mt(i),l=mt(s.linePoints),p=a.categoryIx===0,h=l.categoryIx===l.categoriesCount-1;p&&h&&mt(i).linePoints.push(a)}}},r.prototype.createSegment=function(t,e,i){var a=e.style,s;a===so?s=Up:s=gi;var l=new s(t,e,i),p=this.seriesMissingValues(e);return(t.length===e.data.length||p===Hi)&&(l.options.closed=!0),l},r}(ms);S(ah,{clip:!1,limitPoints:!1});var uw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.fillToAxes=function(){},r}(Xp),vw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.fillToAxes=function(){},r}(vo),fw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createSegment=function(t,e,i,a){var s=this.options.isStacked,l=(e.line||{}).style,p,h,c;return s&&i>0&&a&&(h=a.linePoints.slice(0),p=a),l===so?(c=new uw(t,e,i,p,h),c.options.closed=!0):(t.push(t[0]),c=new vw(t,e,i,p,h)),c},r.prototype.seriesMissingValues=function(t){return t.missingValues||sr},r}(ah),og=function(n){function r(o,t){n.call(this,o,null,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getIndex=function(){return this.categoryIx},r}(As);S(og,{overlay:{gradient:"none"},labels:{distance:10}});var ng=function(n){function r(o){n.call(this,o),this.forEach=o.rtl?Cd:Td}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=e.options,a=e.children,s=i.gap,l=i.spacing,p=a.length,h=p+s+l*(p-1),c=t.angle/h,u=t.startAngle+c*(s/2);this.forEach(a,function(v){var f=t.clone();f.startAngle=u,f.angle=c,v.sector&&(f.radius=v.sector.radius),v.reflow(f),v.sector=f,u+=c+c*l})},r}(tt);S(ng,{gap:1,spacing:0});var dw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=e.options.reverse,a=e.children,s=a.length,l=i?s-1:0,p=i?-1:1;this.box=new P;for(var h=l;h>=0&&h<s;h+=p){var c=a[h].sector;c.startAngle=t.startAngle,c.angle=t.angle}},r}(tt),sh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointType=function(){return og},r.prototype.clusterType=function(){return ng},r.prototype.stackType=function(){return dw},r.prototype.categorySlot=function(t,e){return t.getSlot(e)},r.prototype.pointSlot=function(t,e){var i=t.clone(),a=t.center.y;return i.radius=a-e.y1,i.innerRadius=a-e.y2,i},r.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},r.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),n.prototype.createAnimation.call(this)},r}(go);sh.prototype.reflow=Ur.prototype.reflow;S(sh,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var lh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createPolarAxis=function(){var t=new Zo(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()},r.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&_(t,{majorGridLines:{type:Cr},minorGridLines:{type:Cr}}),this._isStacked100&&_(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),_(t,this.options.valueAxis)},r.prototype.aggregateCategories=function(){Se.prototype.aggregateCategories.call(this,this.panes)},r.prototype.createCategoryAxesLabels=function(){Se.prototype.createCategoryAxesLabels.call(this,this.panes)},r.prototype.filterSeries=function(t){return t},r.prototype.trendlineFactory=function(t,e){var i=Se.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=Gi),i},r.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(ut(t,[yn]),e),this.createLineChart(ut(t,[Gi]),e),this.createBarChart(ut(t,[gs]),e)},r.prototype.chartOptions=function(t){var e={series:t},i=t[0];if(i){var a=this.filterVisibleSeries(t),s=i.stack;e.isStacked=s&&a.length>1,e.isStacked100=s&&s.type==="100%"&&a.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},r.prototype.createAreaChart=function(t,e){if(t.length!==0){var i=new fw(this,this.chartOptions(t));this.appendChart(i,e)}},r.prototype.createLineChart=function(t,e){if(t.length!==0){var i=new ah(this,this.chartOptions(t));this.appendChart(i,e)}},r.prototype.createBarChart=function(t,e){if(t.length!==0){var i=t[0],a=this.chartOptions(t),s=this.filterVisibleSeries(t),l=s.some(function(c){return c.stack}),p=s.some(function(c){return c.stack&&c.stack.type==="100%"});a.gap=i.gap,a.spacing=i.spacing,a.defaultStack=i.stack&&s.length>1,a.isStacked=l&&s.length>1,a.isStacked100=p&&s.length>1;var h=new sh(this,a);this.appendChart(h,e),this._hasBarCharts=!0}},r.prototype.seriesCategoryAxis=function(){return this.categoryAxis},r.prototype._dispatchEvent=function(t,e,i){var a=t._eventCoordinates(e),s=new F(a.x,a.y),l=this.categoryAxis.getCategory(s),p=this.valueAxis.getValue(s);l!==null&&p!==null&&t.trigger(i,{element:ke(e),category:l,value:p})},r.prototype.createCrosshairs=function(){},r.prototype._pointsByVertical=function(t){return n.prototype._pointsByVertical.call(this,t).sort(this._getSeriesCompareFn())},r.prototype._getSeriesCompareFn=function(){return function(t,e){return e.value-t.value}},r}(ig);_(lh.prototype,wn,{appendChart:Se.prototype.appendChart,aggregateSeries:Se.prototype.aggregateSeries,seriesSourcePoints:Se.prototype.seriesSourcePoints,seriesValues:Se.prototype.seriesValues});S(lh,{categoryAxis:{categories:[]},valueAxis:{}});var ks=function(n){function r(o,t,e){n.call(this,t),this.value=o,this.options.index=e.index}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value},r.prototype.reflow=function(t){var e=this.points,i=this.children[0],a=Math.min(e[0].x,e[3].x),s=Math.max(e[1].x,e[2].x);this.box=new P(a,e[0].y,s,e[2].y),i&&i.reflow(new P(t.x1,e[0].y,t.x2,e[2].y))},r.prototype.createVisual=function(){var t=this,e=this.options,i;n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),e.visual?i=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:e,sender:this.getSender(),createVisual:function(){return t.createPath()}}):i=this.createPath(),i&&this.visual.append(i)},r.prototype.createPath=function(){var t=this.options,e=t.border,i=O.fromPoints(this.points,{fill:Fr(t.pattern,{color:t.color,opacity:t.opacity}),stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close();return i},r.prototype.createHighlight=function(t){return O.fromPoints(this.points,t)},r.prototype.highlightVisual=function(){return this.visual.children[0]},r.prototype.highlightVisualArgs=function(){var t=O.fromPoints(this.points).close();return{options:this.options,path:t}},r.prototype.createFocusHighlight=function(t){var e=this.options.focusHighlight.border.width,i=O.fromPoints(this.points,_({},t,{stroke:{width:e*2}})).close(),a=new Be;return a.paths.push(O.fromRect(this.box.clone().pad(e).toRect())),a.paths.push(O.fromPoints(this.points)),i.clip(a),i},r.prototype.tooltipAnchor=function(){var t=this.box;return{point:new F(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},r.prototype.formatValue=function(t){var e=this;return e.owner.formatPointValue(e,t)},r.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},r.prototype.getIndex=function(){return this.index},r}(tt);S(ks,{color:q,border:{width:1},labels:{format:""},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}});_(ks.prototype,Me);_(ks.prototype,fo);var Ts=function(n){function r(o,t){n.call(this,t),this.plotArea=o,this.chartService=o.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.formatPointValue=function(t,e){return this.plotArea.chartService.format.auto(e,t.value)},r.prototype.render=function(){var t=this,e=0,i=this,a=i.options,s=i.plotArea.options.seriesColors;s===void 0&&(s=[]);var l=a.series[e],p=l.data;if(p)for(var h=bd(l),c=h.total,u=h.points,v=0;v<u.length;v++){var f=u[v];if(f){var d=f.fields;lt(l.color)||(l.color=d.color||s[v%s.length]),d=_({index:v,owner:t,series:l,seriesIx:e,dataItem:p[v],percentage:f.value/c},d,{visible:f.visible});var g=f.valueFields.value,y=t.createSegment(g,d),m=t.createLabel(g,d);y&&m&&y.append(m)}}},r.prototype.evalSegmentOptions=function(t,e,i){var a=i.series;hr(t,{value:e,series:a,dataItem:i.dataItem,index:i.index},{defaults:a._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})},r.prototype.createSegment=function(t,e){var i=_({},e.series);if(i.pattern=e.pattern||i.pattern,this.evalSegmentOptions(i,t,e),this.createLegendItem(t,i,e),e.visible!==!1){var a=new ks(t,i,e);return Object.assign(a,e),this.append(a),this.points.push(a),a}},r.prototype.createLabel=function(t,e){var i=e.series,a=e.dataItem,s=_({},this.options.labels,i.labels),l=t;if(s.visible){var p=Ct(s),h={dataItem:a,value:t,percentage:e.percentage,category:e.category,series:i};p?l=p(h):s.format&&(l=this.chartService.format.auto(s.format,l)),s.color||(s.color=ss(i.color),s.background||(s.background=i.color)),this.evalSegmentOptions(s,t,e);var c=new Qt(l,_({vAlign:s.position},s),h);return this.labels.push(c),c}},r.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},i=0;i<t.length;i++){var a=t[i],s=a.options.align;if(s!==N){var l=t[i].box.width();s===U?e.left=Math.max(e.left,l):e.right=Math.max(e.right,l)}}return e},r.prototype.dynamicSlopeReflow=function(t,e,i){for(var a=this,s=a.options,l=a.points,p=l.length,h=l[0],c=h,u=0;u<l.length;u++)l[u].percentage>c.percentage&&(c=l[u]);for(var v=h.percentage/c.percentage*e,f=(e-v)/2,d=0,g=0;g<p;g++){var y=l[g].percentage,m=l[g+1],x=m?m.percentage:y,b=l[g].points=[],A=s.dynamicHeight?i*y:i/p,k=void 0;y?k=(e-v*(x/y))/2:k=x?0:e/2,k=V(k,0,e),b.push(new T(t.x1+f,t.y1+d)),b.push(new T(t.x1+e-f,t.y1+d)),b.push(new T(t.x1+e-k,t.y1+A+d)),b.push(new T(t.x1+k,t.y1+A+d)),f=k,d+=A+s.segmentSpacing,v=V(e-2*k,0,e)}},r.prototype.constantSlopeReflow=function(t,e,i){for(var a=this,s=a.options,l=a.points,p=l.length,h=s.neckRatio<=1,c=h?s.neckRatio*e:e,u=h?0:(e-e/s.neckRatio)/2,v=h?e:e-u*2,f=(v-c)/2,d=0,g=0;g<p;g++){var y=l[g].points=[],m=l[g].percentage,x=s.dynamicHeight?f*m:f/p,b=s.dynamicHeight?i*m:i/p;y.push(new T(t.x1+u,t.y1+d)),y.push(new T(t.x1+e-u,t.y1+d)),y.push(new T(t.x1+e-u-x,t.y1+b+d)),y.push(new T(t.x1+u+x,t.y1+b+d)),u+=x,d+=b+s.segmentSpacing}},r.prototype.reflow=function(t){var e=this.points,i=e.length;if(i){var a=this.options,s=t.clone().unpad(this.labelPadding()),l=s.height()-a.segmentSpacing*(i-1),p=s.width();a.dynamicSlope?this.dynamicSlopeReflow(s,p,l):this.constantSlopeReflow(s,p,l);for(var h=0;h<i;h++)e[h].reflow(t)}},r}(tt);S(Ts,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:N,position:N,zIndex:1}});_(Ts.prototype,tg);var gw=1e6,yw=function(n){function r(o,t){t.dynamicSlope=!1,t.neckRatio=gw,n.call(this,o,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(Ts),mw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this.createChart(Ts,ut(this.series,[Qo])),this.createChart(yw,ut(this.series,[Jo]))},r.prototype.createChart=function(t,e){var i=e[0];if(i){var a=new t(this,{series:e,legend:this.options.legend,neckRatio:i.neckRatio,dynamicHeight:i.dynamicHeight,dynamicSlope:i.dynamicSlope,segmentSpacing:i.segmentSpacing,highlight:i.highlight});this.appendChart(a)}},r.prototype.appendChart=function(t,e){n.prototype.appendChart.call(this,t,e),vi(this.options.legend.data,t.legendItems)},r.prototype._pointsByVertical=function(t){return this.pointsBySeriesIndex(t.series.index)},r.prototype.getPointToTheRight=function(t){return this.getPointBelow(t)},r.prototype.getPointToTheLeft=function(t){return this.getPointAbove(t)},r}(gr),_w=function(n,r){r===void 0&&(r=.05);var o=Ja(n),t=1-r;return function(e){var i=o.toHSL(),a=100-i.l,s=t-e;return i.l+=Math.min(s*a,a),i.toCss()}},Zi=function(n){function r(o,t){n.call(this),this.options=t,this.color=t.color||q,this.value=o}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},r.prototype.createLabel=function(){var t=this.options,e=t.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},r.prototype.createLabelElement=function(t){var e=t.color;return e||(e=ss(this.color)),new Qt(this.getLabelText(t),_({align:N,vAlign:N,margin:{left:5,right:5},zIndex:j(t.zIndex,this.series.zIndex)},t,{color:e}),this.pointData())},r.prototype.getLabelText=function(t){var e=Ct(t);return e?e(this.pointData()):this.formatValue(t.format)},r.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},r.prototype.reflow=function(t){this.render();var e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())},r.prototype.createVisual=function(){n.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual()},r.prototype.markerBox=function(){var t=this.options,e=t.markers,i=e.border,a=this.box.toRect(),s=j(e.type,"rect"),l=s===wf,p=j(i.width,l?1:0),h=Math.round(p/2);if(e.size){var c=a.center();a.size.width=a.size.height=e.size,a.origin.x=Math.round(c.x-a.size.width/2),a.origin.y=Math.round(c.y-a.size.height/2)}return a.size.width-=p,a.size.height-=p,a.origin.y+=h+.5,a.origin.x+=h+.5,$i(a)},r.prototype.markerBorder=function(){var t=this.options,e=t.markers,i=e.border,a=j(i.opacity,t.opacity);return{color:i.color||this.color,width:i.width,opacity:a,dashType:i.dashType}},r.prototype.createMarker=function(){var t=this.options,e=t.markers,i=new qt({type:j(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),pattern:t.pattern,borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:j(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i,this.append(i)},r.prototype.createHighlight=function(t){var e=this.options,i=this.options.highlight.markers||this.options.markers,a=new qt({type:j(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:j(e.zIndex,this.series.zIndex)});a.reflow(this.markerBox());var s=a.getElement();return s.options.fill=t.fill,s.options.stroke=t.stroke,s},r.prototype.highlightVisual=function(){return this.rectVisual},r.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},r.prototype.createFocusHighlight=function(){var t=this.options.markers,e=this.options.focusHighlight,i=new qt({type:j(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:e.color,border:e.border,borderRadius:t.borderRadius,padding:e.border.width/2,zIndex:e.zIndex});return i.reflow(this.markerBox()),i.getElement()},r.prototype.tooltipAnchor=function(){var t=this.box.center().x,e=this.box.y1-Ae;return{point:new F(t,e),align:{horizontal:N,vertical:Y}}},r.prototype.overlapsBox=function(t){return this.box.overlaps(t)},r.prototype.unclipElements=function(){},r.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},r}(tt);_(Zi.prototype,Me);_(Zi.prototype,uo);_(Zi.prototype,fo);Zi.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:Nr,className:$r,ariaRoleDescription:Hr}};var ag=function(n){function r(o,t){n.call(this,t),this.plotArea=o,this.chartService=o.chartService,this._initFields(),this.render()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:_t,max:wt},this._evalSeries=[]},r.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},r.prototype.setRange=function(){for(var t=this,e=this,i=e.options.series,a=0;a<i.length;a++)for(var s=i[a],l=0;l<s.data.length;l++){var p=t.plotArea.bindPoint(s,l),h=p.valueFields;w(h.value)&&h.value!==null&&(t.valueRange.min=Math.min(t.valueRange.min,h.value),t.valueRange.max=Math.max(t.valueRange.max,h.value))}},r.prototype.addValue=function(t,e){var i;t&&w(t.value)&&t.value!==null&&(i=this.createPoint(t,e),i&&Object.assign(i,e)),this.points.push(i)},r.prototype.evalPointOptions=function(t,e,i){var a=i.series,s=i.seriesIx,l={defaults:a._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]},p=this._evalSeries[s];w(p)||(this._evalSeries[s]=p=hr(t,{},l,!0));var h=t;return p&&(h=_({},t),hr(h,{value:e,series:a,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},l)),h},r.prototype.pointType=function(){return Zi},r.prototype.pointOptions=function(t,e){var i=this.seriesOptions[e];if(!i){var a=this.pointType().prototype.defaults;this.seriesOptions[e]=i=_({},a,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return Object.assign({},i)},r.prototype.createPoint=function(t,e){var i=e.series,a=this.pointOptions(i,e.seriesIx),s=e.color||i.color;if(a.pattern=e.pattern||a.pattern,a=this.evalPointOptions(a,t,e),lt(i.color))s=a.color;else if(this.valueRange.max!==0){var l=_w(s);s=l(t.value/this.valueRange.max)}var p=new Zi(t,a);return p.color=s,this.append(p),p},r.prototype.seriesAxes=function(t){var e=t.xAxis,i=t.yAxis,a=this.plotArea,s=e?a.namedXAxes[e]:a.axisX,l=i?a.namedYAxes[i]:a.axisY;if(!s)throw new Error("Unable to locate X axis with name "+e);if(!l)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:s,yAxis:l}},r.prototype.reflow=function(t){var e=this,i=this.points,a=!this.options.clip,s=0;this.traverseDataPoints(function(l,p){var h=i[s++],c=e.seriesAxes(p.series),u=c.xAxis,v=c.yAxis,f=u.categoryIndex(l.x),d=v.categoryIndex(l.y),g=u.getSlot(f,f,a),y=v.getSlot(d,d,a);if(h)if(g&&y){var m=e.pointSlot(g,y);h.reflow(m)}else h.visible=!1}),this.box=t},r.prototype.pointSlot=function(t,e){return new P(t.x1,e.y1,t.x2,e.y2)},r.prototype.traverseDataPoints=function(t){for(var e=this,i=this,a=i.options.series,s=0;s<a.length;s++)for(var l=a[s],p=e.seriesAxes(l),h=p.xAxis,c=p.yAxis,u=h.currentRangeIndices(),v=c.currentRangeIndices(),f=0;f<l.data.length;f++){var d=e.plotArea.bindPoint(l,f),g=d.valueFields,y=d.fields,m=h.totalIndex(g.x),x=c.totalIndex(g.y),b=u.min<=m&&m<=u.max,A=v.min<=x&&x<=v.max;b&&A&&t(g,_({pointIx:f,series:l,seriesIx:s,dataItem:l.data[f],owner:e},y))}},r.prototype.formatPointValue=function(t,e){var i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.value)},r.prototype.animationPoints=function(){for(var t=this.points,e=[],i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e},r}(tt);S(ag,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});var ph=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},r.prototype.render=function(t){t===void 0&&(t=this.panes),this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()},r.prototype.bindCategories=function(){for(var t=this,e=this.srcSeries||this.series,i=0;i<e.length;i++){for(var a=e[i],s=a.data||[],l=t.seriesAxes(a),p=l.xAxis,h=l.yAxis,c=Rc(p.categories||[]),u=Rc(h.categories||[]),v=0;v<s.length;v++){var f=rt.current.bindPoint(a,v).valueFields,d=f.x,g=f.y;c.has(d)||c.add(d),u.has(g)||u.add(g)}p.categories=c.values(),h.categories=u.values()}},r.prototype.createCharts=function(t){for(var e=this,i=this.groupSeriesByPane(),a=0;a<t.length;a++){var s=t[a],l=i[s.options.name||"default"]||[];e.addToLegend(l);var p=e.filterVisibleSeries(l);p&&e.createHeatmapChart(ut(p,[Pp]),s)}},r.prototype.createHeatmapChart=function(t,e){var i=new ag(this,{series:t});this.appendChart(i,e)},r.prototype.seriesPaneName=function(t){var e=this.options,i=t.xAxis,a=[].concat(e.xAxis),s=oe(a,function(f){return f.name===i})[0],l=t.yAxis,p=[].concat(e.yAxis),h=oe(p,function(f){return f.name===l})[0],c=e.panes||[{}],u=c[0].name||"default",v=(s||{}).pane||(h||{}).pane||u;return v},r.prototype.seriesAxes=function(t){var e,i,a=this.options,s=[].concat(a.xAxis),l=t.xAxis;l?e=s.find(function(c){return c.name===l}):e=s[0];var p=[].concat(a.yAxis),h=t.yAxis;if(h?i=p.find(function(c){return c.name===h}):i=p[0],!e)throw new Error("Unable to locate X axis with name "+l);if(!i)throw new Error("Unable to locate Y axis with name "+h);return{xAxis:e,yAxis:i}},r.prototype.createAxisLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e].createLabels()},r.prototype.createXYAxis=function(t,e,i){for(var a=t.name,s=e?this.namedYAxes:this.namedXAxes,l=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),p=l.categories?l.categories[0]:null,h=[l.min,l.max,p],c=this.series,u=0;u<c.length;u++){var v=c[u],f=v[e?"yAxis":"xAxis"];if(f===l.name||i===0&&!f){var d=rt.current.bindPoint(v,0).valueFields;h.push(d[e?"y":"x"]);break}}for(var g,y=0;y<h.length;y++)if(h[y]instanceof Date){g=!0;break}var m;Je(l.type,ir)||!l.type&&g?m=dn:m=ze;var x=new m(l,this.chartService);if(x.axisIndex=i,a){if(s[a])throw new Error((e?"Y":"X")+" axis with name "+a+" is already defined");s[a]=x}return this.appendAxis(x),x.indexCategories(),x},r.prototype.createAxes=function(t){for(var e=this,i=this.options,a=[].concat(i.xAxis),s=[],l=[].concat(i.yAxis),p=[],h=0;h<a.length;h++){var c=e.findPane(a[h].pane);H(c,t)&&s.push(e.createXYAxis(a[h],!1,h))}for(var u=0;u<l.length;u++){var v=e.findPane(l[u].pane);H(v,t)&&p.push(e.createXYAxis(l[u],!0,u))}this.axisX=this.axisX||s[0],this.axisY=this.axisY||p[0]},r.prototype.removeAxis=function(t){var e=t.options.name;n.prototype.removeAxis.call(this,t),t.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},r.prototype._dispatchEvent=function(t,e,i){for(var a=t._eventCoordinates(e),s=new F(a.x,a.y),l=this.axes,p=l.length,h=[],c=[],u=0;u<p;u++){var v=l[u],f=v.options.vertical?c:h;aa(f,v.getCategory(s))}h.length>0&&c.length>0&&t.trigger(i,{element:ke(e),originalEvent:e,x:Yi(h),y:Yi(c)})},r.prototype.updateAxisOptions=function(t,e){var i=t.options.vertical,a=this.groupAxes(this.panes),s=(i?a.y:a.x).indexOf(t);uu(this.options,s,i,e),uu(this.originalOptions,s,i,e)},r.prototype.crosshairOptions=function(t){return Object.assign({},t.options.crosshair,{zIndex:0})},r.prototype._pointsByVertical=function(t,e){var i=this;e===void 0&&(e=0);var a=this.axisX.options.reverse?e*-1:e,s=this.axisX.children,l=this._getPointAxisXIndex(t)+a;l=Oa(l,s.length);var p=s[l].value,h=this.filterPoints(function(c){return rl(c.pointData().x,p)}).sort(function(c,u){return i._getPointAxisYIndex(c)-i._getPointAxisYIndex(u)});return this.axisY.options.reverse?h.reverse():h},r.prototype._pointsByHorizontal=function(t,e){var i=this;e===void 0&&(e=0);var a=this.axisY.options.reverse?e*-1:e,s=this.axisY.children,l=this._getPointAxisYIndex(t)+a;l=Oa(l,s.length);var p=s[l].value,h=this.filterPoints(function(c){return rl(c.pointData().y,p)}).sort(function(c,u){return i._getPointAxisXIndex(c)-i._getPointAxisXIndex(u)});return this.axisX.options.reverse?h.reverse():h},r.prototype._getPointAxisXIndex=function(t){return this._getPointAxisIndex(this.axisX,t.pointData().x)},r.prototype._getPointAxisYIndex=function(t){return this._getPointAxisIndex(this.axisY,t.pointData().y)},r.prototype._getPointAxisIndex=function(t,e){return t.children.findIndex(function(i){return rl(e,i.value)})},r}(gr);function rl(n,r){return n instanceof Date&&r instanceof Date?za(n,r):n===r}function uu(n,r,o,t){var e=[].concat(o?n.yAxis:n.xAxis)[r];_(e,t)}S(ph,{xAxis:{},yAxis:{}});_(ph.prototype,wn);var ae="color",ne="first",xw="from",$t="max",hh="min",yr="noteText",bw="summary",ww="to";Te.current.register(Se,[ge,Ne,pr,ei,lr,ti,po,ho,Dr,_n,gn,qi,mn,Xi,xn,Ui,Wi,ri].concat(co));Te.current.register(Tn,[Rp,Ep,lo].concat(co));Te.current.register(eg,[Vr]);Te.current.register(nw,[Ua]);Te.current.register(mw,[Qo,Jo]);Te.current.register(nh,[Mp,Ga,Op].concat(co));Te.current.register(lh,[yn,gs,Gi].concat(co));Te.current.register(ph,[Pp]);rt.current.register([ge,Ne,pr,ei,lr,ti],[ee],[Pe,ae,yr,ld,pd,fr,be]);rt.current.register([mn,Xi,Wi,ri],[xw,ww],[Pe,ae,yr,fr,be]);rt.current.register([xn,Ui],[ee],[Pe,ae,yr,bw,fr,be]);rt.current.register([Mp,Ga,Op],[E,L],[ae,fr,be]);rt.current.register([yn,gs,Gi],[ee],[Pe,ae,fr,be]);rt.current.register([Qo,Jo],[ee],[Pe,ae,"visibleInLegend","visible",fr,be]);cr.current.register([ge,Ne,pr,ei,lr,ti,xn,Ui],{value:$t,color:ne,noteText:ne,errorLow:hh,errorHigh:$t});cr.current.register([mn,Xi,Wi,ri],{from:hh,to:$t,color:ne,noteText:ne});cr.current.register([yn,gs,Gi],{value:$t,color:ne});rt.current.register([Rp,Ep,lo],[E,L],[ae,yr,xb,bb,wb,Ab]);rt.current.register([lo],[E,L,"size"],[ae,Pe,yr,be]);rt.current.register([Pp],[E,L,ee],[ae,yr,be]);rt.current.register([po,ho],["open","high","low","close"],[Pe,ae,"downColor",yr,be]);cr.current.register([po,ho],{open:$t,high:$t,low:hh,close:$t,color:ne,downColor:ne,noteText:ne});rt.current.register([gn,qi],["lower","q1","median","q3","upper","mean","outliers"],[Pe,ae,yr,fr,be]);cr.current.register([gn,qi],{lower:$t,q1:$t,median:$t,q3:$t,upper:$t,mean:$t,outliers:ne,color:ne,noteText:ne});rt.current.register([Dr,_n],["current","target"],[Pe,ae,"visibleInLegend",yr,fr,be]);cr.current.register([Dr,_n],{current:$t,target:$t,color:ne,noteText:ne});rt.current.register([Vr,Ua],[ee],[Pe,ae,"explode","visibleInLegend","visible",fr,be]);var El=[Pe,ee,E,L],Aw="mousedown",Yr="mousemove",vu="contextmenu",fu="mouseleave",du="keydown",gu="focus",yu="blur",Sw=20,mu="k-chart-overlay-top",ch=function(n){function r(o,t,e,i){var a=this;i===void 0&&(i={}),n.call(this),this.observers=[],this.addObserver(i.observer),this.chartService=new oo(this,i),this.chartService.theme=e,this._initElement(o);var s=_({},this.options,t);this._originalOptions=_({},s),this._theme=e,this._initTheme(s,e),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),Jr.preloadFonts(t,function(){a.fontLoaded=!0,a._destroyed||(a.trigger("init"),a._redraw(),a._attachEvents(),a._restoreOverlayElement())})}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initElement=function(t){var e=this;this._setElementClass(t),t.style.position="relative",t.tabIndex=t.getAttribute("tabindex")?t.getAttribute("tabindex"):0,t.setAttribute("role","graphics-document document");for(var i=t.childNodes.length-1;i>=0;i--){var a=t.childNodes[i];qo(a,"k-chart-overlay")?e.overlayElement=a:t.removeChild(a)}this.element=t},r.prototype._setElementClass=function(t){ft(t,"k-chart")},r.prototype._restoreOverlayElement=function(){this.overlayElement&&(this._hasSeriesData()?this.overlayElement.style.display="none":(!this.options.title||this.options.title&&this.options.title.position!==Y?ft(this.overlayElement,mu):as(this.overlayElement,mu),this.overlayElement.style.display=""),this.overlayElement.parentElement!==this.element&&this.element.appendChild(this.overlayElement))},r.prototype._hasSeriesData=function(){var t=this.options.series||[],e=t.length>0&&t.some(function(i){return i.data&&i.data.length>0});return e},r.prototype._initTheme=function(t,e){for(var i=[],a=t.series||[],s=0;s<a.length;s++)i.push(Object.assign({},a[s]));t.series=i,kw(t),this.applyDefaults(t,e),t.seriesColors===null&&delete t.seriesColors,Kt(t.title)&&(t.title={text:t.title}),this.options=_({},e,t),this.applySeriesColors()},r.prototype.getSize=function(){var t=this.options.chartArea||{},e=t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),i=t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight);return{width:e,height:i}},r.prototype.resize=function(t){var e=this.getSize(),i=this._size,a=e.width>0||e.height>0;t||a&&(!i||e.width!==i.width||e.height!==i.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):a&&this._selections&&Rf(this._selections,function(s){return!s.visible})&&(this._destroySelections(),this._setupSelection())},r.prototype._resize=function(){this._noTransitionsRedraw()},r.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,i=e.findPane(t);e.redraw(i)}else this._redraw()},r.prototype.getAxis=function(t){return ad(t,this._plotArea.axes)},r.prototype.findAxisByName=function(t){return this.getAxis(t)},r.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,i=0;i<e.length;i++)if(e[i].options.name===t)return new Na(e[i])},r.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new Na(e[t])},r.prototype.plotArea=function(){return new vb(this._plotArea)},r.prototype.toggleHighlight=function(t,e){var i=this._plotArea,a=(i.srcSeries||i.series||[])[0],s;if(lt(e))s=i.filterPoints(e);else{var l,p;ye(e)?(l=e.series,p=e.category):l=p=e,a.type===Ua?s=_u(i.pointsBySeriesName(l),p):H(a.type,[Vr,Qo,Jo])?s=_u((i.charts[0]||{}).points,p):s=i.pointsBySeriesName(l)}s&&this.togglePointsHighlight(t,s)},r.prototype.togglePointsHighlight=function(t,e){for(var i=this._highlight,a=0;a<e.length;a++)i.togglePointHighlight(e[a],t)},r.prototype.showTooltip=function(t){var e=this._sharedTooltip(),i=this,a=i._tooltip,s=i._plotArea,l,p;if(lt(t)?(l=s.findPoint(t),l&&e&&(p=l.categoryIx)):e&&w(t)&&(p=s.categoryAxis.categoryIndex(t)),e){if(p>=0){var h=this._plotArea.pointsByCategoryIndex(p);a.showAt(h)}}else l&&a.show(l)},r.prototype.hideTooltip=function(){this._tooltip.hide()},r.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&Ke(e,{width:i.width}),i.height&&Ke(e,{height:i.height}),!t||t.options.type!==this.options.renderAs?(this._destroySurface(),this.surface=to.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)):(this.surface.clear(),this.surface.resize()),this.element._kendoExportVisual=this._kendoExportVisual.bind(this)},r.prototype._surfaceWrap=function(){return this.element},r.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=t,this._plotArea=t._plotArea,this._legend=t._legend,t.renderVisual(),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new C1,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this._setComputedStyles(),this.trigger(Cb),bu(this._plotArea.panes),this._navState||this._cancelDomEvents(),this._redrawFocusHighlight()},r.prototype._setComputedStyles=function(){var t=this.titleHeight();this.element.style.setProperty("--kendo-chart-computed-title-height",t+"px")},r.prototype._redrawFocusHighlight=function(){if(!this._destroyed){var t=this,e=t._focusState,i=e.legendInFocus,a=e.preserveHighlight;i&&a&&(this._focusElement(this._getFocusedLegendItem(),!1),this._focusState.preserveHighlight=!1)}},r.prototype._setElementAccessibilityAttributes=function(){var t=this.options.title,e=Kt(t)?t:t.description||t.text;e&&this.element.setAttribute("aria-roledescription",e)},r.prototype._kendoExportVisual=function(t){if(t&&t.width&&t.height){var e=this._originalOptions.chartArea||{},i={width:e.width||t.width,height:e.height||t.height};return this.exportVisual(i)}return this.exportVisual()},r.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var i=this.options,a=_({},t.options,{chartArea:{width:t.width,height:t.height}});Ll(this._originalOptions,a),this.options=_({},this._originalOptions,a),this._initTheme(this.options,this._theme),this.bindCategories();var s=this._getModel();s.renderVisual(),bu(s._plotArea.panes),e=s.visual,this.options=i}else e=this.surface.exportVisual();return e},r.prototype._sharedTooltip=function(){return this._plotArea instanceof Se&&this.options.tooltip&&this.options.tooltip.shared},r.prototype._createPannable=function(){var t=this.options;t.pannable!==!1&&(this._pannable=new Hd(this._plotArea,t.pannable))},r.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;t!==!1&&e!==!1&&(this._zoomSelection=new Ud(this,e))},r.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;t!==!1&&e!==!1&&(this._mousewheelZoom=new E1(this,e))},r.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,i=(e||{}).selection,a=(e||{}).mousewheel,s=!t&&(e===!1||i===!1)&&!this.requiresHandlers([Qs,Do,Vo]),l=(e===!1||a===!1)&&!this.requiresHandlers([Co,Pi,Mi]),p=this.element;this._dragZoomEnabled&&s&&l?(p.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(s&&l)&&(p.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!s,!l)},r.prototype._toggleDomEvents=function(t,e){var i=this.domEvents;i&&(i.toggleDrag&&i.toggleDrag(t),i.toggleZoom&&i.toggleZoom(e))},r.prototype._createTooltip=function(){var t=this,e=t.options.tooltip,i;return this._sharedTooltip()?i=this._createSharedTooltip(e):i=new z1(this.chartService,e),i},r.prototype._createSharedTooltip=function(t){return new rh(this._plotArea,t)},r.prototype.applyDefaults=function(t,e){Tw(t,e),Cw(t,e)},r.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,i=t.seriesColors||[],a=0;a<e.length;a++){var s=e[a],l=i[a%i.length],p=s._defaults;s.color=s.color||l,p&&(p.color=p.color||l)}},r.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),i=new Nf(this._modelOptions());i.chart=this,i._plotArea=e;var a=Di.buildTitle(t.title),s=Di.buildTitle(t.subtitle,{align:t.title.align,position:t.title.position});if(i.append.apply(i,Di.orderTitles([a,s])),t.legend&&t.legend.visible){var l=new th(e.options.legend,this.chartService);i.append(l),i._legend=l}return i.append(e),i.reflow(),this._setTitleBox(a,s),i},r.prototype._setTitleBox=function(t,e){if(!(!t&&!e)){this._titleBox=(t||e).box.clone();var i=t?t.options.position:"",a=e?e.options.position:"",s=i===a,l=a!==Y;s&&e?this._titleBox.wrap(e.box):t&&e&&l&&(this._titleBox=e.box.clone())}},r.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return _({transitions:t.transitions,width:e.width||pp,height:e.height||mf},t.chartArea)},r.prototype._createPlotArea=function(t){var e=this.options,i=Te.current.create(t?[]:e.series,e,this.chartService);return i},r.prototype._setupSelection=function(){for(var t=this,e=this,i=e._plotArea.axes,a=this._selections=[],s=0;s<i.length;s++){var l=i[s],p=l.options;if(l instanceof ze&&p.select&&!p.vertical){var h=l.range(),c=new eh(t,l,_({min:h.min,max:h.max},p.select));a.push(c)}}},r.prototype._selectStart=function(t){return this.trigger(Tl,t)},r.prototype._select=function(t){return this.trigger(zo,t)},r.prototype._selectEnd=function(t){return this.trigger(Cl,t)},r.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Ka(this._mousemove.bind(this),Sw)},r.prototype.addObserver=function(t){t&&this.observers.push(t)},r.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},r.prototype.requiresHandlers=function(t){for(var e=this.observers,i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0},r.prototype.trigger=function(t,e){e===void 0&&(e={}),e.sender=this,t===yd?e.anchor.point=this._toDocumentCoordinates(e.anchor.point):t===fd?this._updateDrilldownPoint(e.point):t===dd?this._resetDrilldownPoint():t===ud?(this._focusPoint(e.point),this._startDrilldown(e.point)):t===cd&&this._focusLegendItem(e);for(var i=this.observers,a=!1,s=0;s<i.length;s++)i[s].trigger(t,e)&&(a=!0);return a},r.prototype.titleHeight=function(){return this._titleBox?this._titleBox.height():0},r.prototype._attachEvents=function(){var t,e,i=this.element;this._touchAction=i.style.touchAction,Lo(i,(t={},t[vu]=this._clickHandler,t[qa]=this._mousewheelHandler,t[fu]=this._mouseleaveHandler,t[du]=this._keydownHandler,t[Aw]=this._mousedownHandler,t[gu]=this._focusHandler,t[yu]=this._blurHandler,t)),this._shouldAttachMouseMove()&&Lo(i,(e={},e[Yr]=this._mousemove,e)),this.domEvents=cs.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},r.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(Ks)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))},r.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},r.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())},r.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(Mi,{}))},r.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var i=this._gestureDistance,a=-t.distance/i+1;if(Math.abs(a)>=.1){a=Math.round(a*10),this._gestureDistance=t.distance;var s={delta:a,axisRanges:Po(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Co,s)){var l=this._eventCoordinates(t);this._zooming||(this._zooming=!0);var p=s.axisRanges=e.updateRanges(a,l);p&&!this.trigger(Pi,s)&&e.zoom()}}}},r.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},r.prototype._start=function(t){var e=this._eventCoordinates(t);this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([Qs,Do,Vo])&&this._startNavigation(t,e,Qs),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Co,{axisRanges:Po(this._plotArea.axes),originalEvent:t}))},r.prototype._move=function(t){var e=this,i=e._navState,a=e._pannable;if(!this._stopChartHandlers(t)){if(a){var s=a.move(t);s&&!this.trigger(Do,{axisRanges:s,originalEvent:t})&&a.pan()}else if(i){for(var l={},p=i.axes,h=0;h<p.length;h++){var c=p[h],u=c.options.name;if(u){var v=c.options.vertical?t.y:t.x,f=v.startLocation-v.location;f!==0&&(l[c.options.name]=c.translateRange(f))}}i.axisRanges=l,this.trigger(Do,{axisRanges:l,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},r.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Vo,{axisRanges:Po(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Vo),this._zoomSelection){var i=this._zoomSelection.end(t);i&&!this.trigger(Pi,{axisRanges:i,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(Mi,{axisRanges:i,originalEvent:t}))}}},r.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var i=this._eventCoordinates(t),a=this._plotArea.paneByPoint(i);if(a){for(var s=0;s<e.length;s++)if(e[s].onPane(a))return!0}},r.prototype._mousewheelZoomRate=function(){var t=this.options.zoomable,e=(t||{}).mousewheel||{};return j(e.rate,Lb)},r.prototype._mousewheel=function(t){var e=this,i=up(t),a=this._mousewheelZoom,s=this._eventCoordinates(t);if(!(this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(s)))if(a){var l={delta:i,axisRanges:Po(this._plotArea.axes),originalEvent:t};(this._zooming||!this.trigger(Co,l))&&(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),l.axisRanges=a.updateRanges(i,s),l.axisRanges&&!this.trigger(Pi,l)&&a.zoom(),this._mwTimeout=setTimeout(function(){e.trigger(Mi,l),e._zooming=!1,e.surface&&e.surface.resumeTracking()},Pl))}else{var p=this._navState;if(!p){var h=this._startNavigation(t,s,Co);h||(p=this._navState)}if(p){var c=p.totalDelta||i;p.totalDelta=c+i;for(var u=this._navState.axes,v={},f=0;f<u.length;f++){var d=u[f],g=d.options.name;g&&(v[g]=d.scaleRange(-c*e._mousewheelZoomRate(),s))}this.trigger(Pi,{delta:i,axisRanges:v,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._endNavigation(t,Mi)},Pl)}}},r.prototype._startNavigation=function(t,e,i){var a=this._model._plotArea,s=a.findPointPane(e),l=a.axes.slice(0);if(s){var p=Po(l),h=this.trigger(i,{axisRanges:p,originalEvent:t});h?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:p,pane:s,axes:l})}},r.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},r.prototype._getChartElement=function(t,e){var i=this.surface.eventTarget(t);if(i)return this._drawingChartElement(i,t,e)},r.prototype._drawingChartElement=function(t,e,i){for(var a=t,s;a&&!s;)s=a.chartElement,a=a.parent;if(s)return s.aliasFor&&(s=s.aliasFor(e,this._eventCoordinates(e))),i&&(s=s.closest(i),s&&s.aliasFor&&(s=s.aliasFor())),s},r.prototype._eventCoordinates=function(t){var e=Pf(t);return this._toModelCoordinates(e.x,e.y)},r.prototype._elementPadding=function(){if(!this._padding){var t=ct(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,i=t.paddingTop;this._padding={top:i,left:e}}return this._padding},r.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),i=ji(this.element);return{left:M(t.x+e.left+i.left),top:M(t.y+e.top+i.top)}},r.prototype._toModelCoordinates=function(t,e){var i=this.element,a=ji(i),s=this._elementPadding(),l=lx(i).invert(),p=new T(t-a.left-s.left,e-a.top-s.top).transform(l);return new F(p.x,p.y)},r.prototype._tap=function(t){var e=this,i=this.surface.eventTarget(t),a=this._drawingChartElement(i,t),s=this._sharedTooltip();!this._startHover(i,t)&&!s&&this._unsetActivePoint(),s&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(a,t),this.handlingTap=!0,setTimeout(function(){e.handlingTap=!1},0)},r.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},r.prototype._propagateClick=function(t,e){for(var i=this,a=t;a;)a.click&&a.click(i,e),a=a.parent},r.prototype._isLegendBeforeChart=function(){var t=this,e=t.options.legend.position,i=t._legend;return i&&i.hasItems()&&(e===G||e===U)},r.prototype._focus=function(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1},r.prototype._keydown=function(t){var e=this,i=e._focusState,a=i.legendInFocus,s=i.focusedElement,l=e._legend;if(t.key===z_){this._clearFocusedElement();var p=this._isLegendBeforeChart();a&&p!==t.shiftKey?this._navigatePoints(t):!a&&p===t.shiftKey&&l.hasItems()&&this._navigateLegend(t)}else t.key===j_?(s&&t.stopPropagation(),this._tooltip&&this._tooltip.visible?this._hideTooltip():this._blur()):t.key===F_?s&&(this._focusState.preserveHighlight=!0,this._propagateClick(s,t),this._focusElement(s)):a?this._navigateLegend(t):this._navigatePoints(t)},r.prototype._navigatePoints=function(t){var e=this,i=this,a=i._focusState,s=i._plotArea;if(a.legendInFocus=!1,!a.focusedElement){this._focusFirstPoint(),t.preventDefault();return}var l=function(p){a.focusedPoint=p,e._focusElement(a.focusedPoint),e._displayTooltip(p),t.preventDefault()};switch(t.key){case bc:l(s.getPointToTheRight(a.focusedPoint));break;case xc:l(s.getPointToTheLeft(a.focusedPoint));break;case _c:l(s.getPointBelow(a.focusedPoint));break;case mc:l(s.getPointAbove(a.focusedPoint));break}},r.prototype._navigateLegend=function(t){var e=this,i=this,a=i._focusState,s=i._legend,l=i.chartService.rtl;if(a.legendInFocus=!0,!a.focusedElement){this._focusFirstLegendItem(),t.preventDefault();return}var p=s.getItems().length,h=function(c){a.focusedLegendItemIndex=c(a.focusedLegendItemIndex,p),e._focusElement(e._getFocusedLegendItem()),t.preventDefault()};switch(t.key){case mc:case xc:h(l?Sc:kc);break;case _c:case bc:h(l?kc:Sc);break}},r.prototype._focusFirstPoint=function(){var t=this._focusState.focusedPoint=this._plotArea.getFirstPoint();t&&(this._focusElement(t),this._displayTooltip(t))},r.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},r.prototype._mousedown=function(){this._hasFocus()||(this._preventInitialPointFocus=!0)},r.prototype._focusChart=function(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())},r.prototype._focusPoint=function(t){this._focusState.focusedPoint=t,this._focusChart(),this._focusElement(t,!0)},r.prototype._focusFirstLegendItem=function(){var t=this,e=t._focusState;e.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),e.legendInFocus=!0,this._hideTooltip()},r.prototype._focusLegendItem=function(t){var e=this,i=e._focusState;i.focusedLegendItemIndex=this._legend.getItems().findIndex(function(a){return a.options.series.index===t.seriesIndex&&a.options.pointIndex===t.pointIndex}),i.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)},r.prototype._getFocusedLegendItem=function(){var t=this,e=t._focusState,i=t._legend;return i.getItems()[e.focusedLegendItemIndex]},r.prototype._focusElement=function(t,e){var i=this,a=i._focusState;if(this._clearFocusedElement(),!!t&&(a.focusedElement=t,this._setElementActiveDescendant(t),!e))if(t.focusVisual(),a.legendInFocus){var s=t.options;this._showSeriesInactiveOpacity(s.series.index,s.pointIndex)}else this._showInactiveOpacity(t)},r.prototype._clearFocusedElement=function(){var t=this,e=t._focusState;e&&(e.focusedElement&&e.focusedElement.clearFocusFromVisual&&(e.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),e.focusedElement=null)},r.prototype._setElementActiveDescendant=function(t){this.options.renderAs==="canvas"&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(t),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(Fi,t._id)},r.prototype._clearElementActiveDescendant=function(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(Fi)},r.prototype._createPseudoFocusedElement=function(t){var e=document.createElement("div"),i=t.options.accessibility;e.id=t._id,e.setAttribute("aria-label",t.getAriaLabelText()),e.setAttribute("role",i.role),e.setAttribute("aria-roledescription",i.ariaRoleDescription);var a=i.ariaChecked;return w(a)&&e.setAttribute("aria-checked",a),e},r.prototype._blur=function(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()},r.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var i=this._drawingChartElement(t,e,function(s){return(s.hover||s.over)&&!(s instanceof gr)}),a=this._activePoint;return this._updateHoveredPoint(i,e),i&&a!==i&&i.hover&&(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,e)&&(this._displayTooltip(i),this._showInactiveOpacity(i))),i},r.prototype._displayTooltip=function(t){var e=_({},this.options.tooltip,t.options.tooltip);e.visible&&(this._sharedTooltip()&&t.box?this._trackSharedTooltip(t.box.center(),{}):this._tooltip.show(t))},r.prototype._hideTooltip=function(){this._tooltip&&this._tooltip.hide()},r.prototype._displayInactiveOpacity=function(t,e,i){var a=this._activeChartInstance=this._chartInstanceFromPoint(t);if(a)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(a.children,null,!0),this._applySeriesOpacity(a.children,t.series),this._highlight.show(i||t);else{var s;if(!a.supportsPointInactiveOpacity()){this._highlight.show(t);return}s=this._getInactivePoints(t,a),s&&s.length&&this._highlight.show(s,1-this._getInactiveOpacityForSeries(t.series))}},r.prototype._getInactivePoints=function(t,e){var i=this._getAllPointsOfType(e,t.constructor);return i.filter(function(a){return a!==t})},r.prototype._getAllPointsOfType=function(t,e){for(var i=this,a=[],s=0;s<t.children.length;s++){var l=t.children[s];l.constructor===e?a.push(l):l.children&&l.children.length&&(a=a.concat(i._getAllPointsOfType(l,e)))}return a},r.prototype._updateHoveredPoint=function(t,e){var i=this._hoveredPoint;i&&i!==t&&(i.out(this,e),this._hoveredPoint=null),t&&i!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))},r.prototype._updateDrilldownPoint=function(t){if(!(!t||!t.series)){var e=rt.current.bindPoint(t.series,null,t.dataItem),i=e.fields;i.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer")}},r.prototype._resetDrilldownPoint=function(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)},r.prototype._startDrilldown=function(t){if(!(!t||!t.series)){var e=t.series,i=rt.current.bindPoint(e,null,t.dataItem),a=i.fields,s=a.drilldown;if(s){var l={series:e,point:t,value:s,sender:this};this.trigger(Ib,l)}}},r.prototype._updateSeriesOpacity=function(t,e){for(var i=this,a=this._plotArea,s=a.series.length,l=0;l<s;l++){var p=a.series[l],h=i._getDefaultOpacityForSeries(p),c=i._getInactiveOpacityForSeries(p);!e&&p!==t.series?(p.defaultOpacity=h,p.opacity=c,p.line&&(p.line.opacity=c)):(p.opacity=h,p.line&&(p.line.opacity=h))}},r.prototype._applySeriesOpacity=function(t,e,i,a){for(var s=this,l=0;l<t.length;l++){var p=t[l],h=p.series||a,c=h&&(h.highlight||{}).visible;if(c&&p.visual){var u=a?a.opacity:p.series.opacity;(h!==e||i)&&p.visual.opacity(i?1:u)}p.children&&p.children.length&&s._applySeriesOpacity(p.children,e,i,p.series)}},r.prototype._chartInstanceFromPoint=function(t){for(var e=t.parent;e&&!e.plotArea;)e=e.parent;return e},r.prototype._showInactiveOpacity=function(t){var e=this._plotArea.series.length>1,i=this._hasInactiveOpacity();i?this._displayInactiveOpacity(t,e):this._highlight.show(t)},r.prototype._hideInactiveOpacity=function(t){var e=this._plotArea.series.length>1,i=this._hasInactiveOpacity();i&&(e&&this._activeChartInstance&&(this._updateSeriesOpacity(t,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)},r.prototype._hasInactiveOpacity=function(){var t=this.options.seriesDefaults.highlight.inactiveOpacity!==void 0,e=this.options.series.filter(function(i){return i.highlight.inactiveOpacity!==void 0}).length>0;return t||e},r.prototype._getInactiveOpacityForSeries=function(t){var e=this.options.seriesDefaults.highlight.inactiveOpacity,i=t.highlight.inactiveOpacity;return i||e||t.opacity||wc},r.prototype._getDefaultOpacityForSeries=function(t){return t.defaultOpacity||t.opacity||wc},r.prototype._mouseover=function(t){var e,i=this._startHover(t.element,t.originalEvent);i&&i.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),Lo(document,(e={},e[Yr]=this._mouseMoveTrackHandler,e)))},r.prototype._mouseMoveTracking=function(t){var e,i=this,a=i.options,s=i._tooltip,l=i._highlight,p=i._activePoint,h=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(h)){if(p&&p.tooltipTracking&&p.series&&p.parent.getNearestPoint){var c=p.parent.getNearestPoint(h.x,h.y,p.seriesIx);if(c&&c!==p&&(this._activePoint=c,!c.hover(this,t))){var u=_({},a.tooltip,c.options.tooltip);u.visible&&s.show(c),l.show(c)}}}else Io(document,(e={},e[Yr]=this._mouseMoveTrackHandler,e)),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(p)},r.prototype._mousemove=function(t){var e=this._eventCoordinates(t),i=this._plotArea;if(this._trackCrosshairs(e),i.hover){var a=i.backgroundContainsPoint(e);a?(this._plotAreaHovered=!0,this._plotArea.hover(this,t)):this._plotAreaHovered&&!a&&(this._plotAreaHovered=!1,this.trigger(Ks))}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},r.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,i=0;i<e.length;i++){var a=e[i];a.box.containsPoint(t)?a.showAt(t):a.hide()}},r.prototype._trackSharedTooltip=function(t,e,i){if(!this._suppressHover){var a=this,s=a.options.tooltip,l=a._plotArea,p=a._plotArea.categoryAxis,h=a._tooltip,c=a._highlight;if(l.backgroundContainsPoint(t)){var u=p.pointCategoryIndex(t);if(u!==this._tooltipCategoryIx||!this._sharedHighlight&&i){var v=l.pointsByCategoryIndex(u),f=v.map(function(g){return g.eventArgs(e)}),d=f[0]||{};d.categoryPoints=f,v.length>0&&!this.trigger(vd,d)?(s.visible&&h.showAt(v,t),c.show(v),this._sharedHighlight=!0):h.hide(),this._tooltipCategoryIx=u}else i&&this._sharedHighlight&&(c.hide(),h.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(c.hide(),h.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},r.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},r.prototype._unsetActivePoint=function(t){var e=this,i=e._highlight;this._activePoint=null,this._hoveredPoint=null,(!t||!t.keepTooltipOpen)&&this._hideTooltip(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,i&&i.hide()},r.prototype._deferRedraw=function(){this._redraw()},r.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},r.prototype.bindCategories=function(){for(var t=this,e=this.options,i=[].concat(e.categoryAxis),a=0;a<i.length;a++){var s=i[a];s.autoBind!==!1&&t.bindCategoryAxisFromSeries(s,a)}},r.prototype.bindCategoryAxisFromSeries=function(t,e){var i=this,a=new Set,s=this.options.series.filter(function(f){return f.categoryAxis===t.name||!f.categoryAxis&&e===0}),l=s.some(function(f){return!!f.categoryField}),p=s.filter(function(f){return f.data&&f.data.length>0}),h=p.map(function(f){return rt.current.bindPoint(f,0).fields.category}),c=h.reduce(function(f,d){return f||Ad(t,d)},!1),u=p.filter(function(f,d){return f.categoryField||w(h[d])});if(u.forEach(function(f){return f.data.forEach(function(d,g){var y=rt.current.bindPoint(f,g).fields.category;if(c){var m=wd(y,d,i.chartService.intl);y=m?m.getTime():void 0}a.add(y)})}),a.size>0){var v=Array.from(a.values());c&&(v=v.sort().map(function(f){return f&&new Date(f)})),t.categories=v}else l&&(t.categories=[])},r.prototype._isBindable=function(t){for(var e=rt.current.valueFields(t),i=!0,a=0;a<e.length;a++){var s=e[a];if(s===ee?s="field":s=s+"Field",!w(t[s])){i=!1;break}}return i},r.prototype._noTransitionsRedraw=function(){var t=this.options,e;t.transitions!==!1&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)},r.prototype._legendItemHover=function(t,e){this._showSeriesInactiveOpacity(t,e)},r.prototype._showSeriesInactiveOpacity=function(t,e){var i=this,a=i._plotArea,s=i._highlight,l=(a.srcSeries||a.series)[t],p;if(H(l.type,[Vr,Ua,Qo,Jo])?p=a.findPoint(function(u){return u.series.index===t&&u.index===e}):p=a.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&l.visible&&p){var h=a.series.length>1,c=p.length?p[0]:p;this._displayInactiveOpacity(c,h,p)}else s.show(p)},r.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([gd,Ks])},r.prototype.updateMouseMoveHandler=function(){var t,e;Io(this.element,(t={},t[Yr]=this._mousemove,t)),this._shouldAttachMouseMove()&&Lo(this.element,(e={},e[Yr]=this._mousemove,e))},r.prototype.applyOptions=function(t,e){Ll(this._originalOptions,t),this._originalOptions=_(this._originalOptions,t),this.options=_({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},r.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler(),this._restoreOverlayElement()},r.prototype.setDirection=function(t){this.chartService.rtl=!!t,this.surface&&this.surface.type==="svg"&&this._destroySurface()},r.prototype.setIntlService=function(t){this.chartService.intl=t},r.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},r.prototype.destroy=function(){var t,e;this._destroyed=!0,Io(this.element,(t={},t[vu]=this._clickHandler,t[qa]=this._mousewheelHandler,t[Yr]=this._mousemove,t[fu]=this._mouseleaveHandler,t[du]=this._keydownHandler,t[gu]=this._focusHandler,t[yu]=this._blurHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Io(document,(e={},e[Yr]=this._mouseMoveTrackHandler,e)),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},r.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},r.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},r.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},r}(R);function kw(n){for(var r=El,o=0;o<r.length;o++){var t=r[o]+"Axes";n[t]&&(n[r[o]+"Axis"]=n[t],delete n[t])}}function _u(n,r){if(n){for(var o=0;o<n.length;o++)if(n[o].category===r)return[n[o]]}}function Tw(n,r){var o=(r||{}).axisDefaults||{},t,e,i;function a(l){var p=(l||{}).color||e.color,h=_({},o,o[t],e,e[t],{line:{color:p},labels:{color:p},title:{color:p}},l);return delete h[t],h}for(var s=0;s<El.length;s++)t=El[s]+"Axis",e=n.axisDefaults||{},i=[].concat(n[t]),i=i.map(a),n[t]=i.length>1?i:i[0]}function Cw(n,r){var o=n.series,t=o.length,e=n.seriesDefaults,i=_({},n.seriesDefaults),a=r?_({},r.seriesDefaults):{},s=_({},a);xu(i),xu(s);for(var l=0;l<t;l++){var p=o[l].type||n.seriesDefaults.type,h=_({data:[]},s,a[p],{tooltip:n.tooltip},i,e[p]);o[l]._defaults=h,o[l]=_({},h,o[l]),o[l].data=o[l].data||[]}}function xu(n){delete n.bar,delete n.column,delete n.rangeColumn,delete n.line,delete n.verticalLine,delete n.pie,delete n.donut,delete n.area,delete n.verticalArea,delete n.scatter,delete n.scatterLine,delete n.bubble,delete n.candlestick,delete n.ohlc,delete n.boxPlot,delete n.bullet,delete n.verticalBullet,delete n.polarArea,delete n.polarLine,delete n.radarArea,delete n.radarLine,delete n.waterfall}function Po(n){for(var r={},o=0;o<n.length;o++){var t=n[o],e=t.options.name;e&&(r[e]=t.range())}return r}var Pw=["data","categories"];function Ll(n,r){for(var o in r)if(!H(o,Pw)&&vp(r,o)){var t=r[o],e=n[o];if(w(e)){var i=t===null;i||!w(t)?(delete n[o],i&&delete r[o]):e&&ye(t)&&ye(e)&&Ll(e,t)}}}function bu(n){for(var r=0;r<n.length;r++)n[r].notifyRender()}S(ch,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{},focusHighlight:{border:{opacity:1,color:dt,width:2}}},categoryAxis:{},seriesDefaults:{type:Ne,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{},focusHighlight:{border:{opacity:1,width:2},zIndex:200}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var Mw=-2,Ow=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._slotAnchor=function(t,e){var i=this.plotArea.categoryAxis,a=i.options.vertical,s=a?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"},l;return a?l=new F(this.plotArea.box.x2,e.center().y):l=new F(e.center().x,Mw),{point:l,align:s}},r.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},r}(rh),Rw=150,Ew=150,wu=[ge,Dr];function Au(n){for(var r=[],o=0;o<n.length;o++){var t=n[o];r[o]=t.style.display,t.style.display="none"}return r}function Su(n,r){for(var o=0;o<n.length;o++)n[o].style.display=r[o]}function ku(n){return W(n)?[n]:n}var Lw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._setElementClass=function(t){ft(t,"k-sparkline")},r.prototype._initElement=function(t){n.prototype._initElement.call(this,t),this._initialWidth=Math.floor(Ke(t).width)},r.prototype._resize=function(){var t=this.element,e=Au(t.childNodes);this._initialWidth=Math.floor(Ke(t).width),Su(t.childNodes,e),n.prototype._resize.call(this)},r.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),i=Au(e.childNodes),a=document.createElement("span");a.innerHTML="&nbsp;",e.appendChild(a);var s=_({width:this._autoWidth,height:Ke(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return Ke(e,{width:s.width,height:s.height}),e.removeChild(a),Su(e.childNodes,i),this.surface&&this.surface.resize(),s},r.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},r.prototype._createPlotArea=function(t){var e=n.prototype._createPlotArea.call(this,t);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e},r.prototype._calculateWidth=function(t){for(var e=this.options,i=J(e.chartArea.margin),a=t.charts,s=this._surfaceWrap(),l=0,p=0;p<a.length;p++){var h=a[p],c=(h.options.series||[])[0];if(c){if(c.type===ge)return Rw;if(c.type===Dr)return Ew;if(c.type===Vr)return Ke(s).height;var u=h.categoryAxis;if(u){var v=u.categoriesCount()*(!h.options.isStacked&&H(c.type,[Ne,_n])?h.seriesOptions.length:1);l=Math.max(l,v)}}}var f=l*e.pointWidth;return f>0&&(f+=i.left+i.right),f},r.prototype._createSharedTooltip=function(t){return new Ow(this._plotArea,t)},r.normalizeOptions=function(t){var e=ku(t);return Lt(e)?e={seriesDefaults:{data:e}}:e=_({},e),e.series||(e.series=[{data:ku(e.data)}]),_(e,{seriesDefaults:{type:e.type}}),(H(e.series[0].type,wu)||H(e.seriesDefaults.type,wu))&&(e=_({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},r}(ch);S(Lw,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var Iw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){this._initialOpacity=parseFloat(ct(this.element,"opacity").opacity)},r.prototype.step=function(t){ct(this.element,{opacity:String(ue(this._initialOpacity,0,t))})},r.prototype.abort=function(){n.prototype.abort.call(this),ct(this.element,{display:"none",opacity:String(this._initialOpacity)})},r.prototype.cancel=function(){n.prototype.abort.call(this),ct(this.element,{opacity:String(this._initialOpacity)})},r}(_e);function il(n,r){var o=document.createElement("div");return o.className=n,r&&(o.style.cssText=r),o}var sg=function(n){function r(o,t,e){n.call(this),this.options=_({},this.options,e),this.container=o,this.chartService=t;var i=ct(o,["paddingLeft","paddingTop"]);this.chartPadding={top:i.paddingTop,left:i.paddingLeft},this.createElements(),o.appendChild(this.element)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createElements=function(){var t=this.element=il("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=il("k-tooltip k-chart-tooltip"),i=this.scroll=il("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(i)},r.prototype.show=function(t,e,i){var a=this,s=a.element,l=a.options,p=a.scroll,h=a.tooltip,c=it(ot(t)+ot(e-t)/2),u=i.width()*.4,v=i.center().x-u,f=i.center().x,d=f-v,g=l.max-l.min,y=d/g,m=c-l.min,x=this.chartService.intl.format(l.format,t,e),b=Ct(l);this.clearHideTimeout(),this._visible||(ct(s,{visibility:"hidden",display:"block"}),this._visible=!0),b&&(x=b({from:t,to:e})),h.innerHTML=x,ct(h,{left:i.center().x-h.offsetWidth/2,top:i.y1});var A=ct(h,["marginTop","borderTopWidth","height"]);ct(p,{width:u,left:v+m*y,top:i.y1+A.marginTop+A.borderTopWidth+A.height/2}),ct(s,{visibility:"visible"})},r.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},r.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout(function(){t._visible=!1,t._hideAnimation=new Iw(t.element),t._hideAnimation.setup(),t._hideAnimation.play()},this.options.hideDelay)},r.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},r}(R);S(sg,{format:"{0:d} - {1:d}",hideDelay:500});var tr="_navigator",qe=tr,Tu="_default",Dw=3,Cu=function(n){function r(o){var t;n.call(this),this.chart=o;var e=this.options=_({},this.options,o.options.navigator),i=e.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),w(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new Yo(this,(t={},t[Do]="_drag",t[Vo]="_dragEnd",t[Pi]="_zoom",t[Mi]="_zoomEnd",t)),o.addObserver(this.chartObserver)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.parseDate=function(t){return Et(this.chart.chartService.intl,t)},r.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},r.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},r.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},r.prototype.initSelection=function(){var t=this,e=t.chart,i=t.options,a=this.mainAxis(),s=a.roundedRange(),l=s.min,p=s.max,h=i.select,c=h.from,u=h.to,v=h.mousewheel,f=Vw(a);a.categoriesCount()!==0&&(this.clean(),f.box=a.box,this.selection=new eh(e,f,{min:l,max:p,from:c||l,to:u||p,mousewheel:j(v,{zoom:"left"}),visible:i.visible},new Yo(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),i.hint.visible&&(this.hint=new sg(e.element,e.chartService,{min:l,max:p,template:Ct(i.hint),format:i.hint.format})))},r.prototype.setRange=function(){var t=this.chart._createPlotArea(!0),e=t.namedCategoryAxes[qe],i=e.roundedRange(),a=i.min,s=i.max,l=this.options.select||{},p=l.from||a;p<a&&(p=a);var h=l.to||s;h>s&&(h=s),this.options.select=_({},l,{from:p,to:h}),this.filterAxes()},r.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(mt(e.panes),t)},r.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,i=e.panes.filter(function(a){return a.options.name!==tr});e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(i)},r.prototype._drag=function(t){var e=this,i=e.chart,a=e.selection,s=i._eventCoordinates(t.originalEvent),l=this.mainAxis(),p=l.roundedRange(),h=l.pane.box.containsPoint(s),c=i._plotArea.categoryAxis,u=t.axisRanges[c.options.name],v=this.options.select,f;if(!(!u||h||!a)){v.from&&v.to?f=ot(v.to)-ot(v.from):f=ot(a.options.to)-ot(a.options.from);var d=it(V(ot(u.min),p.min,ot(p.max)-f)),g=it(V(ot(d)+f,ot(p.min)+f,p.max));this.options.select={from:d,to:g},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),a.set(d,g),this.showHint(d,g)}},r.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},r.prototype.readSelection=function(){var t=this,e=t.selection.options,i=e.from,a=e.to,s=t.options.select;s.from=i,s.to=a},r.prototype.filterAxes=function(){var t=this,e=t.options.select;e===void 0&&(e={});for(var i=t.chart,a=i.options.categoryAxis,s=e.from,l=e.to,p=0;p<a.length;p++){var h=a[p];h.pane!==tr&&(h.min=s,h.max=l)}},r.prototype.filter=function(){var t=this,e=t.chart,i=t.options.select;if(e.requiresHandlers(["navigatorFilter"])){var a=this.mainAxis(),s={from:i.from,to:i.to};if(a.options.type!=="category"){var l=new dn(_({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[i.from,i.to]}),e.chartService).options;s.from=Dt(l.min,-l.baseUnitStep,l.baseUnit),s.to=Dt(l.max,l.baseUnitStep,l.baseUnit)}this.chart.trigger("navigatorFilter",s)}},r.prototype._zoom=function(t){var e=this,i=e.chart._plotArea.categoryAxis,a=e.selection,s=e.options,l=s.select,p=s.liveDrag,h=this.mainAxis(),c=t.delta;if(a){var u=h.categoryIndex(a.options.from),v=h.categoryIndex(a.options.to),f=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(c)>1&&(c*=Dw),v-u>1?(a.zoom(c,f),this.readSelection()):(i.options.min=l.from,l.from=i.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),f).min),p&&(this.filterAxes(),this.redrawSlaves()),a.set(l.from,l.to),this.showHint(this.options.select.from,this.options.select.to)}},r.prototype._zoomEnd=function(t){this._dragEnd(t)},r.prototype.showHint=function(t,e){var i=this.chart._plotArea;this.hint&&this.hint.show(t,e,i.backgroundBox())},r.prototype._selectStart=function(t){return this.chart._selectStart(t)},r.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},r.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},r.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes[qe]},r.prototype.select=function(t,e){var i=this.options.select;return t&&e&&(i.from=this.parseDate(t),i.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:i.from,to:i.to}},r.setup=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!t.__navi){t.__navi=!0;var i=_({},e.navigator,t.navigator),a=t.panes=[].concat(t.panes),s=_({},i.pane,{name:tr});i.visible||(s.visible=!1,s.height=.1),t.navigator.position!=="top"?a.push(s):a.unshift(s),a.forEach(function(l){l.name=l.name||Tu}),r.attachAxes(t,i),r.attachSeries(t,i,e)}},r.attachAxes=function(t,e){var i=e.series||[],a=t.categoryAxis=[].concat(t.categoryAxis),s=t.valueAxis=[].concat(t.valueAxis),l=a.concat(s);l.forEach(function(v){v.pane=v.pane||Tu});var p=ut(i,hd),h=p.length===0,c=_({type:"date",pane:tr,roundToBaseUnit:!h,justified:h,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),u=e.categoryAxis;a.push(_({},c,{maxDateGroups:200},u,{name:qe,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),_({},c,u,{name:qe+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),_({},c,u,{name:qe+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),s.push(_({name:qe,pane:tr,majorGridLines:{visible:!1},visible:!1},e.valueAxis))},r.attachSeries=function(t,e,i){for(var a=t.series=t.series||[],s=[].concat(e.series||[]),l=i.seriesColors,p=e.seriesDefaults,h=0;h<s.length;h++)a.push(_({color:l[h%l.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},p,s[h],{axis:qe,categoryAxis:qe,autoBind:e.autoBindElements}))},r}(R);function Pu(){}function Vw(n){return Pu.prototype=n,new Pu}var zw=28,Bw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.applyDefaults=function(t,e){var i=Ke(this.element).width||pp,a=e,s={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/zw)}}};a&&(a=_({},a,s)),Cu.setup(t,a),n.prototype.applyDefaults.call(this,t,a)},r.prototype._setElementClass=function(t){ft(t,"k-chart k-stockchart")},r.prototype.setOptions=function(t){this.destroyNavigator(),n.prototype.setOptions.call(this,t)},r.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},r.prototype._resize=function(){this.noTransitionsRedraw()},r.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},r.prototype._dirty=function(){var t=this.options,e=[].concat(t.series,t.navigator.series),i=oe(e,function(s){return s&&s.visible}).length,a=this._seriesCount!==i;return this._seriesCount=i,a},r.prototype._fullRedraw=function(){var t=this.navigator;t||(t=this.navigator=new Cu(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),n.prototype._redraw.call(this),t.initSelection()},r.prototype._trackSharedTooltip=function(t){var e=this._plotArea,i=e.paneByPoint(t);i&&i.options.name===tr?this._unsetActivePoint():n.prototype._trackSharedTooltip.call(this,t)},r.prototype.bindCategories=function(){n.prototype.bindCategories.call(this),this.copyNavigatorCategories()},r.prototype.copyNavigatorCategories=function(){for(var t=[].concat(this.options.categoryAxis),e,i=0;i<t.length;i++){var a=t[i];a.name===qe?e=a.categories:e&&a.pane===tr&&(a.categories=e)}},r.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},r.prototype.destroy=function(){this.destroyNavigator(),n.prototype.destroy.call(this)},r.prototype._stopChartHandlers=function(t){var e=this._eventCoordinates(t),i=this._plotArea.paneByPoint(e);return n.prototype._stopChartHandlers.call(this,t)||i&&i.options.name===tr},r.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},r}(ch);S(Bw,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var Mn=150,lg=250,Fw="arrow",pg="arrowPointer",rn="barPointer",hg=200,Vi=.5,cg=200,ug=Math.PI/180,Mr="inside",Cs="linear",ol="outside",vg="radialPointer",fg="radialRangePointer";function dg(n,r){var o=n.getOrigin(),t=n.getSize(),e=J(r);return n.setOrigin([o.x-e.left,o.y-e.top]),n.setSize([t.width+(e.left+e.right),t.height+(e.top+e.bottom)]),n}var jw=Q,Mu=O,Nw=af;function gg(n,r){var o=n.box,t=n.children[0].box,e=r.border||{},i=r.background||"",a=Mu.fromRect(new X([o.x1,o.y1],[o.width(),o.height()]),{stroke:{}}),s=new Nw(n.text,new T(t.x1,t.y1),{font:r.font,fill:{color:r.color}}),l=dg(s.bbox().clone(),r.padding),p=Mu.fromRect(l,{stroke:{color:e.width?e.color:"",width:e.width,opacity:e.opacity,dashType:e.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),h=new jw;return h.append(a),h.append(p),h.append(s),h}function yg(n,r,o){var t=w(n.from)?n.from:wt,e=w(n.to)?n.to:_t;return n.from=Math.max(Math.min(e,t),r),n.to=Math.min(Math.max(e,t),o),n}function Ou(n,r){var o=J(r);return o.left=-o.left,o.top=-o.top,o.right=-o.right,o.bottom=-o.bottom,dg(n,o)}var $w=5,Hw=O,Uw=to,uh=function(n){function r(o,t,e,i){i===void 0&&(i={}),n.call(this),this.element=o,this.theme=e,this.contextService=new oo(this,i),this._originalOptions=_({},this.options,t),this.options=_({},this._originalOptions),this._initTheme(e),this.redraw()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},r.prototype.value=function(t){var e=this.pointers[0];if(arguments.length===0)return e.value();e.value(t),this._setValueOptions(t)},r.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},r.prototype.exportVisual=function(){return this._visuals},r.prototype.allValues=function(t){var e=this.pointers,i=[];if(arguments.length===0){for(var a=0;a<e.length;a++)i.push(e[a].value());return i}if(Lt(t))for(var s=0;s<t.length;s++)W(t[s])&&e[s].value(t[s]);this._setValueOptions(t)},r.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),i=[].concat(t),a=0;a<i.length;a++)e[a].value=i[a]},r.prototype.resize=function(){this.noTransitionsRedraw()},r.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},r.prototype.redraw=function(){var t=this._surfaceSize(),e=new X([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var i=Ou(e.bbox(),this._gaugeAreaMargin);this.reflow(i)},r.prototype.setOptions=function(t,e){this._originalOptions=_(this._originalOptions,t),this.options=_({},this._originalOptions),this._initTheme(e),this.redraw()},r.prototype.setDirection=function(t){this.contextService.rtl=!!t,this.surface&&this.surface.type==="svg"&&(this.surface.destroy(),this.surface=null)},r.prototype.setIntlService=function(t){this.contextService.intl=t},r.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=_({},e,this.options);var i=this.options,a=i.pointer;if(Lt(a)){for(var s=[],l=0;l<a.length;l++)s.push(_({},e.pointer,a[l]));i.pointer=s}},r.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),i=t.border||{},a=new X([0,0],[e.width,e.height]);this._gaugeAreaMargin=t.margin||$w,i.width>0&&(a=Ou(a,i.width));var s=Hw.fromRect(a,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}});return s},r.prototype._initSurface=function(){var t=this,e=t.options,i=t.surface,a=this._surfaceElement(),s=this._surfaceSize();Ke(a,s),!i||i.options.type!==e.renderAs?(i&&i.destroy(),this.surface=Uw.create(a,{type:e.renderAs})):(this.surface.clear(),this.surface.resize())},r.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&_(e,t.gaugeArea),e},r.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},r.prototype.getSize=function(){return this._getSize()},r.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),i=t.offsetWidth,a=t.offsetHeight;return i||(i=e.width),a||(a=e.height),{width:i,height:a}},r.prototype._defaultSize=function(){return{width:cg,height:hg}},r.prototype._toggleTransitions=function(t){var e=this;this.options.transitions=t;for(var i=0;i<this.pointers.length;i++)e.pointers[i].options.animation.transitions=t},r}(R);S(uh,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var Il=O,Mo=Q,qn=T;function Gw(n,r){var o=n.position,t=n.tickX,e=n.tickY,i,a;n.vertical?(i=new qn(t,o),a=new qn(t+r.size,o)):(i=new qn(o,e),a=new qn(o,e+r.size));var s=new Il({stroke:{color:r.color,width:r.width}}).moveTo(i).lineTo(a);return s}function Ru(n,r,o,t){var e=r.length;if(t.visible)for(var i=o.mirror,a=o.lineBox,s=t.skip;s<e;s+=t.step)s%t.skipUnit!==0&&(o.tickX=i?a.x2:a.x2-t.size,o.tickY=i?a.y1-t.size:a.y1,o.position=r[s],n.append(Gw(o,t)))}var mg=function(n){function r(o,t){var e=o||{};!w(e.reverse)&&e.vertical===!1&&(t||{}).rtl&&(e=Object.assign({},e,{reverse:!0})),n.call(this,0,1,e,t),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initUserOptions=function(t){var e=_({},this.options,t);return e=_({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||io(e.min,e.max),e},r.prototype.initFields=function(){},r.prototype.render=function(){var t=this.elements=new Mo,e=this.renderLabels(),i=this.renderLine(),a=this.renderTicks(),s=this.renderRanges();return t.append(i,e,a,s),t},r.prototype.renderRanges=function(){for(var t=this,e=this.options,i=e.min,a=e.max,s=e.vertical,l=e.labels.mirror,p=e.ranges||[],h=new Mo,c=p.length,u=e.rangeSize||e.minorTicks.size/2,v=0;v<c;v++){var f=yg(p[v],i,a),d=t.getSlot(f.from,f.to),g=s?t.lineBox():d,y=s?d:t.lineBox();s?g.x1-=u*(l?-1:1):y.y2+=u*(l?-1:1),h.append(Il.fromRect(new X([g.x1,y.y1],[g.x2-g.x1,y.y2-y.y1]),{fill:{color:f.color,opacity:f.opacity},stroke:{}}))}return h},r.prototype.renderLabels=function(){for(var t=this,e=t.labels,i=t.options,a=new Mo,s=0;s<e.length;s++)a.append(gg(e[s],i.labels));return a},r.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),i=new Mo;if(t.width>0&&t.visible){var a=new Il({stroke:{color:t.color,dashType:t.dashType,width:t.width}});a.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),i.append(a)}return i},r.prototype.renderTicks=function(){var t=new Mo,e=this.options,i=e.majorTicks.visible?e.majorUnit:0,a={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return Ru(t,this.getMajorTickPositions(),a,e.majorTicks),Ru(t,this.getMinorTickPositions(),a,_({},{skipUnit:i/e.minorUnit},e.minorTicks)),t},r}(fe);S(mg,{min:0,max:50,majorTicks:{size:15,align:Mr,color:dt,width:Vi,visible:!0},minorTicks:{size:10,align:Mr,color:dt,width:Vi,visible:!0},line:{width:Vi},labels:{position:Mr,padding:2},mirror:!1,_alignLines:!1});var Ps=function(n){function r(o,t){n.call(this);var e=o.options,i=e.min,a=e.max,s=this.options=_({},this.options,t);s.fill=s.color,this.scale=o,w(s.value)?s.value=V(s.value,i,a):s.value=i}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.value=function(t){var e=this.options,i=e.value;if(arguments.length===0)return i;var a=this.scale.options,s=a.min,l=a.max;e._oldValue=w(e._oldValue)?e.value:s,e.value=V(t,s,l),this.elements&&this.repaint()},r}(R);S(Ps,{color:dt});var vh=function(n){function r(o,t){n.call(this,o,t),this.options=_({track:{visible:w(t.track)}},this.options)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(){var t=this,e=t.options,i=t.scale,a=i.options,s=a.mirror,l=a.vertical,p=i.lineBox(),h=e.track.size||e.size,c=e.size/2,u=J(e.margin),v=l?u[s?"left":"right"]:u[s?"bottom":"top"],f,d,g;v=s?-v:v,l?(g=new P(p.x1+v,p.y1,p.x1+v,p.y2),s?g.x1-=h:g.x2+=h,e.shape!==rn&&(d=new P(p.x2+v,p.y1-c,p.x2+v,p.y2+c),f=d)):(g=new P(p.x1,p.y1-v,p.x2,p.y1-v),s?g.y2+=h:g.y1-=h,e.shape!==rn&&(d=new P(p.x1-c,p.y1-v,p.x2+c,p.y1-v),f=d)),this.trackBox=g,this.pointerRangeBox=d,this.box=f||g.clone().pad(e.border.width)},r.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:w(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},r.prototype._margin=function(){var t=this,e=t.scale,i=t.options,a=e.options,s=a.mirror,l=a.vertical,p=J(i.margin),h=l?p[s?"left":"right"]:p[s?"bottom":"top"];return h},r}(Ps);S(vh,{shape:rn,track:{border:{width:1}},color:dt,border:{width:1},opacity:1,margin:J(3),animation:{type:rn},visible:!0});var fh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){var t=this.options,e=t.margin,i=t.from,a=t.to,s=t.vertical,l=s?"x1":"y1";t.mirror===s?(i[l]-=e,a[l]-=e):(i[l]+=e,a[l]+=e);var p=this.fromScale=new T(i.x1,i.y1),h=this.toScale=new T(a.x1,a.y1);t.duration!==0&&(t.duration=Math.max(p.distanceTo(h)/t.duration*1e3,1))},r.prototype.step=function(t){var e=ue(this.fromScale.x,this.toScale.x,t),i=ue(this.fromScale.y,this.toScale.y,t);this.element.transform(at().translate(e,i))},r}(_e);S(fh,{easing:Cs,duration:lg});Ue.current.register(pg,fh);var wi=T,Ww=O,Xw=function(n){function r(o,t){n.call(this,o,t),w(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.6)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointerShape=function(){var t=this,e=t.scale,i=t.options.size,a=i/2,s=e.options.mirror?-1:1,l;return e.options.vertical?l=[new wi(0,0-a),new wi(0-s*i,0),new wi(0,0+a)]:l=[new wi(0-a,0),new wi(0,0+s*i),new wi(0+a,0)],l},r.prototype.repaint=function(){var t=this,e=t.scale,i=t.options,a=new fh(this.elements,_(i.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(i.margin),from:e.getSlot(i._oldValue),to:e.getSlot(i.value)}));i.animation.transitions===!1&&(a.options.duration=0),a.setup(),a.play()},r.prototype.render=function(){var t=this,e=t.scale,i=t.options,a=this.getElementOptions(),s=this.pointerShape(i.value);i.animation.type=pg;var l=new Ww({stroke:a.stroke,fill:a.fill}).moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).close(),p=e.getSlot(i.value);return l.transform(at().translate(p.x1,p.y1)),this.elements=l,l},r}(vh),dh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?L:E,i=this.to=t.newPoints[0][e],a=this.from=t.oldPoints[0][e];t.duration!==0&&(t.duration=Math.max(Math.abs(i-a)/t.speed*1e3,1)),this._set(a)},r.prototype.step=function(t){var e=ue(this.from,this.to,t);this._set(e)},r.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][e](t),i[1][e](t)},r}(_e);S(dh,{easing:Cs,speed:lg});Ue.current.register(rn,dh);var qw=Q,Eu=O,Yw=function(n){function r(o,t){n.call(this,o,t),w(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.3)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.pointerShape=function(t){var e=this,i=e.scale,a=e.options,s=i.options,l=s.mirror,p=s.vertical,h=l===p?-1:1,c=a.size*h,u=i.getSlot(i.options.min),v=i.getSlot(t),f=p?L:E,d=p?E:L,g=this._margin()*h,y=new T;y[f]=u[f+"1"],y[d]=u[d+"1"];var m=new T;m[f]=v[f+"1"],m[d]=v[d+"1"],p?(y.translate(g,0),m.translate(g,0)):(y.translate(0,g),m.translate(0,g));var x=m.clone(),b=y.clone();return p?(x.translate(c,0),b.translate(c,0)):(x.translate(0,c),b.translate(0,c)),[y,m,x,b]},r.prototype.repaint=function(){var t=this,e=t.scale,i=t.options,a=this.pointerShape(i.value),s=this.pointerPath,l=this.pointerShape(i._oldValue);s.moveTo(a[0]).lineTo(a[1]).lineTo(a[2]).lineTo(a[3]).close();var p=new dh(s,_(i.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[l[1],l[2]],newPoints:[a[1],a[2]]}));i.animation.transitions===!1&&(p.options.duration=0),p.setup(),p.play()},r.prototype.render=function(){var t=new qw,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var i=this.pointerPath=new Eu({stroke:e.stroke,fill:e.fill});return t.append(i),this.elements=t,t},r.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},i=this.trackBox.clone().pad(e.width||0);return new Eu.fromRect(i.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},r}(vh),Zw=60,Kw=60,Qw=Q,Jw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this.pointers,i=t.origin.x,a=t.origin.y,s=new P(i,a,i+t.width(),a+t.height());this.scale.reflow(s),this._shrinkScaleWidth(s);for(var l=0;l<e.length;l++)e[l].reflow();this.bbox=this._getBox(s),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},r.prototype._buildVisual=function(){var t=new Qw,e=this.scale.render(),i=this.pointers;t.append(this.gaugeArea),t.append(e);for(var a=0;a<i.length;a++){var s=i[a];t.append(s.render()),s.value(s.options.value)}this._visuals=t},r.prototype._createModel=function(){var t=this,e=this.options,i=this.scale=new mg(e.scale,this.contextService);this.pointers=[];var a=e.pointer;a=Lt(a)?a:[a];for(var s=0;s<a.length;s++){var l=_({},a[s],{animation:{transitions:e.transitions}}),p=l.shape===Fw?Xw:Yw;t.pointers.push(new p(i,l))}},r.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?Zw:cg,height:t?hg:Kw}},r.prototype._getBox=function(t){for(var e=this,i=e.scale,a=e.pointers,s=t.center(),l=a[0].box.clone().wrap(i.box),p=0;p<a.length;p++)l.wrap(a[p].box.clone());var h;return i.options.vertical?(h=l.width()/2,l=new P(s.x-h,t.y1,s.x+h,t.y2)):(h=l.height()/2,l=new P(t.x1,s.y-h,t.x2,s.y+h)),l},r.prototype._alignElements=function(){for(var t=this,e=this,i=e.scale,a=e.pointers,s=i.box,l=a[0].box.clone().wrap(i.box),p=this.bbox,h=0;h<a.length;h++)l.wrap(a[h].box.clone());var c;i.options.vertical?(c=p.center().x-l.center().x,i.reflow(new P(s.x1+c,p.y1,s.x2+c,p.y2))):(c=p.center().y-l.center().y,i.reflow(new P(s.x1,s.y1+c,s.x2,s.y2+c)));for(var u=0;u<a.length;u++)a[u].reflow(t.bbox)},r.prototype._shrinkScaleWidth=function(t){var e=this,i=e.scale;if(!i.options.vertical){var a=i.contentBox().width()-t.width();a>0&&(i.box.shrink(a,0),i.box.alignTo(t,"center"),i.reflow(i.box))}},r.prototype._shrinkElements=function(){for(var t=this,e=this,i=e.scale,a=e.pointers,s=i.box.clone(),l=i.options.vertical?"y":"x",p=a[0].box,h=0;h<a.length;h++)p.wrap(a[h].box.clone());s[l+1]+=Math.max(s[l+1]-p[l+1],0),s[l+2]-=Math.max(p[l+2]-s[l+2],0),i.reflow(s);for(var c=0;c<a.length;c++)a[c].reflow(t.bbox)},r}(uh);S(Jw,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var Yn=180,t0=dm,e0=O,sa=Q;function Lu(n,r,o,t){var e=new sa,i=n.center,a=n.getRadiusX();if(t.visible)for(var s=0;s<r.length;s++){var l=n.pointAt(r[s]),p=new T(i.x+a-t.size,i.y).rotate(r[s],i);e.append(new e0({stroke:{color:t.color,width:t.width}}).moveTo(l).lineTo(p))}return e}function nl(n,r,o,t){return{from:n,to:r,color:o,opacity:t}}var gh=function(n){function r(o,t){n.call(this,0,1,o,t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initUserOptions=function(t){var e=_({},this.options,t);return e.majorUnit=e.majorUnit||io(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},r.prototype.initFields=function(){},r.prototype.render=function(t,e){var i=this.renderArc(t,e);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},r.prototype.reflow=function(t){var e=t.center(),i=Math.min(t.height(),t.width())/2;if(w(this.bbox))this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels();else return this.render(e,i)},r.prototype.slotAngle=function(t){var e=this.options,i=e.min,a=e.max,s=e.reverse,l=e.startAngle,p=e.endAngle,h=p-l,c;return s?c=p-(t-i)/(a-i)*h:c=(t-i)/(a-i)*h+l,c+Yn},r.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},r.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,i=t.minorTicks,a=0;return e.visible&&(a=e.size),i.visible&&(a=Math.max(i.size,a)),a},r.prototype.labelsCount=function(){var t=n.prototype.labelsCount.call(this),e=this.options,i=e.endAngle-e.startAngle;return i>=360&&e.max%e.majorUnit===0&&(t-=1),t},r.prototype.renderLabels=function(){var t=this,e=this.options,i=this.arc.clone(),a=i.getRadiusX(),s=this.tickAngles(i,e.majorUnit),l=e.rangeSize=e.rangeSize||a*.1,p=new sa,h=a*.05;w(e.rangeDistance)?h=e.rangeDistance:e.rangeDistance=h;var c=e.labels,u=c.position===Mr,v=w(this.labelElements);u&&(a-=this.ticksSize(),this.hasRanges()&&!v&&(a-=l+h),i.setRadiusX(a).setRadiusY(a));for(var f=this.labels,d=f.length,g=J(c.padding),y=(g.left+g.right)/2,m=(g.top+g.bottom)/2,x=0;x<d;x++){var b=f[x],A=b.box.width()/2,k=b.box.height()/2,C=s[x],I=(C-Yn)*ug,$=i.pointAt(C),B=$.x+Math.cos(I)*(A+y)*(u?1:-1),D=$.y+Math.sin(I)*(k+m)*(u?1:-1);b.reflow(new P(B-A,D-k,B+A,D+k));var K=new T(b.box.x1,b.box.y1),pt=void 0;if(!v)pt=gg(b,e.labels),p.append(pt);else{pt=t.labelElements.children[x];var gt=pt.bbox().origin,ht=pt.transform()||at();ht.translate(K.x-gt.x,K.y-gt.y),pt.transform(ht)}t.bbox=X.union(t.bbox,pt.bbox())}return p},r.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,i=e.rangeDistance,a=e.rangeSize,s=this.getRangeRadius();this.options.labels.position===Mr&&(s+=a+i);for(var l=s+a/2,p=0;p<t.length;p++)t[p]._geometry.setRadiusX(l).setRadiusY(l);this.bbox=X.union(this.bbox,this.ranges.bbox())}},r.prototype.renderRanges=function(){var t=this,e=this.rangeSegments(),i=e.length,a=new sa;if(i){var s=this.options,l=s.rangeSize,p=s.reverse,h=s.rangeDistance,c=this.getRangeRadius();this.radius(this.radius()-l-h);for(var u=0;u<i;u++){var v=e[u],f=t.slotAngle(v[p?"to":"from"]),d=t.slotAngle(v[p?"from":"to"]);d-f!==0&&a.append(t.createRange(f,d,c,v))}}return a},r.prototype.createRange=function(t,e,i,a){var s=this.options.rangeSize,l=new Rr(this.arc.center,{radiusX:i+s/2,radiusY:i+s/2,startAngle:t,endAngle:e});return new t0(l,{stroke:{width:s,color:a.color,opacity:a.opacity,lineCap:a.lineCap}})},r.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],i=e.length,a=[];if(i){var s=t.min,l=t.max,p=t.rangePlaceholderColor;a.push(nl(s,l,p));for(var h=0;h<i;h++)for(var c=yg(e[h],s,l),u=a.length,v=0;v<u;v++){var f=a[v];if(f.from<=c.from&&c.from<=f.to){a.push(nl(c.from,c.to,c.color,c.opacity)),f.from<=c.to&&c.to<=f.to&&a.push(nl(c.to,f.to,p,c.opacity)),f.to=c.from;break}}}return a},r.prototype.getRangeRadius=function(){var t=this,e=t.arc,i=t.options,a=i.rangeSize,s=i.rangeDistance,l=i.majorTicks.size,p;return i.labels.position===ol?p=e.getRadiusX()-l-s-a:p=e.getRadiusX()-a,p},r.prototype.renderArc=function(t,e){var i=this.options,a=this.arc=new Rr(t,{radiusX:e,radiusY:e,startAngle:i.startAngle+Yn,endAngle:i.endAngle+Yn});return a},r.prototype.renderTicks=function(){var t=this,e=t.arc,i=t.options,a=e.clone();this.majorTickAngles=this.tickAngles(e,i.majorUnit),this.majorTicks=Lu(a,this.majorTickAngles,i.majorUnit,i.majorTicks);var s=new sa;s.append(this.majorTicks);var l=i.majorTicks.size,p=i.minorTicks.size;if(this._tickDifference=l-p,i.labels.position===ol){var h=a.getRadiusX();a.setRadiusX(h-l+p).setRadiusY(h-l+p)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,i.minorUnit)),this.minorTicks=Lu(a,this.minorTickAngles,i.minorUnit,i.minorTicks),s.append(this.minorTicks),s},r.prototype.normalizeTickAngles=function(t){for(var e=this.options,i=e.majorUnit/e.minorUnit,a=t.length-1;a>=0;a--)a%i===0&&t.splice(a,1);return t},r.prototype.tickAngles=function(t,e){var i=this.options,a=i.reverse,s=i.max-i.min,l=t.endAngle-t.startAngle,p=s/e,h=t.startAngle,c=l/p;a&&(h+=l,c=-c),l>=360&&i.max%e===0&&(p-=1);for(var u=[],v=0;v<p;v++)u.push(M(h,Tt)),h+=c;return M(h)<=t.endAngle&&u.push(h),u},r.prototype.radius=function(t){if(t)this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0);else return this.arc.getRadiusX()},r.prototype.repositionTicks=function(t,e,i){var a=i&&this._tickDifference||0,s=this.arc,l=s.getRadiusX();i&&this.options.labels.position===ol&&a!==0&&(s=this.arc.clone(),s.setRadiusX(l-a).setRadiusY(l-a));for(var p=0;p<t.length;p++){var h=s.pointAt(e[p]),c=t[p].segments,u=h.x-c[0].anchor().x,v=h.y-c[0].anchor().y;t[p].transform(new at().translate(u,v))}},r}(fe);S(gh,{min:0,max:100,majorTicks:{size:15,align:Mr,color:dt,width:Vi,visible:!0},minorTicks:{size:10,align:Mr,color:dt,width:Vi,visible:!0},startAngle:-30,endAngle:210,labels:{position:Mr,padding:2}});var yh=function(n){function r(o,t){n.call(this,o,t);var e=this.options;e.duration=Math.max(Math.abs(e.newAngle-e.oldAngle)/e.duration*1e3,1)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.step=function(t){var e=this.options,i=ue(e.oldAngle,e.newAngle,t);this.element.transform(at().rotate(i,e.center))},r}(_e);S(yh,{easing:Cs,duration:Mn});Ue.current.register(vg,yh);var r0=.05,i0=re,o0=Q,n0=O,_g=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.setAngle=function(t){this.elements.transform(at().rotate(t,this.center))},r.prototype.repaint=function(){var t=this,e=t.scale,i=t.options,a=e.slotAngle(i._oldValue),s=e.slotAngle(i.value);i.animation.transitions===!1?this.setAngle(s):new yh(this.elements,_(i.animation,{oldAngle:a,newAngle:s})).play()},r.prototype.render=function(){var t=this,e=t.scale,i=t.options,a=new o0;return i.animation!==!1&&_(i.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),a.append(this._renderNeedle(),this._renderCap()),this.elements=a,this.setAngle(ug),a},r.prototype.reflow=function(t){var e=this.center=t.center,i=V(this.options.length||1,.1,1.5),a=this.radius=t.getRadiusX()*i,s=this.capSize=Math.round(a*this.options.cap.size);this.bbox=X.fromPoints(new T(e.x-s,e.y-s),new T(e.x+s,e.y+s))},r.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,i=this.options.color,a=new n0({fill:{color:i},stroke:{color:i,width:Vi}});return a.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),a},r.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,i=new Bt(this.center,this.capSize),a=new i0(i,{fill:{color:e},stroke:{color:e}});return a},r}(Ps);S(_g,{cap:{size:r0},arrow:{width:16,height:14},animation:{type:vg,duration:Mn}});var a0=Q,xg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.reflow=function(t){var e=this,i=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var a=0;a<i.length;a++)i[a].reflow(e.scale.arc),e._initialPlotArea=X.union(e._initialPlotArea,i[a].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,i,this.scale),this._draw()},r.prototype._buildVisual=function(t,e,i){var a=this._visuals=new a0;a.append(t),a.append(i.ticks),a.append(i.ranges),this._buildPointers(e),a.append(i.labelElements)},r.prototype._buildPointers=function(t){for(var e=this,i=0;i<t.length;i++){var a=t[i];a.render(),e._visuals.append(a.elements),a.value(a.options.value)}},r.prototype.fitScale=function(t){for(var e=this,i=this.scale.arc,a=this._initialPlotArea,s=Math.abs(this.getDiff(a,t)),l=M(s,Tt),p=M(-s,Tt),h,c,u,v,f,d=0,g=0;g++<100&&(d=f===u?d+1:0,!(d>5||l!==v&&(h=e.getPlotBox(l,t,i),0<=h&&h<=2)||p!==v&&(u=e.getPlotBox(p,t,i),0<=u&&u<=2)||(h>0&&u>0?v=l*2:h<0&&u<0?v=p*2:v=M((l+p)/2||1,Tt),c=e.getPlotBox(v,t,i),0<=c&&c<=2)));)f=u,c>0?(p=v,u=c):(l=v,h=c)},r.prototype.getPlotBox=function(t,e,i){var a=this,s=this.scale,l=this.pointers,p=i.getRadiusX(),h=i.clone();h.setRadiusX(p+t).setRadiusY(p+t),s.arc=h,s.reflow(e),this.plotBbox=s.bbox;for(var c=0;c<l.length;c++)l[c].reflow(h),a.plotBbox=X.union(a.plotBbox,l[c].bbox);return this.getDiff(this.plotBbox,e)},r.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},r.prototype.alignScale=function(t){var e=this,i=this.plotBbox.center(),a=t.center(),s=i.x-a.x,l=i.y-a.y,p=this,h=p.scale,c=p.pointers;h.arc.center.x-=s,h.arc.center.y-=l,h.reflow(t);for(var u=0;u<c.length;u++)c[u].reflow(h.arc),e.plotBbox=X.union(h.bbox,c[u].bbox)},r.prototype._createModel=function(){var t=this,e=this.options,i=e.pointer,a=this.scale=new gh(e.scale,this.contextService);this.pointers=[];for(var s=Lt(i)?i:[i],l=0;l<s.length;l++){var p=new _g(a,_({},s[l],{animation:{transitions:e.transitions}}));t.pointers.push(p)}},r}(uh);S(xg,{transitions:!0,gaugeArea:{background:""}});var bg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.rangeSegments=function(){var t=this.options,e=t.min,i=t.max,a=t.rangePlaceholderColor,s=t.rangeLineCap;return[{from:e,to:i,color:a,lineCap:s}]},r.prototype.hasRanges=function(){return!0},r.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},r.prototype.addRange=function(t,e,i){var a=this.options.reverse,s=this.slotAngle(a?e:t),l=this.slotAngle(a?t:e),p=this.createRange(s,l,this.getRangeRadius(),i);return this.ranges.append(p),p},r}(gh);S(bg,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var s0=800,mh=function(n){function r(o,t){n.call(this,o,t);var e=this.options,i=Math.abs(e.newAngle-e.oldAngle)/e.duration*1e3;e.duration=V(i,Mn,s0);var a=o.elements.options.get("stroke.color"),s=o.currentColor();a!==s&&(this.startColor=new ve(a),this.color=new ve(s))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.step=function(t){var e=this,i=e.options,a=e.startColor,s=e.color,l=ue(i.oldAngle,i.newAngle,t);if(this.element.angle(l),s){var p=M(ue(a.r,s.r,t)),h=M(ue(a.g,s.g,t)),c=M(ue(a.b,s.b,t));this.element.stroke(new ve(p,h,c).toHex())}},r}(_e);S(mh,{easing:Cs,duration:Mn});Ue.current.register(fg,mh);var wg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.repaint=function(){var t=this,e=t.scale,i=t.options,a=e.slotAngle(i._oldValue),s=e.slotAngle(i.value);this.animation&&this.animation.abort(),i.animation.transitions===!1?(this.angle(s),this.stroke(this.currentColor())):(this.animation=new mh(this,_(i.animation,{oldAngle:a,newAngle:s})),this.animation.play())},r.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},r.prototype.stroke=function(t){this.elements.stroke(t)},r.prototype.render=function(){if(!this.elements){var t=this,e=t.scale,i=t.options;i.animation!==!1&&_(i.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:i.opacity,lineCap:e.options.rangeLineCap})}},r.prototype.currentColor=function(){var t=this.scale.options,e=t.min,i=t.max,a=this.options,s=a.colors,l=a.color,p=a.value,h=W(p)?p:e;if(s)for(var c=0;c<s.length;c++){var u=s[c],v=u.color,f=u.from;f===void 0&&(f=e);var d=u.to;if(d===void 0&&(d=i),f<=h&&h<=d)return v}return l},r.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},r}(Ps);S(wg,{animation:{type:fg,duration:Mn}});var l0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initTheme=function(t){n.prototype._initTheme.call(this,t),this.options.color=this.options.color||(this.theme.pointer||{}).color},r.prototype._createModel=function(){var t=this.options,e=this.scale=new bg(t.scale,this.contextService),i=new wg(e,_({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[i]},r.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.render(),i.value(i.options.value)}},r.prototype._setValueOptions=function(t){this.options.value=t},r.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},r.prototype.centerLabelPosition=function(t,e){var i=this.getSize(),a=this.scale.arc.center,s=a.x-t/2,l=a.y-e/2;if(t<i.width){var p=s+t;s=Math.max(s,0),p>i.width&&(s-=p-i.width)}if(e<i.height){var h=this.scale.bbox,c=h.bottomRight().y,u=l+e;l=Math.max(l,h.origin.y),u>c&&(l-=u-c)}return{left:s,top:l}},r}(xg),p0=90;(function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._createModel=function(){var t=this.options.scale;typeof t.startAngle!="number"&&(t.startAngle=p0),t.endAngle=t.startAngle+360,n.prototype._createModel.call(this)},r})(l0);var Ag=10,xi=function(n){function r(o){n.call(this),this.setOptions(o),this.initProperties()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){},r.prototype.setOptions=function(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},r.prototype.encode=function(t,e,i){var a=w(t)?String(t):t;return this.initValue(a,e,i),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},r.prototype.initValue=function(){},r.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||Ag)},r.prototype.addData=function(){},r.prototype.invalidCharacterError=function(t){throw new Error('Character "'+t+'" is not valid for symbology '+this.name+".")},r}(R);S(xi,{quietZoneLength:Ag,addQuietZone:!0,addCheckSum:!0});var h0=Object.assign,Sg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),h0(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},r.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0},r.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)t.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},r.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},r.prototype.addCheckSum=function(){var t=this.value,e=t.length,i=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(i),this.addPattern(this.characterMap[i]),e++,e>=this.kCheckSumMinLength){var a=(i+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=a,this.addPattern(this.characterMap[a])}},r.prototype.getWeightedSum=function(t,e,i){for(var a=this,s=0,l=0;l<t.length;l++)s+=a.weightedValue(a.getValue(t.charAt(l)),e,l,i);return s},r.prototype.weightedValue=function(t,e,i,a){var s=(e-i)%a||a;return s*t},r.prototype.getValue=function(t){if(isNaN(t))t!==this.DASH&&this.invalidCharacterError(t);else return parseInt(t,10);return this.DASH_VALUE},r.prototype.addCharacter=function(t){var e=this.getValue(t),i=this.characterMap[e];this.addPattern(i)},r.prototype.addPattern=function(t){for(var e=this,i,a=0;a<t.length;a++)i=parseInt(t.charAt(a),10),e.pattern.push(i),e.totalUnits+=i},r}(xi);S(Sg,{addCheckSum:!0});var kg=Object.assign,Tg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),kg(this,{minBaseUnitLength:.7})},r.prototype.addData=function(){var t=this,e=this.value;this.addStart();for(var i=0;i<e.length;i++)t.addCharacter(e.charAt(i));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},r.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},r.prototype.addBase=function(){},r}(xi),_h=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),kg(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},r.prototype.initValue=function(t,e,i){this.width=e,this.height=i,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""},r.prototype.prepareValues=function(){var t=this,e=this.minBaseUnitLength,i=this.minRatio,a=Math.ceil(Math.max(.15*this.width,24)),s,l=this.maxRatio;if(this.height<a)throw new Error("Insufficient height for Code39 encoding: the current height is "+this.height+"px and the minimum height is "+a+"px.");for(s=this.getBaseUnit(l);s<e&&l>i;)l=parseFloat((l-.1).toFixed(1)),s=t.getBaseUnit(l);if(s<e){var p=Math.ceil(this.getBaseWidth(i)*e);throw new Error("Insufficient width for Code39 encoding: the current width is "+this.width+'px and the minimum width for value "'+this.value+'" is '+p+"px.")}this.ratio=l,this.baseUnit=s,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,l).split(this.splitCharacter))},r.prototype.getBaseUnit=function(t){return this.width/this.getBaseWidth(t)},r.prototype.getBaseWidth=function(t){var e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},r.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},r.prototype.addBase=function(t){this.addPattern(t.pattern),this.addCharacterGap()},r.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},r.prototype.addPattern=function(t){for(var e=this,i=0;i<t.length;i++)e.patternString+=e.patternMappings[t.charAt(i)]},r.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},r}(Tg);S(_h,{addCheckSum:!1});var Cg={addCharacter:function(r){this.characterMap[r]?this.addBase(this.characterMap[r]):r.charCodeAt(0)>127?this.invalidCharacterError(r):this.addExtended(r.charCodeAt(0))},addExtended:function(r){for(var o=this,t,e=0;e<this.extendedMappings.length;e++)if(t=o.extendedMappings[e].call(o,r),t){for(var i=0;i<t.length;i++){var a=t[i];o.addBase(a)}o.dataLength+=t.length-1;return}},extendedMappings:[function(n){if(97<=n&&n<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(n-32)]]},function(n){if(33<=n&&n<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(n+32)]]},function(n){if(1<=n&&n<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(n+64)]]},function(n){var r=this,o,t;if(!this.specialAsciiCodes[n])t=Math.floor(n/32)*6+(n-27)%32+64,o=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(t)]];else{o=[];for(var e=0;e<this.specialAsciiCodes[n].length;e++)o.push(r.characterMap[r.shiftCharacters[3]]),o.push(r.characterMap[r.specialAsciiCodes[n][e]])}return o}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},c0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_(this,Cg,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},r}(_h),u0=Object.assign,Pg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),u0(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},r.prototype.initValue=function(t,e,i){this.value=t,this.width=e,this.height=i,this.pattern=[],this.values=[],this.dataLength=t.length},r.prototype.prepareValues=function(){var t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error("Insufficient height for Code93 encoding: the current height is "+this.height+"px, the minimum required height is "+t+"px.");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){var e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error("Insufficient width for Code93 encoding: the current width is "+this.width+'px and the minimum required width for value "'+this.value+'" is '+e+"px.")}},r.prototype.setBaseUnit=function(){var t=2;this.baseUnit=this.width/(9*(this.dataLength+2+t)+this.quietZoneLength+1)},r.prototype.addStart=function(){var t=this.characterMap.START.pattern;this.addPattern(t)},r.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},r.prototype.addBase=function(t){this.addPattern(t.pattern),this.values.push(t.value)},r.prototype.pushCheckSum=function(){var t=this,e=this._getCheckValues(),i;this.checksum=e.join("");for(var a=0;a<e.length;a++)i=t.characterMap[t._findCharacterByValue(e[a])],t.addPattern(i.pattern)},r.prototype._getCheckValues=function(){var t=this,e=this.values,i=e.length,a=0,s,l,p;for(p=i-1;p>=0;p--)a+=t.weightedValue(e[p],i-p,t.cCheckSumTotal);for(s=a%this.checkSumMod,a=this.weightedValue(s,1,this.kCheckSumTotal),p=i-1;p>=0;p--)a+=t.weightedValue(e[p],i-p+1,t.kCheckSumTotal);return l=a%this.checkSumMod,[s,l]},r.prototype._findCharacterByValue=function(t){var e=this;for(var i in e.characterMap)if(e.characterMap[i].value===t)return i},r.prototype.weightedValue=function(t,e,i){return(e%i||i)*t},r.prototype.addPattern=function(t){for(var e=this,i,a=0;a<t.length;a++)i=parseInt(t.charAt(a),10),e.pattern.push(i)},r}(Tg),v0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_(this,Cg,{name:"Code 93 extended",pushCheckSum:function(){var t=this,e=this._getCheckValues(),i;this.checksum=e.join("");for(var a=0;a<e.length;a++)if(i=e[a],t.shiftValuesAsciiCodes[i])t.addExtended(t.shiftValuesAsciiCodes[i]);else{var s=t._findCharacterByValue(i);t.addPattern(t.characterMap[s].pattern)}}})},r}(Pg),f0=/^\d+$/,d0=Object.assign,g0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),d0(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},r.prototype.initValue=function(t,e,i){this.height=i,this.width=e,this.baseHeight=i/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},r.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)t.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},r.prototype.addCharacter=function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},r.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},r.prototype.setBaseUnit=function(){var t=3;this.baseUnit=this.width/((this.value.length+1)*10+t+this.quietZoneLength)},r.prototype.validate=function(t){if(f0.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!H(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")},r.prototype.addPattern=function(t){for(var e=this,i,a=0;a<t.length;a++)i=e.height-e.baseHeight*t.charAt(a),e.pattern.push({width:1,y1:i,y2:e.height}),e.pattern.push(1)},r}(xi),Dl=/^\d+$/,y0=/^[a-z0-9]+$/i,Oe=Object.assign,Ms=function(n){function r(o){n.call(this),this.encoding=o,this.initProperties()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){},r.prototype.addStart=function(){},r.prototype.is=function(){},r.prototype.isCode=function(){return!1},r.prototype.move=function(){},r.prototype.pushState=function(){},r}(R),Mg=function(n){function r(o,t){n.call(this,o),this.states=t,this._initMoves(t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_(this,{FNC4:"FNC4",SHIFT:98})},r.prototype.addStart=function(){this.encoding.addPattern(this.START)},r.prototype.is=function(t,e){var i=t.charCodeAt(e);return this.isCode(i)},r.prototype.move=function(t){for(var e=0;!this._moves[e].call(this,t)&&e<this._moves.length;)e++},r.prototype.pushState=function(t){var e=this,i=this.states,a=t.value,s=a.length,l;if(H("C",i)){var p=a.substr(t.index).match(/\d{4,}/g);p&&(s=a.indexOf(p[0],t.index))}for(;(l=t.value.charCodeAt(t.index))>=0&&this.isCode(l)&&t.index<s;)e.encoding.addPattern(e.getValue(l)),t.index++},r.prototype._initMoves=function(t){this._moves=[],H(this.FNC4,t)&&this._moves.push(this._moveFNC),H(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},r.prototype._moveFNC=function(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key},r.prototype._shiftState=function(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0},r.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},r}(Ms),mo={};mo.A=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},r.prototype.isCode=function(t){return 0<=t&&t<96},r.prototype.getValue=function(t){return t<32?t+64:t-32},r}(Mg);mo.B=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},r.prototype.isCode=function(t){return 32<=t&&t<128},r.prototype.getValue=function(t){return t-32},r}(Mg);mo.C=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{key:"C",MOVE:99,START:105})},r.prototype.addStart=function(){this.encoding.addPattern(this.START)},r.prototype.is=function(t,e){var i=Vl(t,e,4);return(e+4<=t.length||t.length===2)&&Dl.test(i)},r.prototype.move=function(){this.encoding.addPattern(this.MOVE)},r.prototype.pushState=function(t){for(var e=this,i;(i=Vl(t.value,t.index,2))&&Dl.test(i)&&i.length===2;)e.encoding.addPattern(parseInt(i,10)),t.index+=2},r.prototype.getValue=function(t){return t},r}(Ms);mo.FNC4=function(n){function r(o,t){n.call(this,o),this._initSubStates(t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{key:"FNC4",dependentStates:["A","B"]})},r.prototype.addStart=function(t){var e=t.value.charCodeAt(0)-128,i=this._getSubState(e);this.encoding[i].addStart()},r.prototype.is=function(t,e){var i=t.charCodeAt(e);return this.isCode(i)},r.prototype.isCode=function(t){return 128<=t&&t<256},r.prototype.pushState=function(t){var e=this,i=this._initSubState(t),a=this.encoding,s=i.value.length,l;if(t.index+=s,s<3)for(;i.index<s;i.index++)l=i.value.charCodeAt(i.index),i.state=e._getSubState(l),i.previousState!==i.state&&(i.previousState=i.state,a[i.state].move(i)),a.addPattern(a[i.state].MOVE),a.addPattern(a[i.state].getValue(l));else i.state!==i.previousState&&a[i.state].move(i),this._pushStart(i),a.pushData(i,this.subStates),t.index<t.value.length&&this._pushStart(i);t.fnc=!0,t.state=i.state},r.prototype._pushStart=function(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)},r.prototype._initSubState=function(t){var e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e},r.prototype._initSubStates=function(t){var e=this;this.subStates=[];for(var i=0;i<t.length;i++)H(t[i],e.dependentStates)&&e.subStates.push(t[i])},r.prototype._getSubState=function(t){for(var e=this,i=0;i<this.subStates.length;i++)if(e.encoding[e.subStates[i]].isCode(t))return e.subStates[i]},r.prototype._getAll=function(t,e){for(var i,a="",s=e;(i=t.charCodeAt(s++))&&this.isCode(i);)a+=String.fromCharCode(i-128);return a},r}(Ms);mo.FNC1=function(n){function r(o,t){n.call(this,o),this.states=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},r.prototype.addStart=function(){this.encoding[this.startState].addStart()},r.prototype.is=function(){return H(this.key,this.states)},r.prototype.pushState=function(t){var e=this,i=this.encoding,a=t.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),l=t.index,p={state:this.startState},h,c,u;i.addPattern(this.START);for(var v=!0;v;){if(p.index=0,u=a.charAt(l)===e.startAI?2:0,h=u>0?e.getBySeparator(a,l):e.getByLength(a,l),h.ai.length)c=l+u+h.id.length+h.ai.length;else if(c=a.indexOf(e.startAI,l+1),c<0){if(l+h.ai.max+h.id.length+u<a.length)throw new Error("Separators are required after variable length identifiers");c=a.length}if(p.value=a.substring(l,c).replace(s,""),e.validate(h,p.value),i.pushData(p,e.dependentStates),c>=a.length)break;l=c,p.state!==e.startState&&(i[e.startState].move(p),p.state=e.startState),h.ai.length||i.addPattern(e.START)}t.index=t.value.length},r.prototype.validate=function(t,e){var i=e.substr(t.id.length),a=t.ai;if(!a.type&&!Dl.test(i))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if(a.type==="alphanumeric"&&!y0.test(i))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(a.length&&a.length!==i.length)throw new Error("Application identifier "+t.id+" must be "+a.length+" characters long.");if(a.min&&a.min>i.length)throw new Error("Application identifier "+t.id+" must be at least "+a.min+" characters long.");if(a.max&&a.max<i.length)throw new Error("Application identifier "+t.id+" must be at most "+a.max+" characters long.")},r.prototype.getByLength=function(t,e){for(var i=this,a,s,l=2;l<=4;l++)if(a=Vl(t,e,l),s=i.getApplicationIdentifier(a)||i.getApplicationIdentifier(a.substring(0,a.length-1)),s)return{id:a,ai:s};this.unsupportedAIError(a)},r.prototype.unsupportedAIError=function(t){throw new Error("'"+t+"' is not a supported Application Identifier")},r.prototype.getBySeparator=function(t,e){var i=t.indexOf(this.startAI,e),a=t.indexOf(this.endAI,i),s=t.substring(i+1,a),l=this.getApplicationIdentifier(s)||this.getApplicationIdentifier(s.substr(s.length-1));return l||this.unsupportedAIError(s),{ai:l,id:s}},r.prototype.getApplicationIdentifier=function(t){var e=this.applicationIdentifiers,i=e.multiKey;if(e[t])return e[t];for(var a=0;a<i.length;a++){if(i[a].ids&&H(t,i[a].ids))return i[a].type;if(i[a].ranges){for(var s=i[a].ranges,l=0;l<s.length;l++)if(s[l][0]<=t&&t<=s[l][1])return i[a].type}}},r}(Ms);var On=function(n){function r(o){n.call(this,o),this._initStates()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},r.prototype._initStates=function(){for(var t=this,e=0;e<this.states.length;e++)t[t.states[e]]=new mo[t.states[e]](t,t.states)},r.prototype.initValue=function(t,e,i){this.pattern=[],this.value=t,this.width=e,this.height=i,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},r.prototype.addData=function(){var t={value:this.value,index:0,state:""};this.value.length!==0&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},r.prototype.pushData=function(t,e){for(var i=this,a=!0;a&&(i[t.state].pushState(t),!(t.index>=t.value.length));)if(!t.shifted)t.previousState=t.state,t.state=i.getNextState(t,e),i[t.state].move(t);else{var s=t.state;t.state=t.previousState,t.previousState=s,t.shifted=!1}},r.prototype.addStart=function(t){this[t.state].addStart(t),this.position=1},r.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},r.prototype.addStop=function(){this.addPattern(this.STOP)},r.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},r.prototype.addPattern=function(t){for(var e=this,i=this.characterMap[t].toString(),a,s=0;s<i.length;s++)a=parseInt(i.charAt(s),10),e.pattern.push(a),e.totalUnits+=a;this.checkSum+=t*this.position++},r.prototype.getNextState=function(t,e){for(var i=this,a=0;a<e.length;a++)if(i[e[a]].is(t.value,t.index))return e[a];this.invalidCharacterError(t.value.charAt(t.index))},r}(xi),m0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{name:"Code 128 A",states:["A"]})},r}(On),_0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{name:"Code 128 B",states:["B"]})},r}(On),x0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{name:"Code 128 C",states:["C"]})},r}(On),b0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{name:"Code 128",states:["C","B","A","FNC4"]})},r}(On),w0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Oe(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},r}(On);function Vl(n,r,o){return n.substring(r,r+o)}var Rn=Object.assign,Os=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Rn(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:C0})},r.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e},r.prototype.setBaseUnit=function(){var t=7;this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+t)},r.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)t.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},r.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},r.prototype.addPattern=function(t){for(var e=this,i=0;i<t.length;i++)e.pattern.push(parseInt(t.charAt(i),10))},r.prototype.addCheckSum=function(){var t=this,e=this.checkSums[this.checkSumType],i=e.call(this.checkSums,this.value);this.checksum=i.join("");for(var a=0;a<i.length;a++)t.checkSumLength++,t.addPattern(t.characterMap[i[a]])},r}(xi),A0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Rn(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},r}(Os),S0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Rn(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},r}(Os),k0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Rn(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},r}(Os),T0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),Rn(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},r}(Os),C0={Modulo10:function(r){var o=[0,""],t=r.length%2,e,i,a;for(e=0;e<r.length;e++)o[(e+t)%2]+=parseInt(r.charAt(e),10);for(a=o[0],i=(o[1]*2).toString(),e=0;e<i.length;e++)a+=parseInt(i.charAt(e),10);return[(10-a%10)%10]},Modulo11:function(r){for(var o=0,t=11,e=r.length,i,a,s=0;s<e;s++)i=((e-s)%6||6)+1,o+=i*r.charAt(s);return a=(t-o%t)%t,a!==10?[a]:[1,0]},Modulo11Modulo10:function(r){var o=this.Modulo11(r),t;return t=r+o[0],o.concat(this.Modulo10(t))},Modulo10Modulo10:function(r){var o=this.Modulo10(r),t;return t=r+o[0],o.concat(this.Modulo10(t))}},P0=Object.assign,Og=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),P0(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},r.prototype.initValue=function(t,e,i){var a=String(t);if(a.length!==12||/\D/.test(a))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=i,this.baseUnit=e/(95+this.quietZoneLength),this.value=a,this.checksum=this.calculateChecksum(),this.leftKey=a[0],this.leftPart=a.substr(1,6),this.rightPart=a.substr(7)+this.checksum},r.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},r.prototype.addSide=function(t,e){for(var i=this,a=0;a<t.length;a++)e&&parseInt(i.keyTable[e].charAt(a),10)?i.addPieces(Array.prototype.slice.call(i.characterMap.digits[t.charAt(a)]).reverse(),!0):i.addPieces(i.characterMap.digits[t.charAt(a)],!0)},r.prototype.addPieces=function(t,e){for(var i=this,a=0;a<t.length;a++)e?i.pattern.push({y1:0,y2:i.options.height*.95,width:t[a]}):i.pattern.push(t[a])},r.prototype.calculateChecksum=function(){for(var t=0,e=0,i=this.value.split("").reverse().join(""),a=0;a<i.length;a++)a%2?e+=parseInt(i.charAt(a),10):t+=parseInt(i.charAt(a),10);var s=(10-(3*t+e)%10)%10;return s},r}(xi),M0=Object.assign,O0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),M0(this,{name:"EAN 8"})},r.prototype.initValue=function(t,e,i){if(t.length!==7||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=i,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)},r}(Og),He={code11:Sg,code39:_h,code39extended:c0,code93:Pg,code93extended:v0,code128:b0,code128a:m0,code128b:_0,code128c:x0};He["gs1-128"]=w0;He.msimod10=A0;He.msimod11=S0;He.msimod1010=k0;He.msimod1110=T0;He.postnet=g0;He.ean8=O0;He.ean13=Og;function Rg(n,r){var o=n.style.display;r==="canvas"&&(n.style.display="block");var t={width:n.clientWidth,height:n.clientHeight};return n.style.display=o,t}var R0=300,E0=100,L0=function(n){function r(o,t,e){e===void 0&&(e=Df),n.call(this),this.options=_({},this.options,t),this.element=o,this.onError=e,this._initElement(),this._initSurface(),this._setOptions(t),t&&w(t.value)&&this.redraw()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this._destroySurface()},r.prototype._initElement=function(){ft(this.element,"k-barcode")},r.prototype._initSurface=function(){var t=this,e=t.options,i=t.surface;(!i||i.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},r.prototype._createSurface=function(){return to.create(this.surfaceElement,{type:this.options.renderAs})},r.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},r.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},r.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},r.prototype.setOptions=function(t){this._setOptions(t),this._initSurface(),this.redraw()},r.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)},r.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},r.prototype._resize=function(){this.redraw()},r.prototype.createVisual=function(){this.visual=this._render()},r.prototype._render=function(){var t=this.options,e=t.value,i=t.text,a=J(i.margin),s=this._getSize(),l=t.border||{},p=this.encoding,h=new P(0,0,s.width,s.height).unpad(l.width).unpad(t.padding),c=h.height(),u,v,f,d=new Q;this.contentBox=h,d.append(this._getBackground(s)),i.visible&&(f=es(e,{font:i.font}).height,c-=f+a.top+a.bottom);try{u=p.encode(e,h.width(),c)}catch(g){return this.onError(g),d}return i.visible&&(v=e,t.checksum&&w(p.checksum)&&(v+=" "+p.checksum),d.append(this._getText(v))),this.barHeight=c,this._bandsGroup=this._getBands(u.pattern,u.baseUnit),d.append(this._bandsGroup),d},r.prototype.exportVisual=function(){return this._render()},r.prototype._getSize=function(){var t=this.element,e=Rg(t,this.options.renderAs),i=new er(R0,E0);return e.width>0&&(i.width=e.width),e.height>0&&(i.height=e.height),this.options.width&&(i.width=this.options.width),this.options.height&&(i.height=this.options.height),i},r.prototype.value=function(t){if(!w(t))return this.options.value;this.options.value=String(t),this.redraw()},r.prototype._getBands=function(t,e){for(var i=this,a=this.contentBox,s=a.x1,l,p,h=new Q,c=0;c<t.length;c++){if(p=ye(t[c])?t[c]:{width:t[c],y1:0,y2:i.barHeight},l=p.width*e,c%2){var u=X.fromPoints(new T(s,p.y1+a.y1),new T(s+l,p.y2+a.y1)),v=O.fromRect(u,{fill:{color:i.options.color},stroke:null});h.append(v)}s+=l}return h},r.prototype._getBackground=function(t){var e=this.options,i=e.border||{},a=new P(0,0,t.width,t.height).unpad(i.width/2),s=O.fromRect(a.toRect(),{fill:{color:e.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}});return s},r.prototype._getText=function(t){var e=this.options.text,i=this._textbox=new Qt(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return i.reflow(this.contentBox),i.renderVisual(),i.visual},r.prototype._setOptions=function(t){if(this.type=(t.type||this.options.type).toLowerCase(),this.type==="upca"&&(this.type="ean13",t.value="0"+t.value),this.type==="upce"&&(this.type="ean8",t.value="0"+t.value),!He[this.type])throw new Error("Encoding '"+this.type+"' is not supported.");this.encoding=new He[this.type],this.options=_({},this.options,t)},r}(R);S(L0,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var _o=Object.assign;function Eg(n,r){for(var o=[],t=0;t<n.length;)o.push(n.substring(t,t+r)),t+=r;return o}function Yt(n,r){var o=Number(n).toString(2);return o.length<r&&(o=new Array(r-o.length+1).join(0)+o),o}function Za(n){return parseInt(n,2)}var I0=function(n){function r(o){n.call(this),this.matrix=o,this.row=o.length-1,this.column=o.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.move=function(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c},r.prototype.getNextCell=function(){for(var t=this;this.matrix[this.row][this.column]!==void 0;)t.move(),(t.row<0||t.row>=t.matrix.length)&&(t.dir=-t.dir,t.startColumn-=t.startColumn!==8?2:3,t.column=t.startColumn,t.row=t.dir<0?t.matrix.length-1:0);return{row:this.row,column:this.column}},r.prototype.getNextRemainderCell=function(){if(this.move(),this.matrix[this.row][this.column]===void 0)return{row:this.row,column:this.column}},r}(R),Lg=function(n){function r(o,t){n.call(this),this.dataString=o,this.version=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(R),D0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getEncodingResult=function(t,e){var i=mA(t),a=_A(i),s=Dg(a,e),l=xA(i,s);return new Lg(l,s)},r}(R),xh=function(n){function r(){n.call(this),this.initProperties()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){_o(this,{modeIndicator:"",bitsInCharacterCount:[]})},r.prototype.getVersionIndex=function(t){return t<10?0:t>26?2:1},r.prototype.getBitsCharacterCount=function(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]},r.prototype.getModeCountString=function(t,e){return this.modeIndicator+Yt(t,this.getBitsCharacterCount(e))},r.prototype.encode=function(){},r.prototype.getStringBitsLength=function(){},r.prototype.getValue=function(){},r}(R),V0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_o(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})},r.prototype.getValue=function(t){return parseInt(t,10)},r.prototype.encode=function(t,e){var i=this,a=Eg(t,3),s=i.getModeCountString(t.length,e),l;for(l=0;l<a.length-1;l++)s+=Yt(a[l],10);return s+Yt(a[l],1+3*a[l].length)},r.prototype.getStringBitsLength=function(t,e){var i=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*i+(i===0?0:1)},r}(xh),z0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_o(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})},r.prototype.getValue=function(t){return this.characters[t]},r.prototype.encode=function(t,e){var i=this,a=Eg(t,2),s=this.getModeCountString(t.length,e),l,p;for(p=0;p<a.length-1;p++)l=45*i.getValue(a[p].charAt(0))+i.getValue(a[p].charAt(1)),s+=Yt(l,11);return l=a[p].length===2?45*this.getValue(a[p].charAt(0))+this.getValue(a[p].charAt(1)):this.getValue(a[p].charAt(0)),s+Yt(l,1+5*a[p].length)},r.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+6*(t%2)},r}(xh),B0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_o(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})},r.prototype.getValue=function(t){var e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error('Unsupported character in QR Code: "'+t+'".')},r.prototype.encode=function(t,e){for(var i=this,a=i.getModeCountString(t.length,e),s=0;s<t.length;s++)a+=Yt(i.getValue(t.charAt(s)),8);return a},r.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+8*t},r}(xh),F0="numeric",j0="alphanumeric",N0="byte",xo={};xo[F0]=new V0;xo[j0]=new z0;xo[N0]=new B0;var $0="byte",H0=function(n){function r(){n.call(this),this.initProperties(),this.mode=xo[this.encodingMode]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){_o(this,{encodingMode:$0,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})},r.prototype.getEncodingResult=function(t,e){var i=this.encode(t),a=this.getDataCodewordsCount(i),s=Dg(a,e),l=this.mode.getModeCountString(i.length/8,s)+i;return new Lg(l,s)},r.prototype.getDataCodewordsCount=function(t){var e=t.length,i=Math.ceil((this.initialModeCountStringLength+e)/8);return i},r.prototype.encode=function(t){for(var e=this,i=this.utfBOM,a=0;a<t.length;a++)i+=e.encodeCharacter(t.charCodeAt(a));return i},r.prototype.encodeCharacter=function(t){var e=this.getBytesCount(t),i=e-1,a="";if(e===1)a=Yt(t,8);else{for(var s=8-e,l=0;l<i;l++)a=Yt(t>>l*6&63|128,8)+a;a=(t>>i*6|255>>s<<s).toString(2)+a}return a},r.prototype.getBytesCount=function(t){for(var e=this.ranges,i=0;i<e.length;i++)if(t<e[i])return i+1},r}(R),Bo=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],Iu="0000",U0="numeric",Du="alphanumeric",G0="byte",bh={1:0},Ar={0:1},W0={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},al=[1,0,1,1,1],X0=[1,0,1],q0={L:"01",M:"00",Q:"11",H:"10"},Y0="101010000010010",Z0="10100110111",K0="1111100100101",Q0=["11101100","00010001"],J0=93,zl=[function(n,r){return(n+r)%2===0},function(n,r){return n%2===0},function(n,r){return r%3===0},function(n,r){return(n+r)%3===0},function(n,r){return(Math.floor(n/2)+Math.floor(r/3))%2===0},function(n,r){return n*r%2+n*r%3===0},function(n,r){return(n*r%2+n*r%3)%2===0},function(n,r){return((n+r)%2+n*r%3)%2===0}],tA=/^\d+/,Ig="A-Z0-9 $%*+./:-",eA="A-Z $%*+./:-",rA=new RegExp("^["+eA+"]+"),Vu=new RegExp("^["+Ig+"]+"),zu=new RegExp("^[^"+Ig+"]+"),iA=8,oA=5,nA=8,aA=17,sA=9,lA=16,Bl=[[1,0],[1,25,0]];function Ht(n,r,o,t){for(var e=0;e<n.length;e++)n[e][o][t]=r}function Bu(n,r,o,t){for(var e=0;e<zl.length;e++)n[e][o][t]=zl[e](o,t)?r^1:parseInt(r,10)}function pA(n,r){for(var o=new I0(n[0]),t,e,i,a=0;a<r.length;a++)for(t=r[a],e=0;t.length>0;){for(var s=0;s<t.length;s++)for(var l=0;l<8;l++)i=o.getNextCell(),Bu(n,t[s][e].charAt(l),i.row,i.column);for(e++;t[0]&&e===t[0].length;)t.splice(0,1)}for(;i=o.getNextRemainderCell();)Bu(n,0,i.row,i.column)}function hA(n,r){for(var o=r*8,t=0,e=0,i=n;i.length<o&&t<Iu.length;)i+=Iu.charAt(t++);for(i.length%8!==0&&(i+=new Array(9-i.length%8).join("0"));i.length<o;)i+=Q0[e],e^=1;return i}function cA(){var n,r;for(r=1;r<255;r++)n=Ar[r-1]*2,n>255&&(n=n^285),Ar[r]=n,bh[n]=r;n=Ar[r-1]*2^285,Ar[r]=n,Ar[-1]=0}function uA(n,r){for(var o=[],t=n.length-2,e=t;e>=0;e--)o[e]=n[e]^r[e];return o}function vA(n,r){for(var o=[],t=0;t<n.length;t++)for(var e=0;e<r.length;e++)o[t+e]===void 0?o[t+e]=(n[t]+(r[e]>=0?r[e]:0))%255:o[t+e]=bh[Ar[o[t+e]]^Ar[(n[t]+r[e])%255]];return o}function fA(){for(var n=68,r=2;r<=n;r++){var o=Bl[r-1],t=[r,0];Bl[r]=vA(o,t)}}cA();fA();function dA(n,r){var o=[],t=n.length-1;do o[t]=Ar[(n[t]+r)%255],t--;while(n[t]!==void 0);return o}function gA(n,r){var o=Bl[r-1],t=new Array(r).concat(n),e=new Array(t.length-o.length).concat(o),i=n.length,a=[],s,l;for(l=0;l<i;l++)s=dA(e,bh[t[t.length-1]]),e.splice(0,1),t=uA(s,t);for(l=t.length-1;l>=0;l--)a[r-1-l]=Yt(t[l],8);return a}function yA(n,r){for(var o=0,t=[],e=[],i,a=r.groups,s,l,p,h,c=0;c<a.length;c++){l=a[c][0];for(var u=0;u<l;u++){s=a[c][1],i=[],p=[];for(var v=1;v<=s;v++)h=n.substring(o,o+8),i.push(h),p[s-v]=Za(h),o+=8;t.push(i),e.push(gA(p,r.errorCodewordsPerBlock))}}return[t,e]}function Fu(n,r,o,t,e){var i=tA.exec(n),a=i?i[0]:"",s=rA.exec(n),l=s?s[0]:"",p=Vu.exec(n),h=p?p[0]:"",c,u;return a&&(a.length>=r||n.length===a.length||a.length>=o&&!Vu.test(n.charAt(a.length)))?(c=U0,u=a):h&&(n.length===h.length||h.length>=t||e===Du)?(c=Du,u=a||l):(c=G0,h?u=h+zu.exec(n.substring(h.length))[0]:u=zu.exec(n)[0]),{mode:c,modeString:u}}function mA(n){var r=[],o,t=0,e=n;for(r.push(Fu(e,iA,oA,nA,o)),o=r[0].mode,e=e.substr(r[0].modeString.length);e.length>0;){var i=Fu(e,aA,sA,lA,o);i.mode!==o?(o=i.mode,r.push(i),t++):r[t].modeString+=i.modeString,e=e.substr(i.modeString.length)}return r}function _A(n){for(var r=0,o,t=0;t<n.length;t++)o=xo[n[t].mode],r+=o.getStringBitsLength(n[t].modeString.length);return Math.ceil(r/8)}function Dg(n,r){var o=0,t=Bo.length-1,e=Math.floor(Bo.length/2);do n<Bo[e][r].totalDataCodewords?t=e:o=e,e=o+Math.floor((t-o)/2);while(t-o>1);return n<=Bo[o][r].totalDataCodewords?e+1:t+1}function xA(n,r){for(var o="",t,e=0;e<n.length;e++)t=xo[n[e].mode],o+=t.encode(n[e].modeString,r);return o}function bA(n){var r=Za(n),o,t="";if(r===0)return"101010000010010";o=Vg(Za(n),Z0,15);for(var e=0;e<o.length;e++)t+=o.charAt(e)^Y0.charAt(e);return t}function Vg(n,r,o){var t=Za(r),e=r.length-1,i=n<<e,a=o-e,s=Yt(n,a),l=wA(i,t);return l=s+Yt(l,e),l}function wA(n,r){var o=r.toString(2).length,t=n.toString(2).length,e=n;do e^=r<<t-o,t=e.toString(2).length;while(t>=o);return e}function Fo(n,r){return parseInt(n.charAt(r),10)}function AA(n){for(var r=[],o=17+4*n,t=0;t<zl.length;t++){r[t]=new Array(o);for(var e=0;e<o;e++)r[t][e]=new Array(o)}return r}function ju(n,r){var o=n[0],t,e,i=0,a=r.length;for(t=0,e=8;t<=8;t++)t!==6&&Ht(n,Fo(r,a-1-i++),t,e);for(t=8,e=7;e>=0;e--)e!==6&&Ht(n,Fo(r,a-1-i++),t,e);for(i=0,e=o.length-1,t=8;e>=o.length-8;e--)Ht(n,Fo(r,a-1-i++),t,e);for(Ht(n,1,o.length-8,8),t=o.length-7,e=8;t<o.length;t++)Ht(n,Fo(r,a-1-i++),t,e)}function SA(n){return Vg(n,K0,18)}function Nu(n,r){for(var o=n[0],t=o.length,e=0,i=t-11,a=t-11,s=0,l,p,h,c=0;c<r.length;c++)l=Math.floor(c/3),p=c%3,h=Fo(r,r.length-c-1),Ht(n,h,e+l,i+p),Ht(n,h,a+p,s+l)}function la(n,r,o,t){for(var e=r.length+2,i=r.length+1,a,s=0;s<r.length;s++)for(var l=s;l<e-s;l++)a=r[s],Ht(n,a,o+l,t+s),Ht(n,a,o+s,t+l),Ht(n,a,o+i-l,t+i-s),Ht(n,a,o+i-s,t+i-l)}function sl(n,r,o,t){var e=o,i=t,a=n[0];do Ht(n,0,e,t),Ht(n,0,o,i),e+=r[0],i+=r[1];while(e>=0&&e<a.length)}function kA(n){var r=n[0].length;la(n,al,0,0),sl(n,[-1,-1],7,7),la(n,al,r-7,0),sl(n,[1,-1],r-8,7),la(n,al,0,r-7),sl(n,[-1,1],7,r-8)}function TA(n,r){if(!(r<2)){var o=n[0],t=o.length,e=Math.floor(r/7),i=[6],a,s,l=0;for((a=W0[r])?s=(t-13-a)/e:a=s=(t-13)/(e+1),i.push(i[l++]+a);i[l]+s<t;)i.push(i[l++]+s);for(var p=0;p<i.length;p++)for(var h=0;h<i.length;h++)o[i[p]][i[h]]===void 0&&la(n,X0,i[p]-2,i[h]-2)}}function CA(n){for(var r=6,o=6,t=1,e=n[0].length,i=8;i<e-8;i++)Ht(n,t,r,i),Ht(n,t,i,o),t^=1}function PA(n){var r=[],o=[],t=[],e=[],i=[],a,s,l=0,p=1,h=n[0].length;for(s=0;s<n.length;s++)r[s]=0,t[s]=0,i[s]=[0,0],e[s]=[0,0],o[s]=[];for(var c=0;c<h;c++)for(var u=0;u<h;u++)for(var v=0;v<n.length;v++)a=n[v],t[v]+=parseInt(a[c][u],10),o[v][l]===a[c][u]&&c+1<h&&u-1>=0&&a[c+1][u]===o[v][l]&&a[c+1][u-1]===o[v][l]&&(r[v]+=3),$u(v,e,r,l,a[c][u]),$u(v,e,r,p,a[u][c]),Hu(v,r,o,a[c][u],i,l),Hu(v,r,o,a[u][c],i,p);var f=h*h,d,g=Number.MAX_VALUE;for(s=0;s<r.length;s++)r[s]+=MA(t[s],f),r[s]<g&&(g=r[s],d=s);return d}function $u(n,r,o,t,e){r[n][t]=(r[n][t]<<1^e)%128,r[n][t]===J0&&(o[n]+=40)}function Hu(n,r,o,t,e,i){o[n][i]===t?e[n][i]++:(o[n][i]=t,e[n][i]>=5&&(r[n]+=3+e[n][i]-5),e[n][i]=1)}function MA(n,r){var o=Math.floor(n/r*100),t=o%5,e=Math.abs(o-t-50),i=Math.abs(o+5-t-50),a=10*Math.min(e/5,i/5);return a}function OA(n){return n&&n.toLowerCase().indexOf("utf_8")>=0?new H0:new D0}function RA(n,r,o){var t=OA(o),e=t.getEncodingResult(n,r),i=e.version,a=Bo[i-1][r],s=hA(e.dataString,a.totalDataCodewords),l=yA(s,a),p=AA(i);kA(p),TA(p,i),CA(p),i>=7&&Nu(p,Yt(0,18)),ju(p,Yt(0,15)),pA(p,l);var h=PA(p),c=p[h];i>=7&&Nu([c],SA(i));var u=q0[r]+Yt(h,3);return ju([c],bA(u)),c}var Oo=Math.round,EA=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],Uu=[[0,1],[1,1],[1,0]],Ze={DEFAULT_SIZE:200,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1,DEFAULT_LOGO_SIZE:7},LA=function(n){function r(o,t,e){e===void 0&&(e=Df),n.call(this),this.options=_({},this.options,t),this.element=o,this.wrapper=this.element,this.onError=e,this._initElement(),this._initSurface(),this.setOptions(t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this._destroySurface()},r.prototype._initElement=function(){ft(this.element,"k-qrcode")},r.prototype._initSurface=function(){var t=this,e=t.options,i=t.surface;(!i||i.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},r.prototype._createSurface=function(){return to.create(this.surfaceElement,{type:this.options.renderAs})},r.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},r.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},r.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},r.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)},r.prototype.getSize=function(){var t=this.element,e=t.clientWidth,i=t.clientHeight,a={width:0,height:0};return e>0&&(a.width=e),i&&(a.height=i),a},r.prototype._resize=function(){this.redraw()},r.prototype.createVisual=function(){this.visual=this._render()},r.prototype.exportVisual=function(){return this._render()},r.prototype._render=function(){var t=this._value,e,i=this.options.border||{},a=this.options.padding||0,s=i.width||0,l,p,h,c,u;i.width=s;var v=new Q;try{t&&(p=RA(t,this.options.errorCorrection,this.options.encoding),h=this._getSize(),u=h-2*(s+a),e=this._calculateBaseUnit(u,p.length),c=p.length*e,l=s+a+(u-c)/2,v.append(this._renderBackground(h,i)),v.append(this._renderMatrix(p,e,l)),this._hasCustomLogo()?v.append(this._renderLogo(h,e)):this._isSwiss()&&v.append(this._renderSwissCode(h,e)))}catch(f){this.onError(f)}return v},r.prototype._renderLogo=function(t,e){var i,a,s=Oo(t/2),l=this._getLogoSize(e*Ze.DEFAULT_LOGO_SIZE),p=this.options.overlay.imageUrl,h={x:s-l.width/2,y:s-l.height/2};return a=new X(new T(h.x,h.y),new er(l.width,l.height)),i=new mm(p,a),i},r.prototype._renderSwissCode=function(t,e){var i=this._getLogoSize(e*Ze.DEFAULT_LOGO_SIZE);i=Math.max(i.width,i.height);var a=i/4,s=a/2,l=t/2,p={},h=new Q;return p.x=p.y=Math.ceil(l-e-i/2),h.append(this._renderShape(p,Math.ceil(i+e*2),Uu,"#fff")),p.x=p.y=l-i/2,h.append(this._renderShape(p,i,Uu,this.options.color)),p.x=l+s-i/2,p.y=l+s+a-i/2,h.append(this._renderShape(p,a,EA,"#fff")),h},r.prototype._renderShape=function(t,e,i,a){var s=new Be({fill:{color:a},stroke:null});s.moveTo(t.x,t.y);for(var l=0;l<i.length;l++)s.lineTo(t.x+e*i[l][0],t.y+e*i[l][1]);return s.close(),s},r.prototype._getSize=function(){var t;if(this.options.size)t=parseInt(this.options.size,10);else{var e=this.element,i=Rg(e,this.options.renderAs),a=Math.min(i.width,i.height);a>0?t=a:t=Ze.DEFAULT_SIZE}return t},r.prototype._calculateBaseUnit=function(t,e){var i=Math.floor(t/e);if(i<Ze.MIN_BASE_UNIT_SIZE){var a=Math.ceil(e*Ze.MIN_BASE_UNIT_SIZE);this.onError(new Error("Insufficient size for QR Code: the current size is "+t+"px and the minimum size is "+a+"px."))}else i*e>=t&&i-1>=Ze.MIN_BASE_UNIT_SIZE&&i--;return i},r.prototype._renderMatrix=function(t,e,i){for(var a=new Be({fill:{color:this.options.color},stroke:null}),s=0;s<t.length;s++)for(var l=i+s*e,p=0;p<t.length;){for(;t[s][p]===0&&p<t.length;)p++;if(p<t.length){for(var h=p;t[s][p]===1;)p++;var c=Oo(i+h*e),u=Oo(l),v=Oo(i+p*e),f=Oo(l+e);a.moveTo(c,u).lineTo(c,f).lineTo(v,f).lineTo(v,u).close()}}return a},r.prototype._renderBackground=function(t,e){var i=new P(0,0,t,t).unpad(e.width/2),a=O.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}});return a},r.prototype.setOptions=function(t){var e=t||{};this.options=_o(this.options,e),t.value!==void 0&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()},r.prototype.value=function(t){if(t===void 0)return this._value;this._value=String(t),this.redraw()},r.prototype._hasCustomLogo=function(){return!!this.options.overlay.imageUrl},r.prototype._isSwiss=function(){return this.options.overlay.type==="swiss"},r.prototype._getLogoSize=function(t){var e=this.options.overlay.width,i=this.options.overlay.height;return!e&&!i?e=i=t:e&&!i?i=e:!e&&i&&(e=i),{width:e,height:i}},r}(R);S(LA,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:Ze.DEFAULT_ERROR_CORRECTION_LEVEL,background:Ze.DEFAULT_BACKGROUND,color:Ze.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var IA={a:6378137,b:6356752314245179e-9,f:.0033528106647474805,e:.08181919084262149},Fl={WGS84:IA};function Le(n){return n*n}var zr=Math,DA=zr.abs,Gu=zr.atan,Zn=zr.atan2,xr=zr.cos,Xe=zr.sin,Wu=zr.tan,At=function(n){function r(o,t){n.call(this),this.initProperties(),arguments.length===1?(this.lat=o[0],this.lng=o[1]):(this.lat=o,this.lng=t)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){_(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})},r.prototype.toArray=function(){return[this.lat,this.lng]},r.prototype.equals=function(t){return t&&t.lat===this.lat&&t.lng===this.lng},r.prototype.clone=function(){return new r(this.lat,this.lng)},r.prototype.round=function(t){return this.lng=M(this.lng,t),this.lat=M(this.lat,t),this},r.prototype.wrap=function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},r.prototype.distanceTo=function(t,e){return this.greatCircleTo(t,e).distance},r.prototype.destination=function(t,e,i){var a=bt(e),s=i||Fl.WGS84,l=bt(this.lat),p=bt(this.lng),h=t/s.a,c=zr.asin(Xe(l)*xr(h)+xr(l)*Xe(h)*xr(a)),u=p+Zn(Xe(a)*Xe(h)*xr(l),xr(h)-Xe(l)*Xe(c));return new r(kr(c),kr(u))},r.prototype.greatCircleTo=function(t,e){var i=this,a=r.create(a),s=e||Fl.WGS84;if(!a||this.clone().round(8).equals(a.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var l=s.a,p=s.b,h=s.f,c=bt(a.lng-this.lng),u=Gu((1-h)*Wu(bt(this.lat))),v=Xe(u),f=xr(u),d=Gu((1-h)*Wu(bt(a.lat))),g=Xe(d),y=xr(d),m=c,x,b=this.DISTANCE_ITERATIONS,A=!1,k,C,I,$,B,D,K;!A&&b-- >0;){k=Xe(m),C=xr(m),I=zr.sqrt(Le(y*k)+Le(f*g-v*y*C)),B=v*g+f*y*C,K=Zn(I,B);var pt=f*y*k/I;$=1-Le(pt),D=0,$!==0&&(D=B-2*v*g/$),x=m;var gt=h/16*$*(4+h*(4-3*$));m=c+(1-gt)*h*pt*(K+gt*I*(D+gt*B*(-1+2*Le(D)))),A=DA(m-x)<=i.DISTANCE_CONVERGENCE}var ht=$*(Le(l)-Le(p))/Le(p),St=1+ht/16384*(4096+ht*(-768+ht*(320-175*ht))),se=ht/1024*(256+ht*(-128+ht*(74-47*ht))),mr=se*I*(D+se/4*(B*(-1+2*Le(D))-se/6*D*(-3+4*Le(I))*(-3+4*Le(D)))),Ao=Zn(y*k,f*g-v*y*C),qr=Zn(f*k,-v*y+f*g*C);return{distance:M(p*St*(K-mr),this.DISTANCE_PRECISION),azimuthFrom:kr(Ao),azimuthTo:kr(qr)}},r.prototype.toString=function(){return String(this.lat)+","+String(this.lng)},r.fromLngLat=function(t){return new r(t[1],t[0])},r.fromLatLng=function(t){return new r(t[0],t[1])},r.create=function(t,e){if(w(t))return t instanceof r?t.clone():arguments.length===1&&t.length===2?r.fromLatLng(t):new r(t,e)},r}(R),Xr=Math,jl=Xr.atan,zg=Xr.exp,Xu=Xr.pow,qu=Xr.sin,Bg=Xr.log,Fg=Xr.tan,jg=T,Rs=Xr.PI,Nl=Rs/2,Ng=Rs/4,VA=Rs/180,zA=Fl.WGS84,wh=function(n){function r(o){n.call(this),this.initProperties(),this._initOptions(o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype.initProperties=function(){_(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})},r.prototype.forward=function(t,e){var i=this,a=i.options,s=a.datum,l=s.a,p=a.centralMeridian,h=V(t.lat,-i.MAX_LAT,i.MAX_LAT),c=e?V(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,u=bt(c-p)*l,v=i._projectLat(h);return new jg(u,v)},r.prototype._projectLat=function(t){var e=this.options.datum,i=e.e,a=e.a,s=bt(t),l=Fg(Ng+s/2),p=i*qu(s),h=Xu((1-p)/(1+p),i/2);return a*Bg(l*h)},r.prototype.inverse=function(t,e){var i=this,a=i.options,s=a.datum,l=s.a,p=a.centralMeridian,h=t.x/(VA*l)+p,c=V(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(h=V(h,-i.MAX_LNG,i.MAX_LNG)),new At(c,h)},r.prototype._inverseY=function(t){var e=this,i=e.options.datum,a=i.a,s=i.e,l=s/2,p=zg(-t/a),h=Nl-2*jl(p),c;for(c=0;c<=e.INVERSE_ITERATIONS;c++){var u=s*qu(h),v=Xu((1-u)/(1+u),l),f=Nl-2*jl(p*v)-h;if(h+=f,Xr.abs(f)<=e.INVERSE_CONVERGENCE)break}return kr(h)},r}(R);S(wh,{centralMeridian:0,datum:zA});var BA=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.initProperties=function(){n.prototype.initProperties.call(this),_(this,{MAX_LAT:85.0511287798})},r.prototype._projectLat=function(t){var e=this.options.datum.a,i=bt(t),a=Fg(Ng+i/2);return e*Bg(a)},r.prototype._inverseY=function(t){var e=this.options.datum.a,i=zg(-t/e);return kr(Nl-2*jl(i))},r}(wh),FA=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.forward=function(t){return new jg(t.lng,t.lat)},r.prototype.inverse=function(t){return new At(t.y,t.x)},r}(R),jA=function(n){function r(){n.call(this);var o=this,t=o._proj=new BA,e=this.c=2*Rs*t.options.datum.a;this._tm=at().translate(.5,.5).scale(1/e,-1/e),this._itm=at().scale(e,-e).translate(-.5,-.5)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toPoint=function(t,e,i){var a=this._proj.forward(t,i);return a.transform(this._tm).scale(e||1)},r.prototype.toLocation=function(t,e,i){var a=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(a,i)},r}(R);(function(n){function r(){n.call(this),this._proj=new wh}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toPoint=function(t){return this._proj.forward(t)},r.prototype.toLocation=function(t){return this._proj.inverse(t)},r})(R);(function(n){function r(){n.call(this),this._proj=new FA}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.toPoint=function(t){return this._proj.forward(t)},r.prototype.toLocation=function(t){return this._proj.inverse(t)},r})(R);var xt=function(n,r){return n.bind(r)},pi=function(n){var r=document.createElement("div");return r.innerHTML=n,r.firstChild},NA=function(n,r){var o=document.createElement("div");for(o.innerHTML=n;o.childNodes.length>0;)r.appendChild(o.childNodes[0])},on=function(n){for(;n.firstChild;)n.removeChild(n.firstChild)},Yu=function(n,r){r.insertBefore(n,r.firstChild)},$A=function(n,r){for(n.appendChild(r);n.firstChild!==r;)r.appendChild(n.firstChild)},$g=function(n){var r=n.replace(/([a-z][A-Z])/g,function(o){return o.charAt(0)+"-"+o.charAt(1).toLowerCase()});return r},Zu=function(n){var r;return n&&String(n).endsWith("px")?r=n:r=String(n)+"px",r},HA=function(n){var r=cn(),o=r.mobileOS;return o.ios||o.android},Es=function(n,r){var o=n.prototype;o.events?r.forEach(function(t){o.events.indexOf(t)<0&&o.events.push(t)}):o.events=r},UA=function(n){var r=n.wheelDeltaY,o;return n.wheelDelta?(r===void 0||r)&&(o=n.wheelDelta):n.detail&&n.axis===n.VERTICAL_AXIS&&(o=-n.detail*10),o},Ku=function(n){var r=[];if(n)for(var o=$g(n).split("-"),t=0;t<o.length;t++)r.push("k-pos-"+o[t]);return r.join(" ")},Hg=function(n){function r(o,t){n.call(this),this.element=o,this._initOptions(t),this.items=[],ft(this.element,"k-widget k-attribution")}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype.filter=function(t,e){this._extent=t,this._zoom=e,this._render()},r.prototype.add=function(t){var e=t;w(t)&&(typeof t=="string"&&(e={text:t}),this.items.push(e),this._render())},r.prototype.remove=function(t){for(var e=this,i=[],a=0;a<this.items.length;a++){var s=e.items[a];s.text!==t&&i.push(s)}this.items=i,this._render()},r.prototype.clear=function(){this.items=[],on(this.element)},r.prototype._render=function(){for(var t=this,e=[],i=0;i<this.items.length;i++){var a=t.items[i],s=t._itemText(a);s!==""&&e.push(s)}if(e.length>0){on(this.element);var l=e.join(this.options.separator);NA(l,this.element),this.showElement()}else this.hideElement()},r.prototype.hideElement=function(){this.element.style.display="none"},r.prototype.showElement=function(){this.element.style.display=""},r.prototype._itemText=function(t){var e="",i=this._inZoomLevel(t.minZoom,t.maxZoom),a=this._inArea(t.extent);return i&&a&&(e+=t.text),e},r.prototype._inZoomLevel=function(t,e){var i=!0,a=j(t,-Number.MAX_VALUE),s=j(e,Number.MAX_VALUE);return i=this._zoom>a&&this._zoom<s,i},r.prototype._inArea=function(t){var e=!0;return t&&(e=t.contains(this._extent)),e},r}(xe);S(Hg,{name:"Attribution",separator:"&nbsp;|&nbsp;"});var Ug="pan",GA={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function Kn(n,r){var o='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+GA[n].className+'" aria-label="move '+n+'">'+Ei({icon:"caret-alt-"+n,iconClass:"k-button-icon",svgIcons:r.svgIcons,type:r.type})+"</button>";return pi(o)}var Ah=function(n){function r(o,t){n.call(this),this.element=o,this._initOptions(t);var e=Kn("up",t.icons),i=Kn("right",t.icons),a=Kn("down",t.icons),s=Kn("left",t.icons);this.element.appendChild(e),this.element.appendChild(i),this.element.appendChild(a),this.element.appendChild(s),ft(this.element,"k-widget k-navigator"),Wt(this.element,"click",".k-button",xt(this._click,this));var l=this.element.parentNode.closest("[data-role]");this._keyroot=l||this.element,this._tabindex(this._keyroot),this._keydownHandler=xt(this._keydown,this),Wt(this._keyroot,"keydown",this._keydownHandler)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.dispose()},r.prototype.dispose=function(){te(this._keyroot,"keydown",this._keydownHandler)},r.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,i=this.element,a="tabindex",s=e.getAttribute(a)||i.getAttribute(a);i.removeAttribute(a),e.setAttribute(a,isNaN(s)?0:s)},r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype._pan=function(t,e){var i=this.options.panStep;this.trigger(Ug,{x:t*i,y:e*i})},r.prototype._click=function(t){var e=0,i=0,a=t.currentTarget;a.matches(".k-navigator-n")?i=1:a.matches(".k-navigator-s")?i=-1:a.matches(".k-navigator-e")?e=1:a.matches(".k-navigator-w")&&(e=-1),this._pan(e,i),t.preventDefault()},r.prototype._keydown=function(t){switch(t.which){case Li.UP:this._pan(0,1),t.preventDefault();break;case Li.DOWN:this._pan(0,-1),t.preventDefault();break;case Li.RIGHT:this._pan(1,0),t.preventDefault();break;case Li.LEFT:this._pan(-1,0),t.preventDefault();break}},r}(xe);S(Ah,{name:"Navigator",panStep:1});Es(Ah,[Ug]);function Qu(n,r,o){var t='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+n+'" title="zoom-'+n+'" aria-label="zoom-'+n+'">'+Ei({icon:r,iconClass:"k-button-icon",svgIcons:o.svgIcons,type:o.type})+"</button>";return pi(t)}var WA=187,XA=189,qA=61,YA=173,Gg="change",Sh=function(n){function r(o,t,e){n.call(this),this.element=o,this._initOptions(t);var i=Qu("in","plus",e),a=Qu("out","minus",e);this.element.appendChild(i),this.element.appendChild(a),this.element.setAttribute("role","group"),ft(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),Wt(this.element,"click",".k-button",this._clickHandler);var s=this.element.parentNode.closest("[data-role]");this._keyroot=s||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),Wt(this._keyroot,"keydown",this._keydownHandler)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.element&&te(this.element,"click",this._clickHandler),this._keyroot&&te(this._keyroot,"keydown",this._keydownHandler)},r.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,i=this.element,a="tabindex",s=e.getAttribute(a)||i.getAttribute(a);i.removeAttribute(a),e.setAttribute(a,isNaN(s)?0:s)},r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype._change=function(t){var e=this.options.zoomStep;this.trigger(Gg,{delta:t*e})},r.prototype._click=function(t){var e=t.currentTarget,i=1;qo(e,"k-zoom-out")&&(i=-1),this._change(i),t.preventDefault()},r.prototype._keydown=function(t){switch(t.which){case Li.NUMPAD_PLUS:case WA:case qA:this._change(1);break;case Li.NUMPAD_MINUS:case XA:case YA:this._change(-1);break}},r}(xe);S(Sh,{name:"ZoomControl",zoomStep:1});Es(Sh,[Gg]);var Wg=Math,Ju=Wg.max,tv=Wg.min,pa=function(n){function r(t,e){n.call(this);var i=At.create(t),a=At.create(e);i.lng+180>a.lng+180&&i.lat+90<a.lat+90?(this.se=i,this.nw=a):(this.se=a,this.nw=i)}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={World:{configurable:!0}};return r.prototype.contains=function(e){var i=this.nw,a=this.se,s=j(e.lng,e[1]),l=j(e.lat,e[0]);return e&&s+180>=i.lng+180&&s+180<=a.lng+180&&l+90>=a.lat+90&&l+90<=i.lat+90},r.prototype.center=function(){var e=this.nw,i=this.se,a=e.lng+(i.lng-e.lng)/2,s=e.lat+(i.lat-e.lat)/2;return new At(s,a)},r.prototype.containsAny=function(e){for(var i=this,a=!1,s=0;s<e.length;s++)a=a||i.contains(e[s]);return a},r.prototype.include=function(e){var i=this.nw,a=this.se,s=j(e.lng,e[1]),l=j(e.lat,e[0]);i.lng=tv(i.lng,s),i.lat=Ju(i.lat,l),a.lng=Ju(a.lng,s),a.lat=tv(a.lat,l)},r.prototype.includeAll=function(e){for(var i=this,a=0;a<e.length;a++)i.include(e[a])},r.prototype.edges=function(){var e=this.nw,i=this.se;return{nw:this.nw,ne:new At(e.lat,i.lng),se:this.se,sw:new At(i.lat,e.lng)}},r.prototype.toArray=function(){var e=this.nw,i=this.se;return[e,new At(e.lat,i.lng),i,new At(i.lat,e.lng)]},r.prototype.overlaps=function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())},r.create=function(e,i){if(e instanceof r)return e;if(e&&i)return new r(e,i);if(e&&e.length===4&&!i)return new r([e[0],e[1]],[e[2],e[3]])},o.World.get=function(){return new r([90,-180],[-90,180])},Object.defineProperties(r,o),r}(R),ZA="showTooltip",KA="hideTooltip",ev="centerChange",QA="zoomChange",JA="init",Xg=function(n){function r(t,e){n.call(this),this.widgetService=t,this.options=_({},this.options,e),this.offset={x:0,y:0}}n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r;var o={anchor:{configurable:!0}};return r.prototype.show=function(e,i){this.location!==i.location&&(this.anchor=e,this.location=i.location,this.widgetService.notify(ZA,Object.assign({anchor:this.anchor},i)),this.visible=!0)},r.prototype.hide=function(){this.widgetService&&this.widgetService.notify(KA),this.visible=!1,this.location=null},o.anchor.get=function(){return this._anchor},o.anchor.set=function(t){var e=this.widgetService.widget._toDocumentCoordinates({x:t.left-this.offset.x,y:t.top-this.offset.y});this._anchor={left:e.left,top:e.top}},r.prototype.destroy=function(){this.widgetService=null},Object.defineProperties(r.prototype,o),r}(R);S(Xg,{border:{width:1},opacity:1});var kh=function(n){function r(o,t){n.call(this),this.support=cn(),this._initOptions(t),this.map=o;var e=document.createElement("div");ft(e,"k-layer"),e.style.zIndex=this.options.zIndex,e.style.opacity=this.options.opacity,this.element=e,o.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this._deactivate()},r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype.show=function(){this.reset(),this._activate(),this._applyExtent(!0)},r.prototype.hide=function(){this._deactivate(),this._setVisibility(!1)},r.prototype.reset=function(){this._beforeReset(),this._reset()},r.prototype._reset=function(){this._applyExtent()},r.prototype._beforeReset=function(){},r.prototype._resize=function(){},r.prototype._panEnd=function(){this._applyExtent()},r.prototype._applyExtent=function(){var t=this.options,e=this.map.zoom(),i=!w(t.minZoom)||e>=t.minZoom,a=!w(t.maxZoom)||e<=t.maxZoom,s=pa.create(t.extent),l=!s||s.overlaps(this.map.extent());this._setVisibility(i&&a&&l)},r.prototype._setVisibility=function(t){this.element.style.display=t?"":"none"},r.prototype._activate=function(){var t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)},r.prototype._deactivate=function(){var t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)},r.prototype._updateAttribution=function(){var t=this.map.attribution;t&&t.add(this.options.attribution)},r.prototype._readData=function(){var t=this.options.data||[];return t},r.prototype._hasData=function(){return this._data&&this._data.length>0},r.prototype._layerIndex=function(){var t=this.map.layers||[];return t.indexOf(this)},r}(R),br=Math,$l=T;function rv(n){return lt(n)?n:eo.compile(n)}function tS(n){return new $l(M(n.x),M(n.y))}function iv(n){var r=n;return typeof n!="string"&&(r+="px"),r}var qg=function(n){function r(o,t){n.call(this,o,t),typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""));var e=this._viewType();this._view=new e(this.element,this.options)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){n.prototype.destroy.call(this),this._view.destroy(),this._view=null},r.prototype._beforeReset=function(){var t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)},r.prototype._reset=function(){n.prototype._reset.call(this),this._updateView(),this._view.reset()},r.prototype._viewType=function(){return eS},r.prototype._activate=function(){n.prototype._activate.call(this),this.support.mobileOS||(this._pan||(this._pan=Ka(this._render.bind(this),100)),this.map.bind("pan",this._pan))},r.prototype._deactivate=function(){n.prototype._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},r.prototype._updateView=function(){var t=this._view,e=this.map,i=e.extent(),a={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(a),t.zoom(e.zoom())},r.prototype._resize=function(){this._render()},r.prototype._panEnd=function(t){n.prototype._panEnd.call(this,t),this._render()},r.prototype._render=function(){this._updateView(),this._view.render()},r}(kh);S(qg,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var eS=function(n){function r(o,t){n.call(this),this.element=o,this._initOptions(t),this.pool=new Zg}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype.center=function(t){this._center=t},r.prototype.extent=function(t){this._extent=t},r.prototype.viewOrigin=function(t){this._viewOrigin=t},r.prototype.zoom=function(t){this._zoom=t},r.prototype.pointToTileIndex=function(t){return new $l(br.floor(t.x/this.options.tileSize),br.floor(t.y/this.options.tileSize))},r.prototype.tileCount=function(){var t=this.size(),e=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,a=this.indexToPoint(e).translate(-i.x,-i.y);return{x:br.ceil((br.abs(a.x)+t.width)/this.options.tileSize),y:br.ceil((br.abs(a.y)+t.height)/this.options.tileSize)}},r.prototype.size=function(){var t=this._extent.nw,e=this._extent.se,i=e.clone().translate(-t.x,-t.y);return{width:i.x,height:i.y}},r.prototype.indexToPoint=function(t){var e=t.x,i=t.y;return new $l(e*this.options.tileSize,i*this.options.tileSize)},r.prototype.subdomainText=function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},r.prototype.destroy=function(){on(this.element),this.pool.empty()},r.prototype.reset=function(){this.pool.reset(),this.subdomainIndex=0,this.render()},r.prototype.render=function(){var t=this,e=this.tileCount(),i=this.pointToTileIndex(this._extent.nw),a,s,l;for(s=0;s<e.x;s++)for(l=0;l<e.y;l++)a=t.createTile({x:i.x+s,y:i.y+l}),a.visible||a.show()},r.prototype.createTile=function(t){var e=this.tileOptions(t),i=this.pool.get(this._center,e);return i.element.parentNode||this.element.append(i.element),i},r.prototype.tileOptions=function(t){var e=this.wrapIndex(t),i=this.indexToPoint(t),a=this._viewOrigin,s=i.clone().translate(-a.x,-a.y);return{index:e,currentIndex:t,point:i,offset:tS(s),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},r.prototype.wrapIndex=function(t){var e=br.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:V(t.y,0,e-1)}},r.prototype.wrapValue=function(t,e){var i=br.abs(t)%e,a=t;return t>=0?a=i:a=e-(i===0?e:i),a},r}(R),Yg=function(n){function r(o,t){n.call(this),this.id=o,this.visible=!0,this._initOptions(t),this.createElement(),this.show()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){var t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)},r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype.createElement=function(){var t=document.createElement("img"),e=this.options.size+"px";t.setAttribute("alt",""),t.style.position="absolute",t.style.display="block",t.style.width=t.style.maxWidth=e,t.style.height=t.style.maxHeight=e,this.element=t},r.prototype.show=function(){var t=this.element;t.style.top=iv(this.options.offset.y),t.style.left=iv(this.options.offset.x);var e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0},r.prototype.hide=function(){this.element.style.visibility="hidden",this.visible=!1},r.prototype.url=function(){var t=rv(this.options.urlTemplate);return t(this.urlOptions())},r.prototype.errorUrl=function(){var t=rv(this.options.errorUrlTemplate);return t(this.urlOptions())},r.prototype.urlOptions=function(){var t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}},r}(R);S(Yg,{urlTemplate:"",errorUrlTemplate:""});var Zg=function(n){function r(){n.call(this),this._items=[]}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.get=function(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)},r.prototype.empty=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].destroy();this._items=[]},r.prototype.reset=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].hide()},r.prototype._create=function(t){for(var e=this._items,i,a=ex(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate),s=0;s<e.length;s++)if(e[s].id===a){i=e[s];break}return i?i.show():(i=new Yg(a,t),this._items.push(i)),i},r.prototype._remove=function(t){for(var e=this._items,i=-1,a=-1,s=0;s<e.length;s++){var l=e[s].options.point.distanceTo(t);l>i&&!e[s].visible&&(a=s,i=l)}a!==-1&&(e[a].destroy(),e.splice(a,1))},r}(R);S(Zg,{maxSize:100});var hi=Object.assign,nn="change",rS=function(n){function r(o,t){n.call(this);var e=this,i=o[0]||o;e.capture=!1,i.addEventListener?(Ii.down.split(" ").forEach(function(a){i.addEventListener(a,xt(e._press,e),!0)}),Ii.up.split(" ").forEach(function(a){i.addEventListener(a,xt(e._release,e),!0)})):(Ii.down.split(" ").forEach(function(a){i.attachEvent(a,xt(e._press,e))}),Ii.up.split(" ").forEach(function(a){i.attachEvent(a,xt(e._release,e))})),e.bind(["press","release"],t||{})}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.captureNext=function(){this.capture=!0},r.prototype.cancelCapture=function(){this.capture=!1},r.prototype._press=function(t){var e=this;e.trigger("press"),e.capture&&t.preventDefault()},r.prototype._release=function(t){var e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())},r}(xe),ov=function(n){function r(o){n.call(this);var t=this;t.forcedEnabled=!1,hi(t,o),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.makeVirtual=function(){hi(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},r.prototype.virtualSize=function(t,e){(this._virtualMin!==t||this._virtualMax!==e)&&(this._virtualMin=t,this._virtualMax=e,this.update())},r.prototype.outOfBounds=function(t){return t>this.max||t<this.min},r.prototype.forceEnabled=function(){this.forcedEnabled=!0},r.prototype.getSize=function(){return this.container[this.measure]},r.prototype.getTotal=function(){return this.element[this.scrollSize]},r.prototype.rescale=function(t){this.scale=t},r.prototype.update=function(t){var e=this,i=e.virtual?e._virtualMax:e.getTotal(),a=i*e.scale,s=e.getSize();i===0&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=s,e.total=a,e.min=Math.min(e.max,s-a),e.minScale=s/i,e.centerOffset=(a-s)/2,e.enabled=e.forcedEnabled||a>s,t||e.trigger(nn,e))},r}(xe),iS=function(n){function r(o){n.call(this);var t=this;t.x=new ov(hi({horizontal:!0},o)),t.y=new ov(hi({horizontal:!1},o)),t.container=o.container,t.forcedMinScale=o.minScale,t.maxScale=o.maxScale||100,t.bind(nn,o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.rescale=function(t){this.x.rescale(t),this.y.rescale(t),this.refresh()},r.prototype.centerCoordinates=function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},r.prototype.refresh=function(){var t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(nn)},r}(xe),nv=function(n){function r(o){n.call(this),hi(this,o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.outOfBounds=function(){return this.dimension.outOfBounds(this.movable[this.axis])},r.prototype.dragMove=function(t){var e=this,i=e.dimension,a=e.axis,s=e.movable,l=s[a]+t;if(i.enabled){var p=t;(l<i.min&&t<0||l>i.max&&t>0)&&(p*=e.resistance),s.translateAxis(a,p),e.trigger(nn,e)}},r}(xe),oS=function(n){function r(o){n.call(this);var t=this,e,i,a,s;hi(t,{elastic:!0},o),a=t.elastic?.5:0,s=t.movable,t.x=e=new nv({axis:"x",dimension:t.dimensions.x,resistance:a,movable:s}),t.y=i=new nv({axis:"y",dimension:t.dimensions.y,resistance:a,movable:s}),t.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(p){t.gesture=p,t.offset=ji(t.dimensions.container)},press:function(p){var h=p.event.target.closest("a");h&&h.matches("[data-navigate-on-press=true]")&&p.sender.cancel()},gesturechange:function(p){var h=t.gesture,c=h.center,u=p.center,v=p.distance/h.distance,f=t.dimensions.minScale,d=t.dimensions.maxScale,g;s.scale<=f&&v<1&&(v+=(1-v)*.8),s.scale*v>=d&&(v=d/s.scale);var y=s.x+t.offset.left,m=s.y+t.offset.top;g={x:(y-c.x)*v+u.x-y,y:(m-c.y)*v+u.y-m},s.scaleWith(v),e.dragMove(g.x),i.dragMove(g.y),t.dimensions.rescale(s.scale),t.gesture=p,p.preventDefault()},move:function(p){p.event.target.tagName.match(/textarea|input/i)||(e.dimension.enabled||i.dimension.enabled?(e.dragMove(p.x.delta),i.dragMove(p.y.delta),p.preventDefault()):p.touch.skip())},end:function(p){p.preventDefault()}})}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r}(R),av=function(n,r,o){return"translate3d("+n+"px,"+r+"px,0) scale("+o+")"},Th=function(n){function r(o){n.call(this);var t=this;t.element=o,t.element.style.transformOrigin="left top",t.x=0,t.y=0,t.scale=1;var e=av(t.x,t.y,t.scale);t.element.style.transform=e,t._saveCoordinates(e)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.translateAxis=function(t,e){this[t]+=e,this.refresh()},r.prototype.scaleTo=function(t){this.scale=t,this.refresh()},r.prototype.scaleWith=function(t){this.scale*=t,this.refresh()},r.prototype.translate=function(t){this.x+=t.x,this.y+=t.y,this.refresh()},r.prototype.moveAxis=function(t,e){this[t]=e,this.refresh()},r.prototype.moveTo=function(t){hi(this,t),this.refresh()},r.prototype.refresh=function(){var t=this,e=t.x,i=t.y,a;t.round&&(e=Math.round(e),i=Math.round(i)),a=av(e,i,t.scale),a!==t.coordinates&&(t.element.style.transform=a,t._saveCoordinates(a),t.trigger(nn))},r.prototype._saveCoordinates=function(t){this.coordinates=t},r}(xe),Hl=Q,Ch=function(n){function r(o,t){n.call(this,o,t),this._pan=xt(this._pan,this),this.surface=to.create(this.element,{width:o.scrollElement.clientWidth,height:o.scrollElement.clientHeight}),this._initRoot(),this.movable=new Th(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){n.prototype.destroy.call(this),this.surface.destroy()},r.prototype._reset=function(){n.prototype._reset.call(this),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)},r.prototype._initRoot=function(){this._root=new Hl,this.surface.draw(this._root)},r.prototype._beforeReset=function(){this.surface.clear(),this._initRoot()},r.prototype._resize=function(){this.surface.size(this.map.size())},r.prototype._readData=function(){var t=n.prototype._readData.call(this);return t.type==="FeatureCollection"?t.features:t.type==="GeometryCollection"?t.geometries:t},r.prototype._load=function(t){var e=this;this._data=t,this._clearMarkers(),this._loader||(this._loader=new nS(this.map,this.options.style,this));for(var i=new Hl,a=0;a<t.length;a++){var s=e._loader.parse(t[a]);s&&i.append(s)}this._root.clear(),this._root.append(i)},r.prototype.shapeCreated=function(t){var e=!1;if(t instanceof re&&this.map.options.renderPointsAsMarkers&&(e=w(this._createMarker(t))),!e){var i={layer:this,shape:t};e=this.map.trigger("shapeCreated",i)}return e},r.prototype.featureCreated=function(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)},r.prototype._createMarker=function(t){var e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e},r.prototype._clearMarkers=function(){for(var t=this,e=0;e<this._markers.length;e++)t.map.markers.remove(t._markers[e]);this._markers=[]},r.prototype._pan=function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},r.prototype._panEnd=function(t){n.prototype._panEnd.call(this,t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},r.prototype._translateSurface=function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},r.prototype._eventArgs=function(t){return{layer:this,layerIndex:this._layerIndex(),shape:t.element,shapeIndex:(this._data||[]).indexOf(t.element.dataItem),originalEvent:t.originalEvent}},r.prototype._handler=function(t){var e=this;return function(i){i.element&&e.map.trigger(t,e._eventArgs(i))}},r.prototype._mouseenter=function(t){if(t.element){this.map.trigger("shapeMouseEnter",this._eventArgs(t));var e=t.element,i=this._tooltipAnchor(t);this.map._tooltip.show(i,this._tooltipContext(e))}},r.prototype._tooltipContext=function(t){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:t.dataItem,location:t.location}},r.prototype._tooltipAnchor=function(t){var e=this.map.eventOffset(t.originalEvent);return{top:e.y,left:e.x}},r.prototype._activate=function(){n.prototype._activate.call(this),this._panHandler=xt(this._pan,this),this.map.bind("pan",this.panHandler)},r.prototype._deactivate=function(){n.prototype._deactivate.call(this),this.map.unbind("pan",this._panHandler)},r}(kh);S(Ch,{autoBind:!0,zIndex:100});var nS=function(n){function r(o,t,e){n.call(this),this.observer=e,this.locator=o,this.style=t}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.parse=function(t){var e=new Hl,i=!0;return t.type==="Feature"?(i=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),i&&e.children.length<2&&(e=e.children[0]),e},r.prototype._shapeCreated=function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},r.prototype._featureCreated=function(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})},r.prototype._loadGeometryTo=function(t,e,i){var a=this,s=e.coordinates,l,p;switch(e.type){case"LineString":p=this._loadPolygon(t,[s],i),this._setLineFill(p);break;case"MultiLineString":for(l=0;l<s.length;l++)p=a._loadPolygon(t,[s[l]],i),a._setLineFill(p);break;case"Polygon":this._loadPolygon(t,s,i);break;case"MultiPolygon":for(l=0;l<s.length;l++)a._loadPolygon(t,s[l],i);break;case"Point":this._loadPoint(t,s,i);break;case"MultiPoint":for(l=0;l<s.length;l++)a._loadPoint(t,s[l],i);break}},r.prototype._setLineFill=function(t){var e=t.segments;(e.length<4||!e[0].anchor().equals(mt(e).anchor()))&&(t.options.fill=null)},r.prototype._loadShape=function(t,e){return this._shapeCreated(e)||t.append(e),e},r.prototype._loadPolygon=function(t,e,i){var a=this._buildPolygon(e);return a.dataItem=i,a.location=this.locator.viewToLocation(a.bbox().center()),this._loadShape(t,a)},r.prototype._buildPolygon=function(t){for(var e=this,i=t.length>1?Be:O,a=new i(this.style),s=0;s<t.length;s++)for(var l=0;l<t[s].length;l++){var p=e.locator.locationToView(At.fromLngLat(t[s][l]));l===0?a.moveTo(p.x,p.y):a.lineTo(p.x,p.y)}return a},r.prototype._loadPoint=function(t,e,i){var a=At.fromLngLat(e),s=this.locator.locationToView(a),l=new Bt(s,10),p=new re(l,this.style);return p.dataItem=i,p.location=a,this._loadShape(t,p)},r}(R),Kg=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._readData=function(){var t=this.options.data||[];return t},r.prototype._load=function(t){var e=this;if(this._data=t,this.surface.clear(),t.length!==0){var i=this.options,a=Pr(i.valueField),s=t.slice(0);s.sort(function(m,x){return a(x)-a(m)});for(var l=this._scaleType(),p,h=Pr(this.options.locationField),c=0;c<s.length;c++){var u=s[c],v=h(u),f=a(u);if(w(v)&&w(f)){p||(p=new l([0,f],[i.minSize,i.maxSize])),v=At.create(v);var d=e.map.locationToView(v),g=p.map(f),y=e._createSymbol({center:d,size:g,style:i.style,dataItem:u,location:v});y.dataItem=u,y.location=v,y.value=f,e._drawSymbol(y)}}}},r.prototype._scaleType=function(){var t=this.options.scale;return lt(t)?t:sS[t]},r.prototype._createSymbol=function(t){var e=this.options.symbol;return lt(e)||(e=lS[e]),e(t)},r.prototype._drawSymbol=function(t){var e={layer:this,shape:t},i=this.map.trigger("shapeCreated",e);i||this.surface.draw(t)},r.prototype._tooltipContext=function(t){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:t.dataItem,location:t.location,value:t.value}},r.prototype._tooltipAnchor=function(t){var e=t.element,i=e.bbox().center();return{top:i.y,left:i.x}},r}(Ch);S(Kg,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var aS=function(n){function r(o,t){n.call(this),this._domain=o,this._range=t;var e=Math.sqrt(o[1])-Math.sqrt(o[0]),i=t[1]-t[0];this._ratio=i/e}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.map=function(t){var e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e},r}(R),sS={sqrt:aS},lS={circle:function(n){var r=new Bt(n.center,n.size/2);return new re(r,n.style)},square:function(n){var r=new O(n.style),o=n.size/2,t=n.center;return r.moveTo(t.x-o,t.y-o).lineTo(t.x+o,t.y-o).lineTo(t.x+o,t.y+o).lineTo(t.x-o,t.y+o).close(),r}},sv="click",lv="mouseenter",pv="mouseleave",pS=Object.assign,Qg="k-marker",Ul="."+Qg,Ph=function(n){function r(o,t){n.call(this,o,t),this._markerClickHandler=xt(this._markerClick,this),Wt(this.element,sv,Ul,this._markerClickHandler),this.items=[],this._load(this._readData())}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){n.prototype.destroy.call(this),te(this.element,sv,this._markerClickHandler),this.clear()},r.prototype.add=function(t){var e=this;if(Lt(t))for(var i=0;i<t.length;i++)e._addOne(t[i]);else return this._addOne(t)},r.prototype.remove=function(t){t.destroy();var e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)},r.prototype.clear=function(){for(var t=this,e=0;e<this.items.length;e++)t.items[e].destroy();this.items=[]},r.prototype.update=function(t){var e=t.location();if(e){t.showAt(this.map.locationToView(e));var i={marker:t,layer:this};this.map.trigger("markerActivate",i)}},r.prototype._reset=function(){var t=this;n.prototype._reset.call(this);for(var e=this.items,i=0;i<e.length;i++)t.update(e[i])},r.prototype.bind=function(t,e){var i=hv.create(t,this.options);i.dataItem=e;var a={marker:i,layer:this},s=this.map.trigger("markerCreated",a);if(!s)return this.add(i),i},r.prototype._addOne=function(t){var e=hv.create(t,this.options);return e.addTo(this),e},r.prototype._readData=function(){var t=this.options.data||[];return t},r.prototype._load=function(t){var e=this;this._data=t,this.clear();for(var i=Pr(this.options.locationField),a=Pr(this.options.titleField),s=0;s<t.length;s++){var l=t[s];e.bind({location:i(l),title:a(l)},l)}},r.prototype._markerClick=function(t){var e=t.currentTarget._kendoNode,i={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:t};this.map.trigger("markerClick",i)},r.prototype._markerMouseEnter=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)},r.prototype._markerMouseLeave=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)},r.prototype._createMarkerEventArgs=function(t){var e=t.marker,i=pS({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},t);return i},r}(kh);S(Ph,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});var hv=function(n){function r(o){n.call(this),this.options=o||{}}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.layer=null,this.unbindEvents(),this.hide()},r.prototype.addTo=function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},r.prototype.location=function(t){return t?(this.options.location=At.create(t).toArray(),this.layer&&this.layer.update(this),this):At.create(this.options.location)},r.prototype.showAt=function(t){this.render(),this._anchor={left:Math.round(t.x),top:Math.round(t.y)},this.element.style.left=Zu(this._anchor.left),this.element.style.top=Zu(this._anchor.top)},r.prototype.hide=function(){this.element&&(this.element.remove(),this.element=null)},r.prototype.bindEvents=function(){this.element&&(this._mouseEnterHandler=xt(this._mouseEnter,this),Wt(this.element,lv,Ul,this._mouseEnterHandler),this._mouseLeaveHandler=xt(this._mouseLeave,this),Wt(this.element,pv,Ul,this._mouseLeaveHandler))},r.prototype.unbindEvents=function(){this.element&&(te(this.element,lv,this._mouseEnterHandler),te(this.element,pv,this._mouseLeaveHandler))},r.prototype.render=function(){if(!this.element){var t=this.options,e=this.layer,i=document.createElement("span");if(ft(i,Qg),this.options.template){var a=this._compileTemplate(this.options.template),s=a(this.dataItem),l=pi(s);i.appendChild(l)}else if(t.svgIcon)Ei(i,{icon:t.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{var p={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};t.shape?t.shape==="pinTarget"?(p.icon="map-marker-target",Ei(i,p)):t.shape==="pin"?Ei(i,p):ft(i,"k-icon k-icon-xxl k-i-marker-"+$g(t.shape||"pin")):Ei(i,p)}t.title&&i.setAttribute("title",t.title);var h=t.attributes||{};Object.keys(h).forEach(function(c){i.setAttribute(c,h[c])}),i._kendoNode=this,i.style.zIndex=t.zIndex,this.element=i,e&&e.element.appendChild(this.element),this.bindEvents()}},r.prototype._mouseEnter=function(t){var e=this._createEventArgs(t);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())},r.prototype._tooltipContext=function(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}},r.prototype._mouseLeave=function(t){var e=this._createEventArgs(t);this.layer._markerMouseLeave(e)},r.prototype._createEventArgs=function(t){var e={marker:this,originalEvent:t};return e},r.prototype._compileTemplate=function(t){return eo.compile(t,{paramName:"dataItem",useWithBlock:!1})},r.create=function(t,e){return t instanceof r?t:new r(_({},e,t))},r}(R),hS=Object.assign;function cv(n){window.requestAnimationFrame(n)}var Ls=function(n){function r(){n.call(this);var o=this;o._tickProxy=xt(o._tick,o),o._started=!1}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.tick=function(){},r.prototype.done=function(){},r.prototype.onEnd=function(){},r.prototype.onCancel=function(){},r.prototype.start=function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,cv(this._tickProxy)))},r.prototype.enabled=function(){return!0},r.prototype.cancel=function(){this._started=!1,this.onCancel()},r.prototype._tick=function(){var t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):cv(t._tickProxy))},r}(R),uv=function(n){function r(o){n.call(this),hS(this,o)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.done=function(){return this.timePassed()>=this.duration},r.prototype.timePassed=function(){return Math.min(this.duration,Er()-this.startDate)},r.prototype.moveTo=function(t){var e=this,i=e.movable;e.initial=i[e.axis],e.delta=t.location-e.initial,e.duration=typeof t.duration=="number"?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=Er(),e.start()},r.prototype._easeProxy=function(t){var e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}},r.easeOutExpo=function(t,e,i,a){return t===a?e+i:i*(-Math.pow(2,-10*t/a)+1)+e},r}(Ls),Ki=Object.assign,Qr=Math.abs,cS=500,uS=.7,vS=.96,fS=10,vv=55,dS=.5,fv=5,gS="pull",ha="change",yS="resize",Jg="scroll",mS=2,_S=function(n){function r(o){n.call(this,o);var t=this;Ki(t,o),t.userEvents.bind("gestureend",t.start.bind(this)),t.tapCapture.bind("press",t.cancel.bind(this))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.enabled=function(){return this.movable.scale<this.dimensions.minScale},r.prototype.done=function(){return this.dimensions.minScale-this.movable.scale<.01},r.prototype.tick=function(){var t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)},r.prototype.onEnd=function(){var t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)},r}(Ls),xS=function(n){function r(o){n.call(this);var t=this;Ki(t,o,{transition:new uv({axis:o.axis,movable:o.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",xt(t.start,t)),t.userEvents.bind("gestureend",xt(t.start,t)),t.userEvents.bind("tap",xt(t.onEnd,t))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.onCancel=function(){this.transition.cancel()},r.prototype.freeze=function(t){var e=this;e.cancel(),e._moveTo(t)},r.prototype.onEnd=function(){var t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()},r.prototype.done=function(){return Qr(this.velocity)<1},r.prototype.start=function(t){var e=this,i;e.dimension.enabled&&(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(t.touch[e.axis].velocity*e.velocityMultiplier,vv),n.prototype.start.call(this)):e._snapBack():(i=t.touch.id===mS?0:t.touch[e.axis].velocity,e.velocity=Math.max(Math.min(i*e.velocityMultiplier,vv),-55),e.tapCapture.captureNext(),n.prototype.start.call(this)))},r.prototype.tick=function(){var t=this,e=t.dimension,i=t.paneAxis.outOfBounds()?dS:t.friction,a=t.velocity*=i,s=t.movable[t.axis]+a;!t.elastic&&e.outOfBounds(s)&&(s=Math.max(Math.min(s,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,s)},r.prototype._end=function(){this.tapCapture.cancelCapture(),this.end()},r.prototype._snapBack=function(){var t=this,e=t.dimension,i=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(i)},r.prototype._moveTo=function(t){this.transition.moveTo({location:t,duration:cS,ease:uv.easeOutExpo})},r}(Ls),bS=function(n){function r(o){n.call(this,o);var t=this;Ki(t,o,{origin:{},destination:{},offset:{}})}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.tick=function(){this._updateCoordinates(),this.moveTo(this.origin)},r.prototype.done=function(){return Qr(this.offset.y)<fv&&Qr(this.offset.x)<fv},r.prototype.onEnd=function(){this.moveTo(this.destination),this.callback&&this.callback.call()},r.prototype.setCoordinates=function(t,e){this.offset={},this.origin=t,this.destination=e},r.prototype.setCallback=function(t){t&&lt(t)?this.callback=t:t=void 0},r.prototype._updateCoordinates=function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}},r}(Ls),wS=function(n){function r(o){n.call(this);var t=this,e=o.axis==="x",i=e?"horizontal":"vertical",a=pi('<div class="km-touch-scrollbar km-'+i+'-scrollbar" />');Ki(t,o,{element:a,elementSize:0,movable:new Th(a),scrollMovable:o.movable,alwaysVisible:o.alwaysVisible,size:e?"width":"height"}),t.scrollMovable.bind(ha,t.refresh.bind(t)),t.container.appendChild(a),o.alwaysVisible&&t.show()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.refresh=function(){var t=this,e=t.axis,i=t.dimension,a=i.size,s=t.scrollMovable,l=a/i.total,p=Math.round(-s[e]*l),h=Math.round(a*l);l>=1?this.element.style.display="none":this.element.style.display="",p+h>a?h=a-p:p<0&&(h+=p,p=0),t.elementSize!==h&&(t.element.style[t.size]=h+"px",t.elementSize=h),t.movable.moveAxis(e,p)},r.prototype.show=function(){this.element.style.opacity=uS,this.element.style.visibility="visible"},r.prototype.hide=function(){this.alwaysVisible||(this.element.style.opacity=0)},r}(R),Mh=function(n){function r(o,t){n.call(this);var e=this;this.element=o,this._initOptions(t);var i=HA();e._native=e.options.useNative&&i;var a=pi('<div class="km-scroll-header"/>');if(e._native){ft(o,"km-native-scroller"),Yu(a,o),Ki(e,{scrollElement:o,fixedContainer:o.children[0]});return}o.style.overflow="hidden",ft(o,"km-scroll-wrapper");var s=pi('<div class="km-scroll-container"/>');$A(o,s),Yu(a,o);var l=o.children[1],p=new rS(o),h=new Th(l),c=new iS({element:l,container:o,forcedEnabled:e.options.zoom}),u=this.options.avoidScrolling,v=new Ia(o,{touchAction:"none",allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:e.options.zoom,supportDoubleTap:e.options.supportDoubleTap,start:function(m){c.refresh();var x=Qr(m.x.velocity),b=Qr(m.y.velocity),A=x*2>=b,k=e.fixedContainer.contains(m.event.target),C=b*2>=x;!k&&!u(m)&&e.enabled&&(c.x.enabled&&A||c.y.enabled&&C)?v.capture():v.cancel()}}),f=new oS({movable:h,dimensions:c,userEvents:v,elastic:e.options.elastic}),d=new _S({movable:h,dimensions:c,userEvents:v,tapCapture:p}),g=new bS({moveTo:function(m){e.scrollTo(m.x,m.y)}});h.bind(ha,function(){e.scrollTop=-h.y,e.scrollLeft=-h.x,e.trigger(Jg,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}),e.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),Wt(o,"wheel",this._wheelScrollHandler)),Ki(e,{movable:h,dimensions:c,zoomSnapBack:d,animatedScroller:g,userEvents:v,pane:f,tapCapture:p,pulled:!1,enabled:!0,scrollElement:l,scrollTop:0,scrollLeft:0,fixedContainer:o.children[0]}),e._initAxis("x"),e._initAxis("y"),e._wheelEnd=function(){e._wheel=!1,e.userEvents.end(0,e._wheelY)},c.refresh(),e.options.pullToRefresh&&e._initPullToRefresh()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype._wheelScroll=function(t){if(!t.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var e=UA(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}},r.prototype.makeVirtual=function(){this.dimensions.y.makeVirtual()},r.prototype.virtualSize=function(t,e){this.dimensions.y.virtualSize(t,e)},r.prototype.height=function(){return this.dimensions.y.size},r.prototype.scrollHeight=function(){return this.scrollElement.scrollHeight},r.prototype.scrollWidth=function(){return this.scrollElement.scrollWidth},r.prototype._resize=function(){this._native||this.contentResized()},r.prototype.setOptions=function(t){var e=this;this._initOptions(t),t.pullToRefresh&&e._initPullToRefresh()},r.prototype.reset=function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},r.prototype.contentResized=function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},r.prototype.zoomOut=function(){var t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())},r.prototype.enable=function(){this.enabled=!0},r.prototype.disable=function(){this.enabled=!1},r.prototype.scrollTo=function(t,e){this._native?(this.scrollElement.scrollLeft(Qr(t)),this.scrollElement.scrollTop(Qr(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))},r.prototype.animatedScrollTo=function(t,e,i){var a,s;this._native?this.scrollTo(t,e):(a={x:this.movable.x,y:this.movable.y},s={x:t,y:e},this.animatedScroller.setCoordinates(a,s),this.animatedScroller.setCallback(i),this.animatedScroller.start())},r.prototype.pullHandled=function(){},r.prototype.destroy=function(){var t=this.element;te(t,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()},r.prototype._scale=function(t){this.dimensions.rescale(t),this.movable.scaleTo(t)},r.prototype._initPullToRefresh=function(){},r.prototype._dragEnd=function(){},r.prototype._paneChange=function(){},r.prototype._initAxis=function(t){var e=this,i=e.movable,a=e.dimensions[t],s=e.tapCapture,l=e.pane[t],p=new wS({axis:t,movable:i,dimension:a,container:e.element,alwaysVisible:e.options.visibleScrollHints});a.bind(ha,function(){p.refresh()}),l.bind(ha,function(){p.show()}),e[t+"inertia"]=new xS({axis:t,paneAxis:l,movable:i,tapCapture:s,userEvents:e.userEvents,dimension:a,elastic:e.options.elastic,friction:e.options.friction||vS,velocityMultiplier:e.options.velocityMultiplier||fS,end:function(){p.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})},r}(xe);S(Mh,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}});Es(Mh,[gS,Jg,yS]);var ty=function(r,o){o===void 0&&(o={}),this.sender=o.sender||r,this.widget=r,this.rtl=!!o.rtl};ty.prototype.notify=function(r,o){this.widget&&this.widget.trigger(r,o)};var wr=Math,dv=wr.min,ll=wr.pow,gv=T,ca="marker",Qn="location",AS=.9,SS=.93,yv="wheel",kS=50,TS=5,CS=1,ey={bubble:Kg,shape:Ch,tile:qg};ey[ca]=Ph;var ry=function(n){function r(o,t,e,i){t===void 0&&(t={}),e===void 0&&(e={}),i===void 0&&(i={}),n.call(this),this._init(o,t,e,i)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){var t=this;this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),Lt(this.markers)?this.markers.forEach(function(i){i.destroy()}):this.markers.destroy();for(var e=0;e<this.layers.length;e++)t.layers[e].destroy();te(this.element,yv,this._mousewheelHandler),n.prototype.destroy.call(this)},r.prototype._init=function(t,e,i,a){e===void 0&&(e={}),a===void 0&&(a={}),this.support=cn(),this.context=a,this.initObserver(a),this.initServices(a),this._notifyObserver(JA),this._initOptions(e),this._setEvents(e),this.crs=new jA,this._initElement(t),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();var s=Ka(this._mousewheel.bind(this),kS);this._mousewheelHandler=function(l){l.preventDefault(),s(l)},Wt(this.element,yv,this._mousewheelHandler)},r.prototype._initOptions=function(t){this.options=_({},this.options,t)},r.prototype._initElement=function(t){this.element=t,ft(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),on(t);var e=pi("<div />");this.element.appendChild(e)},r.prototype.initServices=function(t){t===void 0&&(t={}),this.widgetService=new ty(this,t)},r.prototype.initObserver=function(t){t===void 0&&(t={}),this.observers=[],this.addObserver(t.observer)},r.prototype.addObserver=function(t){t&&this.observers.push(t)},r.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},r.prototype.requiresHandlers=function(t){for(var e=this.observers,i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0},r.prototype.trigger=function(t,e){e===void 0&&(e={}),e.sender=this;for(var i=this.observers,a=!1,s=0;s<i.length;s++)i[s].trigger(t,e)&&(a=!0);return a||n.prototype.trigger.call(this,t,e),a},r.prototype._notifyObserver=function(t,e){e===void 0&&(e={}),e.sender=this;for(var i=this.observers,a=!1,s=0;s<i.length;s++)i[s].trigger(t,e)&&(a=!0);return a},r.prototype.zoom=function(t){var e=this.options,i;if(w(t)){var a=wr.round(V(t,e.minZoom,e.maxZoom));e.zoom!==a&&(e.zoom=a,this.widgetService.notify(QA,{zoom:e.zoom}),this._reset()),i=this}else i=e.zoom;return i},r.prototype.center=function(t){var e;if(t){var i=At.create(t),a=At.create(this.options.center);i.equals(a)||(this.options.center=i.toArray(),this.widgetService.notify(ev,{center:this.options.center}),this._reset()),e=this}else e=At.create(this.options.center);return e},r.prototype.extent=function(t){var e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e},r.prototype.setOptions=function(t){t===void 0&&(t={});var e=this.element;this.destroy(),on(e),this._init(e,t,{},this.context),this._reset()},r.prototype.locationToLayer=function(t,e){var i=!this.options.wraparound,a=At.create(t);return this.crs.toPoint(a,this._layerSize(e),i)},r.prototype.layerToLocation=function(t,e){var i=!this.options.wraparound,a=gv.create(t);return this.crs.toLocation(a,this._layerSize(e),i)},r.prototype.locationToView=function(t){var e=At.create(t),i=this.locationToLayer(this._viewOrigin),a=this.locationToLayer(e);return a.translateWith(i.scale(-1))},r.prototype.viewToLocation=function(t,e){var i=this.locationToLayer(this._getOrigin(),e),a=gv.create(t),s=a.clone().translateWith(i);return this.layerToLocation(s,e)},r.prototype.eventOffset=function(t){var e,i,a=ji(this.element);if(t.x&&t.x[Qn]||t.y&&t.y[Qn])e=t.x[Qn]-a.left,i=t.y[Qn]-a.top;else{var s=t.originalEvent||t;e=j(s.pageX,s.clientX)-a.left,i=j(s.pageY,s.clientY)-a.top}var l=new T(e,i);return l},r.prototype.eventToView=function(t){var e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))},r.prototype.eventToLayer=function(t){return this.locationToLayer(this.eventToLocation(t))},r.prototype.eventToLocation=function(t){var e=this.eventOffset(t);return this.viewToLocation(e)},r.prototype.viewSize=function(){var t=this.element,e=this._layerSize(),i=t.clientWidth;return this.options.wraparound||(i=dv(e,i)),{width:i,height:dv(e,t.clientHeight)}},r.prototype.exportVisual=function(){return this._reset(),!1},r.prototype.hideTooltip=function(){this._tooltip&&this._tooltip.hide()},r.prototype._setOrigin=function(t,e){var i=this.viewSize(),a,s=this._origin=At.create(t);return a=this.locationToLayer(s,e),a.x+=i.width/2,a.y+=i.height/2,this.options.center=this.layerToLocation(a,e).toArray(),this.widgetService.notify(ev,{center:this.options.center}),this},r.prototype._getOrigin=function(t){var e=this.viewSize(),i;return(t||!this._origin)&&(i=this.locationToLayer(this.center()),i.x-=e.width/2,i.y-=e.height/2,this._origin=this.layerToLocation(i)),this._origin},r.prototype._setExtent=function(t){var e=this,i=pa.create(t),a=i.se.clone();this.options.wraparound&&a.lng<0&&t.nw.lng>0&&(a.lng=180+(180+a.lng));var s=new pa(i.nw,a);this.center(s.center());var l=this.element.clientWidth,p=this.element.clientHeight,h;for(h=this.options.maxZoom;h>=this.options.minZoom;h--){var c=e.locationToLayer(s.nw,h),u=e.locationToLayer(s.se,h),v=wr.abs(u.x-c.x),f=wr.abs(u.y-c.y);if(v<=l&&f<=p)break}this.zoom(h)},r.prototype._getExtent=function(){var t=this._getOrigin(),e=this.locationToLayer(t),i=this.viewSize();e.x+=i.width,e.y+=i.height;var a=this.layerToLocation(e);return new pa(t,a)},r.prototype._zoomAround=function(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)},r.prototype._initControls=function(){var t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))},r.prototype._createControlElement=function(t,e){var i=t.position||e,a="."+Ku(i).replace(" ","."),s=this.element.querySelector(".k-map-controls"+a)||[];if(s.length===0){var l=document.createElement("div");ft(l,"k-map-controls "+Ku(i)),s=l,this.element.appendChild(s)}var p=document.createElement("div");return s.appendChild(p),p},r.prototype._createAttribution=function(t){var e=this._createControlElement(t,"bottomRight");this.attribution=new Hg(e,t)},r.prototype._createNavigator=function(t){var e=this._createControlElement(t,"topLeft"),i=this.navigator=new Ah(e,_({},t,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)},r.prototype._navigatorPan=function(t){var e=this.scroller,i=e.scrollLeft+t.x,a=e.scrollTop-t.y,s=this._virtualSize,l=this.element.clientWidth,p=this.element.clientHeight;i=V(i,s.x.min,s.x.max-l),a=V(a,s.y.min,s.y.max-p),this.scroller.one("scroll",xt(this._scrollEnd,this)),this.scroller.scrollTo(-i,-a)},r.prototype._navigatorCenter=function(){this.center(this.options.center)},r.prototype._createZoomControl=function(t){var e=this._createControlElement(t,"topLeft"),i=this.zoomControl=new Sh(e,t,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)},r.prototype._zoomControlChange=function(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))},r.prototype._initScroller=function(){var t=this.support.mobileOS?SS:AS,e=this.options.zoomable!==!1,i=this.scroller=new Mh(this.element.children[0],{friction:t,velocityMultiplier:TS,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",xt(this._scroll,this)),i.bind("scrollEnd",xt(this._scrollEnd,this)),i.userEvents.bind("gesturestart",xt(this._scaleStart,this)),i.userEvents.bind("gestureend",xt(this._scale,this)),i.userEvents.bind("doubleTap",xt(this._doubleTap,this)),i.userEvents.bind("tap",xt(this._tap,this)),this.scrollElement=i.scrollElement},r.prototype._initLayers=function(){for(var t=this,e=this.options.layers,i=this.layers=[],a=0;a<e.length;a++){var s=e[a],l=t._createLayer(s);i.push(l)}},r.prototype._createLayer=function(t){var e=t.type||"shape",i=this.options.layerDefaults[e],a=e===ca?_({},this.options.markerDefaults,t,{icons:this.options.icons}):_({},i,t),s=ey[e],l=new s(this,a);return e===ca&&(this.markers=l),l},r.prototype._createTooltip=function(){return new Xg(this.widgetService,this.options.tooltip)},r.prototype._initMarkers=function(){var t=(this.options.layers||[]).filter(function(e){return e&&e.type===ca});t.length>0||(this.markers=new Ph(this,_({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))},r.prototype._scroll=function(t){var e=this.locationToLayer(this._viewOrigin).round(),i=t.sender.movable,a=new T(i.x,i.y).scale(-1).scale(1/i.scale);e.x+=a.x,e.y+=a.y,this._scrollOffset=a,this._tooltip.offset=a,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},r.prototype._scrollEnd=function(t){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=Er(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))},r.prototype._panComplete=function(){return Er()-(this._panEndTimestamp||0)>50},r.prototype._scaleStart=function(t){if(this.trigger("zoomStart",{originalEvent:t})){var e=t.touches[1];e&&e.cancel()}},r.prototype._scale=function(t){var e=this.scroller.movable.scale,i=this._scaleToZoom(e),a=new T(t.center.x,t.center.y),s=this.viewToLocation(a,i),l=this.locationToLayer(s,i),p=l.translate(-a.x,-a.y);this._zoomAround(p,i),this.trigger("zoomEnd",{originalEvent:t})},r.prototype._scaleToZoom=function(t){var e=this._layerSize()*t,i=e/this.options.minSize,a=wr.log(i)/wr.log(2);return wr.round(a)},r.prototype._reset=function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")},r.prototype._resetScroller=function(){var t=this.scroller,e=t.dimensions.x,i=t.dimensions.y,a=this._layerSize(),s=this.extent().nw,l=this.locationToLayer(s).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();var p=this.zoom();t.dimensions.forcedMinScale=ll(2,this.options.minZoom-p),t.dimensions.maxScale=ll(2,this.options.maxZoom-p);var h={min:-l.x,max:a-l.x},c={min:-l.y,max:a-l.y};if(this.options.wraparound&&(h.max=20*a,h.min=-h.max),this.options.pannable===!1){var u=this.viewSize();h.min=c.min=0,h.max=u.width,c.max=u.height}e.makeVirtual(),i.makeVirtual(),e.virtualSize(h.min,h.max),i.virtualSize(c.min,c.max),this._virtualSize={x:h,y:c}},r.prototype._renderLayers=function(){},r.prototype._layerSize=function(t){var e=j(t,this.options.zoom);return this.options.minSize*ll(2,e)},r.prototype._tap=function(t){if(this._panComplete()){var e=this.eventOffset(t);this.hideTooltip(),this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}},r.prototype._doubleTap=function(t){var e=this.options;if(e.zoomable!==!1&&!this.trigger("zoomStart",{originalEvent:t})){var i=this.zoom()+CS,a=this.eventOffset(t),s=this.viewToLocation(a),l=this.locationToLayer(s,i),p=l.translate(-a.x,-a.y);this._zoomAround(p,i),this.trigger("zoomEnd",{originalEvent:t})}},r.prototype._mousewheel=function(t){var e=up(t)>0?-1:1,i=this.options,a=this.zoom(),s=V(a+e,i.minZoom,i.maxZoom);if(i.zoomable!==!1&&s!==a&&!this.trigger("zoomStart",{originalEvent:t})){var l=this.eventOffset(t),p=this.viewToLocation(l),h=this.locationToLayer(p,s),c=h.translate(-l.x,-l.y);this._zoomAround(c,s),this.trigger("zoomEnd",{originalEvent:t})}},r.prototype._toDocumentCoordinates=function(t){var e=ji(this.element);return{left:M(t.x+e.left),top:M(t.y+e.top)}},r}(xe);S(ry,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1});Es(ry,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var PS=function(n,r){return Math.max.apply(null,n.map(r))},MS=function(n,r){return Math.min.apply(null,n.map(r))},Gl=function(n,r){return n.map(r).reduce(function(o,t){return o+t},0)},Is=function(n,r){return n.y0===r.y0?n.index-r.index:n.y0+n.y1-r.y0-r.y1},OS=function(n,r){return Is(n.source,r.source)},RS=function(n,r){return Is(n.target,r.target)},Wl=function(n){return n.value};function Oh(n){n.forEach(function(r){r.targetLinks.forEach(function(o){o.source.sourceLinks.sort(RS)}),r.sourceLinks.forEach(function(o){o.target.targetLinks.sort(OS)})})}var ES=function(n,r){return n.align==="left"?n.depth:n.align==="right"?r-n.height:n.sourceLinks.length?n.depth:r},Vt=function(r){var o=r.nodesOptions,t=o.offset;t===void 0&&(t={});var e=o.align;this.data={nodes:r.nodes.map(function(i){return _({},{offset:t,align:e},i)}),links:r.links.map(function(i){return _({},i)})},this.width=r.width,this.height=r.height,this.offsetX=r.offsetX||0,this.offsetY=r.offsetY||0,this.nodeWidth=r.nodesOptions.width,this.nodePadding=r.nodesOptions.padding,this.reverse=r.reverse,this.targetColumnIndex=r.targetColumnIndex,this.loops=r.loops,this.autoLayout=r.autoLayout};Vt.prototype.calculate=function(){var r=this.data,o=r.nodes,t=r.links;this.connectLinksToNodes(o,t),this.calculateNodeValues(o);var e=this.calculateNodeHeights(o);if(e)return{nodes:[],links:[],columns:[],circularLinks:e};this.calculateNodeDepths(o);var i=this.calculateNodeColumns(o);return this.calculateNodeBreadths(i),this.applyNodesOffset(o),this.calculateLinkBreadths(o),Object.assign({},this.data,{columns:i})};Vt.prototype.connectLinksToNodes=function(r,o){var t=new Map;r.forEach(function(e,i){e.index=i,e.sourceLinks=[],e.targetLinks=[],e.id=e.id!==void 0?e.id:e.label.text,t.set(e.id,e)}),o.forEach(function(e){e.source=t.get(e.sourceId),e.target=t.get(e.targetId),e.source.sourceLinks.push(e),e.target.targetLinks.push(e)})};Vt.prototype.calculateNodeValues=function(r){r.forEach(function(o){o.value=Math.max(Gl(o.sourceLinks,Wl),Gl(o.targetLinks,Wl))})};Vt.prototype.calculateNodeDepths=function(r){for(var o=new Set(r),t=new Set,e=0;o.size;){for(var i=Array.from(o),a=0;a<i.length;a++){var s=i[a];s.depth=e;for(var l=0;l<s.sourceLinks.length;l++){var p=s.sourceLinks[l];t.add(p.target)}}e++,o=t,t=new Set}};Vt.prototype.calculateNodeHeights=function(r){for(var o=r.length,t=new Set(r),e=new Set,i=0,a=function(s){s.height=i,s.targetLinks.forEach(function(l){e.add(l.source)})};t.size;){if(t.forEach(a),i++,i>o)return!0;t=e,e=new Set}return!1};Vt.prototype.calculateNodeColumns=function(r){for(var o=this,t=PS(r,function(p){return p.depth}),e=(this.width-this.offsetX-this.nodeWidth)/t,i=new Array(t+1),a=0;a<r.length;a++){var s=r[a],l=Math.max(0,Math.min(t,ES(s,t)));s.x0=o.offsetX+l*e,s.x1=s.x0+o.nodeWidth,s.layer=l,i[l]=i[l]||[],i[l].push(s)}return i};Vt.prototype.calculateNodeBreadths=function(r){var o=this,t=MS(r,function(s){return(o.height-o.offsetY-(s.length-1)*o.nodePadding)/Gl(s,Wl)});if(r.forEach(function(s){var l=o.offsetY;s.forEach(function(p){p.y0=l,p.y1=l+p.value*t,l=p.y1+o.nodePadding,p.sourceLinks.forEach(function(h){h.width=h.value*t})}),l=(o.height-l+o.nodePadding)/(s.length+1),s.forEach(function(p,h){p.y0+=l*(h+1),p.y1+=l*(h+1)})}),this.autoLayout!==!1)for(var e=this.loops!==void 0?this.loops:r.length-1,i=this.targetColumnIndex||1,a=0;a<e;a++)o.reverse?(o.uncurlLinksToRight(r,i),o.uncurlLinksToLeft(r,i)):(o.uncurlLinksToLeft(r,i),o.uncurlLinksToRight(r,i));r.forEach(Oh)};Vt.prototype.applyNodesOffset=function(r){r.forEach(function(o){var t=(o.offset?o.offset.left:0)||0,e=(o.offset?o.offset.top:0)||0;o.x0+=t,o.x1+=t,o.y0+=e,o.y1+=e})};Vt.prototype.calculateLinkBreadths=function(r){r.forEach(function(o){var t=o.sourceLinks,e=o.targetLinks,i=o.y0,a=i;t.forEach(function(s){s.x0=s.source.x1,s.y0=i+s.width/2,i+=s.width}),e.forEach(function(s){s.x1=s.target.x0,s.y1=a+s.width/2,a+=s.width})})};Vt.prototype.uncurlLinksToRight=function(r,o){for(var t=this,e=r.length,i=o;i<e;i++){var a=r[i];a.forEach(function(s){var l=0,p=0;s.targetLinks.forEach(function(c){var u=c.value*(s.layer-c.source.layer);l+=t.targetTopPos(c.source,s)*u,p+=u});var h=l===0?0:l/p-s.y0;s.y0+=h,s.y1+=h,Oh([s])}),a.sort(Is),t.arrangeNodesVertically(a)}};Vt.prototype.uncurlLinksToLeft=function(r,o){for(var t=this,e=r.length,i=e-1-o,a=i;a>=0;a--){for(var s=r[a],l=function(h){var c=s[h],u=0,v=0;c.sourceLinks.forEach(function(d){var g=d.value*(d.target.layer-c.layer);u+=t.sourceTopPos(c,d.target)*g,v+=g});var f=u===0?0:u/v-c.y0;c.y0+=f,c.y1+=f,Oh([c])},p=0;p<s.length;p++)l(p);s.sort(Is),t.arrangeNodesVertically(s)}};Vt.prototype.arrangeNodesVertically=function(r){var o=0,t=r.length-1;this.arrangeUp(r,this.height,t),this.arrangeDown(r,this.offsetY,o)};Vt.prototype.arrangeDown=function(r,o,t){for(var e=this,i=o,a=t;a<r.length;a++){var s=r[a],l=Math.max(0,i-s.y0);s.y0+=l,s.y1+=l,i=s.y1+e.nodePadding}};Vt.prototype.arrangeUp=function(r,o,t){for(var e=this,i=o,a=t;a>=0;--a){var s=r[a],l=Math.max(0,s.y1-i);s.y0-=l,s.y1-=l,i=s.y0-e.nodePadding}};Vt.prototype.sourceTopPos=function(r,o){for(var t=this,e=o.y0-(o.targetLinks.length-1)*this.nodePadding/2,i=0;i<o.targetLinks.length;i++){var a=o.targetLinks[i];if(a.source===r)break;e+=a.width+t.nodePadding}for(var s=0;s<r.sourceLinks.length;s++){var l=r.sourceLinks[s];if(l.target===o)break;e-=l.width}return e};Vt.prototype.targetTopPos=function(r,o){for(var t=this,e=r.y0-(r.sourceLinks.length-1)*this.nodePadding/2,i=0;i<r.sourceLinks.length;i++){var a=r.sourceLinks[i];if(a.target===o)break;e+=a.width+t.nodePadding}for(var s=0;s<o.targetLinks.length;s++){var l=o.targetLinks[s];if(l.source===r)break;e-=l.width}return e};var Ai=function(n){return new Vt(n).calculate()},LS=function(n){for(var r=0,o=n.length,t=0;t<o;t++)for(var e=n[t],i=t+1;i<o;i++){var a=n[i];IS(e,a)&&(r+=Math.min(e.value,a.value))}return r};function Jn(n,r,o,t,e,i){var a=(i-r)*(o-n),s=(t-r)*(e-n);return a>s?1:a===s?0:-1}function IS(n,r){var o=Jn(n.x0,n.y0,n.x1,n.y1,r.x1,r.y1),t=Jn(n.x0,n.y0,n.x1,n.y1,r.x0,r.y0),e=Jn(n.x0,n.y0,r.x0,r.y0,r.x1,r.y1),i=Jn(n.x1,n.y1,r.x0,r.y0,r.x1,r.y1);return o!==t&&e!==i}var En=function(n){function r(o){n.call(this),this.options=_({},this.options,o),this.createVisual()}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.createVisual=function(){this.visual=this.createElement()},r.prototype.exportVisual=function(){return this.visual},r.prototype.createElement=function(){var t=this,e=this.options.visual,i;return e?i=e({sender:this.getSender(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):i=this.getElement(),i},r.prototype.getSender=function(){return this},r}(R),mv=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){return O.fromRect(this.getRect(),this.visualOptions())},r.prototype.getRect=function(){var t=this.options.node;return new X([t.x0,t.y0],[t.x1-t.x0,t.y1-t.y0])},r.prototype.getLabelText=function(t){var e=t.labels.ariaTemplate;if(e)return e({node:t.node})},r.prototype.visualOptions=function(){var t=_({},this.options,this.options.node),e=this.getLabelText(t);return{fill:{color:t.color,opacity:t.opacity},stroke:{width:0},className:"k-sankey-node",role:"graphics-symbol",ariaRoleDescription:"Node",ariaLabel:e}},r.prototype.createFocusHighlight=function(){if(this.options.navigatable)return this._highlight=O.fromRect(this.getRect(),{stroke:this.options.focusHighlight.border,visible:!1}),this._highlight},r.prototype.focus=function(t){if(this._highlight){var e=t||{},i=e.highlight;i===void 0&&(i=!0),i&&this._highlight.options.set("visible",!0);var a=this.options.node.id;this.visual.options.set("id",a),this.options.root()&&this.options.root().setAttribute(Fi,a)}},r.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(Fi))},r}(En),DS=function(n,r,o){return n.color||r[o%r.length]},_v=function(n,r,o,t){var e=_({},r,r.node);return _({},{color:DS(n,o,t)},e,{node:n},{visual:n.visual,opacity:n.opacity,offset:n.offset,color:n.color})},ta=function(n,r,o,t,e){var i=1-e,a=i*i,s=e*e;return n*a*i+3*r*e*a+3*o*s*i+t*s*e};function VS(n,r,o,t,e){var i=(n+o)/2,a=(r+t)/2,s,l;if(r===t)s=0,l=e/2;else if(n===o)s=e/2,l=0;else{var p=(t-r)/(o-n),h=-1/p;s=e/2/Math.sqrt(1+h*h),l=h*s}var c={x:i-s,y:a-l},u={x:i+s,y:a+l};return{P1:c,P2:u}}function zS(n,r,o,t,e){var i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},a=r.x-n.x,s=r.y-n.y,l=-s,p=a,h=Math.sqrt(l*l+p*p);l=l/h*o,p=p/h*o;var c={x:i.x+l,y:i.y+p},u={x:i.x-l,y:i.y-p},v=e.x-t.x,f=e.y-t.y,d=f*(c.x-u.x)-v*(c.y-u.y);if(Math.abs(d)<1e-10)return null;var g=(v*(u.y-t.y)-f*(u.x-t.x))/d,y=((c.x-u.x)*(u.y-t.y)-(c.y-u.y)*(u.x-t.x))/d;if(g>=0&&g<=1&&y>=0&&y<=1){var m={x:u.x+g*(c.x-u.x)};return m}return null}var BS=function(n,r){var o=n.width/2,t=r?n.x1:n.x0,e=r?n.x0:n.x1,i=r?n.y1:n.y0,a=r?n.y0:n.y1,s=(t+e)/2,l=[s,ta(i,i,a,a,.5)],p=.4999,h=[ta(t,s,s,e,p),ta(i,i,a,a,p)],c=VS(l[0],l[1],h[0],h[1],n.width),u=[s,ta(i+o,i+o,a+o,a+o,.5)],v=c.P1.y>c.P2.y?c.P1:c.P2,f=o,d=(i>a?1:-1)*f,g=v,y={x:u[0],y:u[1]},m={x:u[0],y:u[1]},x={x:Math.max(1,u[0]+d),y:u[1]},b=zS(g,y,f,m,x)||{x:(u[0]+v.x)/2},A=t,k=e,C=(b.x-.125*A-.125*k)/.75;return s-C},FS=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=this.options.link,e=t.x0,i=t.x1,a=t.y0,s=t.y1,l=(e+i)/2;return new O(this.visualOptions()).moveTo(e,a).curveTo([l,a],[l,s],[i,s])},r.prototype.getLabelText=function(t){var e=t.labels.ariaTemplate;if(e)return e({link:t.link})},r.prototype.visualOptions=function(){var t=this.options,e=this.options.link,i=this.getLabelText(t);return{stroke:{width:t.link.width,color:e.color||t.color,opacity:w(e.opacity)?e.opacity:t.opacity},role:"graphics-symbol",ariaRoleDescription:"Link",ariaLabel:i}},r.prototype.createFocusHighlight=function(){if(this.options.navigatable){var t=this.options,e=t.link,i=e.x0,a=e.x1,s=e.y0,l=e.y1,p=(i+a)/2,h=e.width/2,c=BS(e,this.options.rtl);this._highlight=new O({stroke:this.options.focusHighlight.border,visible:!1}).moveTo(i,s+h).lineTo(i,s-h).curveTo([p+c,s-h],[p+c,l-h],[a,l-h]).lineTo(a,l+h).curveTo([p-c,l+h],[p-c,s+h],[i,s+h])}},r.prototype.focus=function(t){if(this._highlight){var e=t||{},i=e.highlight;i===void 0&&(i=!0),i&&this._highlight.options.set("visible",!0);var a=this.options.link.sourceId+"->"+this.options.link.targetId;this.visual.options.set("id",a),this.options.root()&&this.options.root().setAttribute(Fi,a)}},r.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(Fi))},r}(En),jS=function(n,r,o,t){var e=_({},r,{link:n,opacity:n.opacity,color:n.color,colorType:n.colorType,visual:n.visual,highlight:n.highlight});return e.colorType==="source"?e.color=o.options.fill.color:e.colorType==="target"&&(e.color=t.options.fill.color),e},ua="inside",Si="before",ea="after",Xl=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=_({},this.options,this.options.node.label),e=t.node,i=t.diagramMinX,a=t.diagramMaxX,s=t.text,l=t.offset,p=t.rtl,h=t.position;if(p&&h!==ua&&(h=h===Si?ea:Si),!t.visible||!s)return null;var c=new P(e.x0,e.y0,e.x1,e.y1),u=this.visualOptions();p&&!u.align&&(u.align="right");var v=new Qt(s,u);v.reflow(new P);var f=v.box,d=c.center().y-f.height()/2,g=e.x1+f.width()>a,y=e.x0-f.width()<i,m=h===Si||h===ua&&g?Si:ea;p&&(m=h===ea||h===ua&&y?ea:Si);var x=[m===Si?e.x0-f.width():e.x1,d],b=new P(x[0],x[1],x[0]+f.width(),x[1]+f.height());return b.translate(l.left||0,l.top||0),v.reflow(b),v.renderVisual(),v.visual},r.prototype.visualOptions=function(){var t=_({},this.options,this.options.node.label);return{color:t.color,font:t.font,border:t.border,margin:t.margin,padding:t.padding,align:t.align,paintOrder:t.paintOrder,stroke:t.stroke}},r}(En);S(Xl,{position:ua});var xv=function(n,r,o,t,e){return _({},r,{node:n,diagramMinX:t,diagramMaxX:e,rtl:o,visual:n.label.visual,visible:n.label.visible,margin:n.label.margin,padding:n.label.padding,border:n.label.border,align:n.label.align,offset:n.label.offset})},ql=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=this.options,e=t.drawingRect,i=t.text;if(t.visible===!1||!i)return null;var a=Di.buildTitle(i,t);return a.reflow(e),a.renderVisual(),a.visual},r.prototype.createElement=function(){return this.getElement()},r}(En);S(ql,{align:N,border:{width:0},margin:J(5),padding:J(5)});var NS=function(n,r){return n.node.x0-r.node.x0!==0?n.node.x0-r.node.x0:n.node.y0-r.node.y0},$S=function(n,r){return n.node.x1-r.node.x1!==0?n.node.x1-r.node.x1:r.node.y0-n.node.y0},HS=function(n){return n?$S:NS},va=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.getElement=function(){var t=this.options,e=t.drawingRect,i=t.rtl,a=t.nodes;a===void 0&&(a=[]);var s=t.item,l=t.position;if(t.visible===!1||!a.length)return null;var p=a.map(function(u){return{text:u.label&&u.label.text||"",area:{background:s.areaBackground!==void 0?s.areaBackground:u.color,opacity:s.areaOpacity!==void 0?s.areaOpacity:u.opacity},node:u}});p.sort(HS(i));var h=i&&l!==U&&l!==Z,c=new th(Object.assign({},t,{data:p,reverse:h}),{rtl:i});return c.reflow(e),c.renderVisual(),c.visual},r.prototype.createElement=function(){return this.getElement()},r}(En);S(va,{markers:{visible:!1},item:{type:lr,cursor:gl,opacity:1},position:Y,align:N,accessibility:{role:"presentation",ariaLabel:null,ariaRoleDescription:null},border:{width:0}});var Ro="link",ki="node",US=function(n){var r=n.nodes,o=n.links,t=Math.min.apply(Math,r.map(function(a){return a.x0})),e=Math.max.apply(Math,r.map(function(a){return a.x1})),i=e-t;r.forEach(function(a){var s=i-(a.x1-2*t),l=i-(a.x0-2*t);a.x0=s,a.x1=l}),o.forEach(function(a){var s=i-(a.x1-2*t),l=i-(a.x0-2*t);a.x1=s,a.x0=l})},GS=function(n){function r(o,t,e){n.call(this),this._initTheme(e),this._setOptions(t),this._initElement(o),this._initSurface(),t&&t.data&&(this._redraw(),this._initResizeObserver(),this._initNavigation(o))}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.destroy=function(){this.unbind(),this._destroySurface(),this._destroyResizeObserver(),this.element&&(this.element.removeEventListener("keydown",this._keydownHandler),this.element.removeEventListener("focus",this._focusHandler),this.element.removeEventListener("mousedown",this._onDownHandler),this.element.removeEventListener("touchstart",this._onDownHandler),this.element.removeEventListener("pointerdown",this._onDownHandler)),this._focusState=null,this.element=null},r.prototype._initElement=function(t){this.element=t,ft(t,["k-chart","k-sankey"]),t.setAttribute("role","graphics-document");var e=this.options,i=e.title;i.text&&t.setAttribute("aria-label",i.text),i.description&&t.setAttribute("aria-roledescription",i.description)},r.prototype._initSurface=function(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},r.prototype._initNavigation=function(t){t.tabIndex=t.getAttribute("tabindex")||0,!this.options.disableKeyboardNavigation&&(this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._onDownHandler=this._onDown.bind(this),t.addEventListener("keydown",this._keydownHandler),t.addEventListener("focus",this._focusHandler),t.addEventListener("blur",this._blurHandler),t.addEventListener("mousedown",this._onDownHandler),t.addEventListener("touchstart",this._onDownHandler),t.addEventListener("pointerdown",this._onDownHandler),this._focusState={node:this.firstFocusableNode(),link:null})},r.prototype.firstFocusableNode=function(){return this.columns[0][0]},r.prototype._initResizeObserver=function(){var t=this,e=new ResizeObserver(function(i){i.forEach(function(a){var s=a.contentRect,l=s.width,p=s.height;a.target!==t.element||t.size&&t.size.width===l&&t.size.height===p||(t.size={width:l,height:p},t.surface.setSize(t.size),t.resize=!0,t._redraw())})});this._resizeObserver=e,e.observe(this.element)},r.prototype._createSurface=function(){return to.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this),mousemove:this._mousemove.bind(this),click:this._click.bind(this)})},r.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=_({},e,this.options)},r.prototype.setLinksOpacity=function(t){var e=this;this.linksVisuals.forEach(function(i){e.setOpacity(i,t,i.linkOptions.opacity)})},r.prototype.setLinksInactivityOpacity=function(t){var e=this;this.linksVisuals.forEach(function(i){e.setOpacity(i,t,i.linkOptions.highlight.inactiveOpacity)})},r.prototype.setOpacity=function(t,e,i){t.options.set("stroke",Object.assign({},t.options.stroke,{opacity:w(i)?i:e}))},r.prototype.trigger=function(t,e){var i=e.element.dataItem,a=e.element.type,s=Object.assign({},e,{type:t,targetType:a,dataItem:i});return n.prototype.trigger.call(this,t,s)},r.prototype._mouseenter=function(t){var e=t.element,i=e.type===Ro,a=e.type===ki,s=!!(e.chartElement&&e.chartElement.options.node);if(!(i&&this.trigger("linkEnter",t)||a&&this.trigger("nodeEnter",t))){var l=this.options.links,p=l.highlight;if(i)this.setLinksInactivityOpacity(p.inactiveOpacity),this.setOpacity(e,p.opacity,e.linkOptions.highlight.opacity);else if(a)this.highlightLinks(e,p);else if(s){var h=this.nodesVisuals.get(e.chartElement.options.node.id);this.highlightLinks(h,p)}}},r.prototype._mouseleave=function(t){var e=this,i=t.element,a=i.type===Ro,s=i.type===ki,l=!!(i.chartElement&&i.chartElement.options.node),p=t.originalEvent.relatedTarget;a&&p&&p.nodeName==="text"||((a||s)&&(this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null),this.tooltipShown=!1,this.trigger("tooltipHide",t)),!(a&&this.trigger("linkLeave",t)||s&&this.trigger("nodeLeave",t))&&(a||s||l)&&this.linksVisuals.forEach(function(h){e.setOpacity(h,e.options.links.opacity,h.linkOptions.opacity)}))},r.prototype._mousemove=function(t){var e=this,i=this.options.tooltip,a=i.followPointer,s=i.delay,l=t.element,p=l.type;if(!(p!==Ro&&p!==ki||this.tooltipShown&&!a)){var h=t.originalEvent,c=this.element.getBoundingClientRect(),u=h.clientX-c.left<c.width/2,v=h.clientY-c.top<c.height/2;if(t.tooltipData={popupOffset:{left:h.pageX,top:h.pageY},popupAlign:{horizontal:u?"left":"right",vertical:v?"top":"bottom"}},p===ki){var f=l.dataItem,d=f.sourceLinks,g=f.targetLinks,y=g.length?g:d;t.nodeValue=y.reduce(function(x,b){return x+b.value},0)}this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null);var m=a&&this.tooltipShown?0:s;this.tooltipTimeOut=setTimeout(function(){e.trigger("tooltipShow",t),e.tooltipShown=!0,e.tooltipTimeOut=null},m)}},r.prototype._click=function(t){var e=t.element,i=e.dataItem,a=e.type===Ro,s=e.type===ki,l=this._focusState||{};if(s){var p=!l.link&&this.sameNode(l.node,i);p||(this._focusState={node:i,link:null},this._focusNode({highlight:!1})),this.trigger("nodeClick",t)}else if(a){var h={sourceId:i.source.id,targetId:i.target.id,value:i.value},c=this.sameLink(l.link,h);c||(this._focusState={node:i.source,link:h},this._focusLink({highlight:!1})),this.trigger("linkClick",t)}},r.prototype.sameNode=function(t,e){return t&&e&&t.id===e.id},r.prototype.sameLink=function(t,e){return t&&e&&t.sourceId===e.sourceId&&t.targetId===e.targetId},r.prototype._focusNode=function(t){this._cleanFocusHighlight();var e=this._focusState.node,i=this.models.map.get(e.id);i.focus(t)},r.prototype._focusLink=function(t){this._cleanFocusHighlight();var e=this._focusState.link,i=this.models.map.get(e.sourceId+"-"+e.targetId);i.focus(t)},r.prototype._focusNextNode=function(t){t===void 0&&(t=1);var e=this._focusState.node,i=this.columns.findIndex(function(p){return p.find(function(h){return h.id===e.id})}),a=this.columns[i],s=a.findIndex(function(p){return p.id===e.id}),l=a[s+t];l&&(this._focusState.node=l,this._focusNode())},r.prototype._focusNextLink=function(t){t===void 0&&(t=1);var e=this._focusState.node,i=this._focusState.link,a=e.sourceLinks.findIndex(function(h){return h.sourceId===i.sourceId&&h.targetId===i.targetId}),s=e.targetLinks.findIndex(function(h){return h.sourceId===i.sourceId&&h.targetId===i.targetId});if(a!==-1){var l=e.sourceLinks[a+t];l&&(this._focusState.link=l,this._focusLink())}else if(s!==-1){var p=e.targetLinks[s+t];p&&(this._focusState.link=p,this._focusLink())}},r.prototype._focusSourceNode=function(){var t=this._focusState.link,e=this.models.map.get(t.sourceId);this._focusState={node:e.options.node,link:null},this._focusNode()},r.prototype._focusTargetNode=function(){var t=this._focusState.link,e=this.models.map.get(t.targetId);this._focusState={node:e.options.node,link:null},this._focusNode()},r.prototype._focusSourceLink=function(){var t=this._focusState.node,e=t.sourceLinks,i=e[0];i&&(this._focusState.link=i,this._focusLink())},r.prototype._focusTargetLink=function(){var t=this._focusState.node,e=t.targetLinks,i=e[0];i&&(this._focusState.link=i,this._focusLink())},r.prototype._focus=function(){this._skipFocusHighlight||(this._focusState.link?this._focusLink():this._focusNode()),this._skipFocusHighlight=!1},r.prototype._blur=function(){this._cleanFocusHighlight()},r.prototype._onDown=function(){this._hasFocus()||(this._skipFocusHighlight=!0)},r.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},r.prototype._cleanFocusHighlight=function(){this.models.nodes.forEach(function(t){return t.blur()}),this.models.links.forEach(function(t){return t.blur()})},r.prototype._keydown=function(t){var e=this["on"+t.key],i=this.options.rtl;i&&t.key==="ArrowLeft"?e=this.onArrowRight:i&&t.key==="ArrowRight"&&(e=this.onArrowLeft),e&&e.call(this,t)},r.prototype.onEscape=function(t){t.preventDefault(),this._focusState={node:this.firstFocusableNode(),link:null},this._focusNode()},r.prototype.onArrowDown=function(t){t.preventDefault(),this._focusState.link?this._focusNextLink(1):this._focusNextNode(1)},r.prototype.onArrowUp=function(t){t.preventDefault(),this._focusState.link?this._focusNextLink(-1):this._focusNextNode(-1)},r.prototype.onArrowLeft=function(t){t.preventDefault(),this._focusState.link?this._focusSourceNode():this._focusTargetLink()},r.prototype.onArrowRight=function(t){t.preventDefault(),this._focusState.link?this._focusTargetNode():this._focusSourceLink()},r.prototype.highlightLinks=function(t,e){var i=this;t&&(this.setLinksInactivityOpacity(e.inactiveOpacity),t.links.forEach(function(a){i.setOpacity(a,e.opacity,a.linkOptions.highlight.opacity)}))},r.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},r.prototype._destroyResizeObserver=function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},r.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))},r.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},r.prototype.setOptions=function(t,e){this._setOptions(t),this._initTheme(e),this._initSurface(),this._redraw()},r.prototype._redraw=function(){this.surface.clear();var t=this._getSize(),e=t.width,i=t.height;this.size={width:e,height:i},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)},r.prototype._getSize=function(){return this.element.getBoundingClientRect()},r.prototype.createVisual=function(){this.visual=this._render()},r.prototype.titleBox=function(t,e){if(!t||t.visible===!1||!t.text)return null;var i=new ql(Object.assign({},{drawingRect:e},t)),a=i.exportVisual();return a.chartElement.box},r.prototype.legendBox=function(t,e,i){if(!t||t.visible===!1)return null;var a=new va(Object.assign({},{nodes:e},t,{drawingRect:i})),s=a.exportVisual();return s.chartElement.box},r.prototype.calculateSankey=function(t,e){var i=e.title,a=e.legend,s=e.data,l=e.nodes,p=e.labels,h=e.nodeColors,c=e.disableAutoLayout,u=e.disableKeyboardNavigation,v=e.rtl,f=!c,d=((l.focusHighlight||{}).border||{}).width||0,g=u?0:d/2,y=new P(0,0,t.width,t.height);y.unpad(g);var m=this.titleBox(i,y),x=y.clone();if(m){var b=m.height();i.position===G?(y.unpad({top:b}),x=new P(0,b,t.width,t.height)):(y.shrink(0,b),x=new P(0,0,t.width,t.height-b))}var A=this.legendBox(a,s.nodes,x),k=a&&a.position||va.prototype.options.position;A&&(k===U&&y.unpad({left:A.width()}),k===Z&&y.shrink(A.width(),0),k===G&&y.unpad({top:A.height()}),k===Y&&y.shrink(0,A.height()));var C=Ai(Object.assign({},t,{offsetX:0,offsetY:0,width:y.width(),height:y.height()})),I=C.nodes,$=C.circularLinks;if($)return console.warn("Circular links detected. Kendo Sankey diagram does not support circular links."),{sankey:{nodes:[],links:[],columns:[[]],circularLinks:$},legendBox:A,titleBox:m};var B=new P,D=I.reduce(function(et,yt){return Math.min(et,yt.x0)},1/0),K=I.reduce(function(et,yt){return Math.max(et,yt.x1)},0);I.forEach(function(et,yt){if(v){var Jt=et.x0,Ot=et.x1;et.x0=K-Ot,et.x1=K-Jt}var _r=_v(et,l,h,yt),Ge=new mv(_r);B.wrap($i(Ge.exportVisual().rawBBox()));var py=new Xl(xv(et,p,v,D,K)),Ih=py.exportVisual();Ih&&B.wrap($i(Ih.rawBBox()))});var pt=y.x1,gt=y.y1,ht=y.width()+pt,St=y.height()+gt;if(ht-=B.x2>y.width()?B.x2-y.width():0,St-=B.y2>y.height()?B.y2-y.height():0,pt+=B.x1<0?-B.x1:0,gt+=B.y1<0?-B.y1:0,f===!1)return{sankey:Ai(Object.assign({},t,{offsetX:pt,offsetY:gt,width:ht,height:St,autoLayout:!1})),legendBox:A,titleBox:m};if(this.resize&&f&&this.permutation)return this.resize=!1,{sankey:Ai(Object.assign({},t,{offsetX:pt,offsetY:gt,width:ht,height:St},this.permutation)),legendBox:A,titleBox:m};for(var se=1,mr=2,Ao=Ai(Object.assign({},t,{offsetX:pt,offsetY:gt,width:ht,height:St,autoLayout:!1})).columns.length,qr=[],Dn=function(et,yt){var Jt=Ai(Object.assign({},t,{offsetX:pt,offsetY:gt,width:ht,height:St,loops:mr,targetColumnIndex:et,reverse:yt})),Ot=LS(Jt.links);return qr.push({crosses:Ot,reverse:yt,targetColumnIndex:et}),Ot===0},bi=se;bi<=Ao-1&&!(Dn(bi,!1)||Dn(bi,!0));bi++);var So=Math.min.apply(null,qr.map(function(et){return et.crosses})),vt=qr.find(function(et){return et.crosses===So});this.permutation={targetColumnIndex:vt.targetColumnIndex,reverse:vt.reverse};var Mt=Ai(Object.assign({},t,{offsetX:pt,offsetY:gt,width:ht,height:St},this.permutation));return{sankey:Mt,legendBox:A,titleBox:m}},r.prototype._render=function(t,e){var i=t||this.options,a=e||this,s=i.labels,l=i.nodes,p=i.links,h=i.nodeColors,c=i.title,u=i.legend,v=i.rtl,f=i.disableKeyboardNavigation,d=i.data,g=a.size,y=g.width,m=g.height,x=Object.assign({},d,{width:y,height:m,nodesOptions:l,title:c,legend:u}),b=this.calculateSankey(x,i),A=b.sankey,k=b.titleBox,C=b.legendBox;v&&US(A);var I=A.nodes,$=A.links,B=A.columns;a.columns=B.map(function(vt){var Mt=vt.slice();return Mt.sort(function(et,yt){return et.y0-yt.y0}),Mt});var D=new Q({clip:O.fromRect(new X([0,0],[y,m]))});if(k){var K=new ql(Object.assign({},c,{drawingRect:k})),pt=K.exportVisual();D.append(pt)}if(A.circularLinks)return D;var gt=new Map;a.nodesVisuals=gt;var ht={nodes:[],links:[],map:new Map};a.models=ht;var St=[];I.forEach(function(vt,Mt){var et=_v(vt,l,h,Mt);et.root=function(){return a.element},et.navigatable=f!==!0;var yt=new mv(et),Jt=yt.exportVisual();Jt.links=[],Jt.type=ki,vt.color=et.color,vt.opacity=et.opacity,Jt.dataItem=Object.assign({},d.nodes[Mt],{color:et.color,opacity:et.opacity,sourceLinks:vt.sourceLinks.map(function(Ot){return{sourceId:Ot.sourceId,targetId:Ot.targetId,value:Ot.value}}),targetLinks:vt.targetLinks.map(function(Ot){return{sourceId:Ot.sourceId,targetId:Ot.targetId,value:Ot.value}})}),gt.set(vt.id,Jt),ht.nodes.push(yt),ht.map.set(vt.id,yt),D.append(Jt),yt.createFocusHighlight(),yt._highlight&&St.push(yt._highlight)});var se=$.slice().sort(function(vt,Mt){return Mt.value-vt.value}),mr=[];a.linksVisuals=mr,se.forEach(function(vt){var Mt=vt.source,et=vt.target,yt=gt.get(Mt.id),Jt=gt.get(et.id),Ot=jS(vt,p,yt,Jt);Ot.root=function(){return a.element},Ot.navigatable=f!==!0,Ot.rtl=v;var _r=new FS(Ot),Ge=_r.exportVisual();Ge.type=Ro,Ge.dataItem={source:Object.assign({},yt.dataItem),target:Object.assign({},Jt.dataItem),value:vt.value},Ge.linkOptions=Ot,mr.push(Ge),yt.links.push(Ge),Jt.links.push(Ge),ht.links.push(_r),ht.map.set(Mt.id+"-"+et.id,_r),_r.createFocusHighlight(),_r._highlight&&St.push(_r._highlight),D.append(Ge)});var Ao=I.reduce(function(vt,Mt){return Math.min(vt,Mt.x0)},1/0),qr=I.reduce(function(vt,Mt){return Math.max(vt,Mt.x1)},0);if(I.forEach(function(vt){var Mt=xv(vt,s,v,Ao,qr),et=new Xl(Mt),yt=et.exportVisual();yt&&D.append(yt)}),C){var Dn=new va(Object.assign({},u,{rtl:v,drawingRect:C,nodes:I})),bi=Dn.exportVisual();D.append(bi)}if(St.length!==0){var So=new Q;So.append.apply(So,St),D.append(So)}return D},r.prototype.exportVisual=function(t){var e=t&&t.options?_({},this.options,t.options):this.options,i={size:{width:w(t&&t.width)?t.width:this.size.width,height:w(t&&t.height)?t.height:this.size.height}};return this._render(e,i)},r.prototype._setOptions=function(t){this.options=_({},this.options,t)},r}(xe),bv={opacity:1,width:2,color:dt};S(GS,{title:{position:G},labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},paintOrder:"stroke",stroke:{lineJoin:"round",width:1},offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,align:"stretch",offset:{left:0,top:0},focusHighlight:{border:Object.assign({},bv)},labels:{ariaTemplate:function(n){var r=n.node;return r.label.text}}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2},focusHighlight:{border:Object.assign({},bv)},labels:{ariaTemplate:function(n){var r=n.link;return r.source.label.text+" to "+r.target.label.text}}},tooltip:{followPointer:!1,delay:200}});var WS=[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}];WS[0].value;var Ln=1.5,bo=.4,iy="#000",Rh="Arial, Helvetica, sans-serif",XS="11px "+Rh,Ds="12px "+Rh,oy="16px "+Rh,ny="transparent",ay="#fff",wo={type:pr},Vs={type:lr},jt=Object.assign({},Vs,{markers:{visible:!1},highlight:{visible:!1}}),sy=function(){return{icon:{border:{width:1}},label:{font:Ds,padding:3},line:{length:10,width:2},legendItem:jt,visible:!0}},qS=function(){return{labels:{font:Ds},notes:sy(),title:{font:oy,margin:5}}},wv=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Vs,opacity:.4}},Av=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Vs,opacity:.4}},YS=function(){return{gap:Ln,spacing:bo,legendItem:jt}},Sv=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:ay,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2},legendItem:jt}},ZS=function(){return{border:{width:0},labels:{background:ny},legendItem:jt,opacity:.6}},kv=function(){return{gap:Ln,spacing:bo,target:{color:"#ff0000"},legendItem:jt}},KS=function(){return{border:{_brightness:.8,width:1},downColor:ay,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:iy,width:1},legendItem:jt,spacing:.3}},QS=function(){return{gap:Ln,spacing:bo,legendItem:jt}},JS=function(){return{legendItem:jt}},tk=function(){return{legendItem:wo}},ek=function(){return{legendItem:wo}},rk=function(){return{margin:1,legendItem:jt}},Tv=function(){return{width:2,legendItem:wo}},ik=function(){return{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},legendItem:jt,spacing:.3}},Cv=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Vs,opacity:.5}},Pv=function(){return{markers:{visible:!1},legendItem:wo,width:2}},ok=function(){return{gap:Ln,spacing:bo,legendItem:jt}},nk=function(){return{gap:Ln,spacing:bo,legendItem:jt}},ak=function(){return{width:1,legendItem:wo}},Mv=function(){return{gap:.5,line:{color:iy,width:1},legendItem:jt,spacing:bo}},sk=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:jt}},ly=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:jt}},lk=ly,pk=function(){return{labels:{color:"",background:ny,visible:!0},highlight:{border:{width:0}},legendItem:jt}},Ti=function(n){return Object.assign({color:bf,trendline:{},markers:{visible:!1},width:1,dashType:"longDash",legendItem:wo},n)},hk=function(n){return{visible:!0,labels:{font:XS},overlay:n.gradients?{}:{gradient:"none"},area:wv(),rangeArea:Av(),verticalRangeArea:Av(),bar:YS(),boxPlot:Sv(),bubble:ZS(),bullet:kv(),candlestick:KS(),column:QS(),heatmap:pk(),pie:sk(),donut:rk(),funnel:ly(),pyramid:lk(),horizontalWaterfall:Mv(),line:Tv(),notes:sy(),ohlc:ik(),radarArea:Cv(),radarLine:Pv(),radarColumn:JS(),polarArea:Cv(),polarLine:Pv(),polarScatter:tk(),rangeBar:ok(),rangeColumn:nk(),scatter:ek(),scatterLine:ak(),verticalArea:wv(),verticalBoxPlot:Sv(),verticalBullet:kv(),verticalLine:Tv(),waterfall:Mv(),linearTrendline:Ti(),exponentialTrendline:Ti({style:"smooth"}),logarithmicTrendline:Ti({style:"smooth"}),polynomialTrendline:Ti({style:"smooth"}),powerTrendline:Ti({style:"smooth"}),movingAverageTrendline:Ti()}},ck=function(){return{font:oy}},uk=function(){return{font:Ds}},vk=function(){return{labels:{font:Ds}}},Ak=function(n){return n===void 0&&(n={}),{axisDefaults:qS(),categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:hk(n),title:ck(),subtitle:uk(),legend:vk()}},fk=30,Ov="--kendo-chart-series-",In=function(n){return n.ownerDocument.defaultView.getComputedStyle(n)},pl={},dk=function(n,r){if(pl[n])return pl[n];var o=r.style.color;r.style.color=n;var t=In(r).color;return r.style.color=o,pl[n]=t,t},Nt=function(n,r){var o=In(n).getPropertyValue(r);return/^color-mix/i.test(o)&&(o=dk(o,n)),o},hl=function(n,r){return parseFloat(In(n).getPropertyValue(r))},zs=function(n,r,o,t){var e=In(n);return[e.getPropertyValue(r),e.getPropertyValue(o),e.getPropertyValue(t)||e.fontFamily].join(" ")},gk=function(n){for(var r=In(n),o=[],t=1,e=r.getPropertyValue(""+Ov+t);e||t<=fk;)o.push(e),t++,e=r.getPropertyValue(""+Ov+t);return o},Eh=function(n){return zs(n,"--kendo-font-weight","--kendo-chart-font-size","--kendo-font-family")},Rv=function(n){return zs(n,"--kendo-chart-pane-title-font-weight","--kendo-chart-pane-title-font-size","--kendo-font-family")},Lh=function(n){return Nt(n,"--kendo-chart-text")},yk=function(n){return{color:Lh(n),font:zs(n,"--kendo-font-weight","--kendo-chart-title-font-size","--kendo-font-family")}},mk=function(n){var r=Lh(n);return{labels:{color:r,font:Eh(n)},title:{color:r}}},_k=function(n){var r=Nt(n,"--kendo-chart-inactive");return Object.assign({},{inactiveItems:{labels:{color:r},markers:{color:r}}},mk(n))},Sk=function(n){var r=Lh(n);return{pointer:{color:Nt(n,"--kendo-chart-gauge-pointer")},scale:{labels:{color:r},rangePlaceholderColor:Nt(n,"--kendo-chart-gauge-track"),minorTicks:{color:r},majorTicks:{color:r},line:{color:r}}}},xk=function(n){return{icon:{background:Nt(n,"--kendo-chart-notes-bg"),border:{color:Nt(n,"--kendo-chart-notes-border")}},line:{color:Nt(n,"--kendo-chart-notes-lines")},label:{font:Eh(n)}}},kk=function(n){var r=Nt(n,"--kendo-chart-major-lines"),o=Nt(n,"--kendo-chart-text"),t=zs(n,"--kendo-font-weight","--kendo-chart-label-font-size","--kendo-font-family"),e=Nt(n,"--kendo-chart-bg"),i=xk(n),a=hl(n,"--kendo-chart-area-opacity"),s=Nt(n,"--kendo-color-surface"),l=Nt(n,"--kendo-chart-primary-bg"),p=function(){return{downColor:r,mean:{color:s},median:{color:s},whiskers:{color:l}}},h=function(){return{line:{color:r}}},c=function(){return{opacity:a,highlight:{inactiveOpacity:hl(n,"--kendo-chart-area-inactive-opacity")}}},u=function(){return{highlight:{inactiveOpacity:hl(n,"--kendo-chart-line-inactive-opacity")}}},v=function(){return{target:{color:o}}};return{axisDefaults:{crosshair:{color:Nt(n,"--kendo-chart-crosshair-bg")},labels:{color:o,font:t},line:{color:r},majorGridLines:{color:r},minorGridLines:{color:Nt(n,"--kendo-chart-minor-lines")},notes:structuredClone(i),title:{color:o,font:Eh(n)}},chartArea:{background:e},legend:_k(n),seriesColors:gk(n),seriesDefaults:{area:c(),verticalArea:c(),radarArea:c(),boxPlot:p(),verticalBoxPlot:p(),bullet:v(),verticalBullet:v(),horizontalWaterfall:h(),waterfall:h(),line:u(),verticalLine:u(),candlestick:{downColor:o,line:{color:o}},errorBars:{color:Nt(n,"--kendo-chart-error-bars-bg")},icon:{border:{color:r}},labels:{background:e,color:o,font:t,opacity:a},notes:structuredClone(i)},subtitle:{color:o,font:Rv(n)},title:yk(n),paneDefaults:{title:{font:Rv(n)}}}};export{Rr as A,bk as B,re as C,Q as G,mm as I,ep as L,zt as M,O as P,X as R,Bw as S,af as T,t_ as a,Jm as b,da as c,sf as d,wk as e,Bt as f,ky as g,es as h,by as i,Sk as j,l0 as k,Ak as l,Ty as m,kk as n,_ as o,Ja as p,Yo as q,ch as r,zi as s,at as t};
