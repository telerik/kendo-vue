import{b6 as ct,d as P,W as ge,B as g,X as xe,G as te,J as z,h as U,D as Ct,a3 as ve,K as ie,V as K,ab as ee,aD as Ce,b9 as at,ba as st,ak as H,P as _t,O as X,I as Q,Q as Qe,a2 as me,a6 as It,L as Fe,au as Rt,ao as xt,ap as Et,a0 as pt,r as He,N as Me,$ as _e,bb as nt,a5 as Tt,as as Nt}from"./CjUofVXh.js";const ze=e=>e?new Date(e.getTime()):null;function na(e){const t={};return mt(e,t),t}function mt(e,t){for(const i in e)if(!(i==="__proto__"||i==="constructor"||i==="prototype")&&e.hasOwnProperty(i)){const a=e[i];t[i]=gt(a,t[i])}}function gt(e,t){if(Array.isArray(e))return At(e);if(e instanceof Date)return ze(e);if(e&&ct(e)){const i=t||{};return mt(e,i),i}else return e}function At(e){return e.map(t=>gt(t,void 0))}var m=function(e){return e?new Date(e.getTime()):null},fe=function(e,t){var i=m(e);return t===0&&i.getHours()===23&&i.setHours(i.getHours()+2),i},N=function(e,t){var i=m(e);return i.setDate(i.getDate()+t),fe(i,e.getHours())},L=function(e,t,i,a,s,n,r){a===void 0&&(a=0),s===void 0&&(s=0),n===void 0&&(n=0),r===void 0&&(r=0);var o=new Date(e,t,i,a,s,n,r);return e>-1&&e<100&&o.setFullYear(o.getFullYear()-1900),fe(o,a)},Z=function(e){var t=L(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return N(t,-1)},Oe=12,Ot=function(e,t){return e.getMonth()!==t?Z(_(e,-1)):e},_=function(e,t){var i=m(e),a=(i.getMonth()+t)%Oe,s=(Oe+a)%Oe;return i.setMonth(i.getMonth()+t),Ot(fe(i,e.getHours()),s)},vt=function(e,t){var i=e.getMonth(),a=L(t,i,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return a.getMonth()===i?a:Z(_(a,-1))},x=function(e,t){return fe(vt(e,e.getFullYear()+t),e.getHours())},de=function(e,t){return x(e,100*t)},T=function(e,t){return x(e,10*t)},rt=function(e,t){return N(e,t*7)},Lt=864e5,Ie;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ie||(Ie={}));var ft=function(e,t,i){i===void 0&&(i=Ie.Forward);var a=m(e),s=(t-a.getDay()+7*i)%7;return a.setDate(a.getDate()+s),fe(a,e.getHours())},Re;(function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"})(Re||(Re={}));var Ee=function(e,t){return vt(e,t(e.getFullYear()))},ae=function(e){return Ee(e,function(t){return t-t%100})},ye=function(e,t){return(ae(t).getFullYear()-ae(e).getFullYear())/100},R=function(e){return Ee(e,function(t){return t-t%10})},be=function(e,t){return(R(t).getFullYear()-R(e).getFullYear())/10},De=function(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())},Se=function(e,t){return t.getFullYear()-e.getFullYear()},Ue=function(e){return L(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},$t=function(e,t){var i=e.getDate(),a=L(e.getFullYear(),t,i,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return a.getDate()===i?a:Z(_(a,-1))},wt=function(e){return $t(e,0)},b=function(e){return L(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},et=function(e,t){return!e&&!t?!0:e&&t&&e.getTime()===t.getTime()},le=function(e,t){return!e&&!t?!0:e&&t&&et(b(e),b(t))},Ke=function(e){return Ee(e,function(t){return t-t%100+90})},kt=function(e){return $t(e,11)},Ze=function(e){return Ee(e,function(t){return t-t%10+9})},Yt=function(e,t){return ft(e,t,Ie.Backward)},qt=function(e,t){return t!==Re.Monday?N(Yt(e,t),4):N(e,4-(e.getDay()||7))},Le=function(e,t){var i=L(e.getFullYear(),0,1,-6),a=qt(e,t),s=a.getTime()-i.getTime(),n=Math.floor(s/Lt);return 1+Math.floor(n/7)},Bt=function(e,t){t===void 0&&(t=Re.Monday),e=b(e);var i=N(e,-7),a=N(e,7),s=Le(e,t);return s===0?Le(i,t)+1:s===53&&Le(a,t)>1?1:s};const tt={name:"@progress/kendo-vue-dateinputs",productName:"Kendo UI for Vue",productCode:"KENDOUIVUE",productCodes:["KENDOUIVUE"],publishDate:1763478552,version:"7.0.2",licensingDocsUrl:"https://www.telerik.com/kendo-vue-ui/my-license/?utm_medium=product&utm_source=kendovue&utm_campaign=kendo-ui-vue-purchase-license-keys-warning"};const Pt=P({name:"KendoCalendarCell",emits:{click:e=>!0,mousedown:e=>!0,mouseenter:e=>!0,mouseleave:e=>!0},props:{isDisabled:Boolean,view:Number,formattedValue:String,id:String,isWeekend:Boolean,isFocused:Boolean,isSelected:Boolean,isInRange:Boolean,isRangeStart:Boolean,isRangeEnd:Boolean,isRangeMid:Boolean,isRangeSplitEnd:Boolean,isRangeSplitStart:Boolean,isToday:Boolean,title:String,value:Date},updated(){},render(){const e=ge(this),{formattedValue:t,isWeekend:i,isFocused:a,isInRange:s,isSelected:n,isRangeStart:r,isRangeMid:o,isRangeEnd:l,isRangeSplitStart:u,isRangeSplitEnd:c,isToday:$,isDisabled:w,view:D,value:C}=this.$props,y=this.$props.activeRangeEnd==="end"&&l,F=this.$props.activeRangeEnd==="start"&&r;return g("td",{id:this.$props.id,title:this.$props.title,class:{"k-calendar-td":!0,"k-range-end":l,"k-range-mid":o,"k-range-split-end":c,"k-range-split-start":u,"k-range-start":r,"k-active":F||y,"k-focus":a,"k-selected":n||r||l,"k-today":$,"k-weekend":i,"k-disabled":w},onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave},[g("span",{class:"k-link"},[e])])},methods:{handleClick(e){const{value:t}=this.$props;this.$emit("click",t,e)},handleMouseDown(e){const{value:t}=this.$props;this.$emit("mousedown",t,e)},handleMouseEnter(){const{value:e}=this.$props;this.$emit("mouseenter",e)},handleMouseLeave(){const{value:e}=this.$props;this.$emit("mouseleave",e)}}});const jt=P({props:{id:String,value:Number,className:String},emits:{click:e=>!0},render(){const e=ge(this);return g("td",{onClick:this.handleClick,id:this.$props.id},[this.$props.value!==void 0?this.$props.value:e])},methods:{handleClick(e){const{value:t}=this.$props;this.$emit("click",t,e)}}});var k=(e=>(e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e))(k||{});const se={start:null,end:null};const lt=(e,t,i)=>t===void 0||i===void 0||t<=e&&e<=i?e:e<t?t:i,Ye=new Date(1980,0,1),yt=new Date(1900,0,1),it=new Date(2099,11,31),ce=(e,t)=>{const i=m(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},B=()=>b(new Date),I=(e,t,i)=>!e||!(t&&t>e||i&&i<e),Wt=(e,t,i)=>e===null||!(t&&b(t)>b(e)||i&&b(i)<b(e)),Te=(e,t)=>{const{start:i,end:a}=t||se;return!i||!a?!1:i<e&&e<a},E=(e,t,i=1)=>{const a=[];for(let s=e;s<t;s=s+i)a.push(s);return a},bt=(e,t)=>e.slice(t).concat(e.slice(0,t)),pe=(e,t,i)=>e&&(t&&e<t?m(t):i&&e>i?m(i):e),Y=e=>(t,i="",a={})=>{const s=document.createElement(e);return s.className=i,Object.keys(a).map(n=>s.style[n]=a[n]),typeof t=="string"?s.innerHTML=t||"":(t||[]).forEach(n=>n&&s.appendChild(n)),s};let Ht=class{constructor(t){this.intl=t}getWeekNames(t=!1){const i=bt(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return t?[""].concat(i):i}};function zt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const Ut=P({name:"KendoView",inject:{kendoIntlService:{default:null}},props:{activeRangeEnd:{type:String},activeView:{type:Number,required:!0},cell:[String,Function,Object],cellUID:{type:String,required:!0},direction:{type:String,default:"vertical"},isActive:{type:Boolean,default:void 0},focusedDate:{type:Date,required:!0},max:{type:Date,required:!0},min:{type:Date,required:!0},selectedDate:{type:[Date,Array,Object],default:function(){return B()}},selectionRange:Object,showWeekNumbers:{type:Boolean,default:!1},viewDate:{type:Date,required:!0},weekCell:[String,Function,Object],bus:Object,service:Object,onChange:Function,onWeekcellclick:Function,onCellenter:Function,onViewmousedown:Function},computed:{isHorizontal(){return this.$props.direction==="horizontal"},isMonthView(){return this.$props.activeView===k.month},weekNumber(){return!!(this.$props.showWeekNumbers&&this.$props.activeView===k.month)}},methods:{getWeekNumber(e){return this.weekNumber?Bt(e,this._intl.firstDay()):null},firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null},firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,i=e[t];for(;!i&&t<e.length;)i=e[++t];return i},handleClick(e,t){const i={value:m(e),target:this,event:t};this.$emit("change",i)},handleWeekCellClick(e,t){const i={value:e,event:t};this.$emit("weekcellclick",i)},handleMouseDown(e,t){const i={value:m(e),target:this,event:t};this.$emit("viewmousedown",i)},handleMouseEnter(e){this.$emit("cellenter",m(e))},handleMouseLeave(e){this.$emit("cellleave",m(e))}},setup(){return{kendoIntlService:te("kendoIntlService",{})}},render(){this._intl=xe(this),this._weekService=new Ht(this._intl);const e=o=>g("td",{key:o,class:"k-calendar-td k-empty"},[Ct("Â ")]),t=B(),i=this.$props.isActive?this.$props.focusedDate:null,a=ce(this.$props.viewDate,t),s=this.$props.service.data({cellUID:this.$props.cellUID,min:this.$props.min,max:this.$props.max,focusedDate:i,isActiveView:!this.$props.bus.canMoveDown(this.$props.activeView),selectedDate:this.$props.selectedDate,selectionRange:this.$props.selectionRange,viewDate:a}),n=function(o,l){if(!this.firstDate(o))return e(`week-cell-${l}`);const u=this.getWeekNumber(this.firstDate(o)),c=`kendo-vue-calendar-week-cell-${u}`,$=g(jt,{class:"k-calendar-td k-alt",value:u,onClick:this.handleWeekCellClick,key:c},zt(u)?u:{default:()=>[u]});return z.call(this,{h:U,template:this.$props.weekCell,defaultRendering:$,defaultSlots:u,additionalListeners:{click:this.handleWeekCellClick},additionalProps:{value:u,key:c}})},r=function(o){return o.map(function(l,u){if(!l)return e(u);const c=`kendo-vue-calendar-cell-${l.value.getTime()}`,$=g(Pt,{"aria-selected":l.isSelected,formattedValue:l.formattedValue,id:l.id,isFocused:l.isFocused,isSelected:l.isSelected,isInRange:l.isInRange,isWeekend:l.isWeekend,isRangeStart:l.isRangeStart,isRangeMid:l.isRangeMid,isRangeEnd:l.isRangeEnd,isRangeSplitStart:l.isRangeSplitStart,isRangeSplitEnd:l.isRangeSplitEnd,isToday:l.isToday,title:l.title,value:l.value,isDisabled:!l.isInRange,view:this.$props.activeView,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,key:c},{default:()=>[l.formattedValue]});return z.call(this,{h:U,template:this.$props.cell,defaultRendering:$,defaultSlots:l.formattedValue,additionalListeners:{click:this.handleClick,mousedown:this.handleMouseDown,mouseenter:this.handleMouseEnter,mouseleave:this.handleMouseLeave},additionalProps:{formattedValue:l.formattedValue,id:l.id,isFocused:l.isFocused,isSelected:l.isSelected,isInRange:l.isInRange,isWeekend:l.isWeekend,isRangeStart:l.isRangeStart,isRangeMid:l.isRangeMid,isRangeEnd:l.isRangeEnd,isRangeSplitStart:l.isRangeSplitStart,isRangeSplitEnd:l.isRangeSplitEnd,isToday:l.isToday,title:l.title,value:l.value,isDisabled:!l.isInRange,view:this.$props.activeView,key:c}})},this)};return g("tbody",{class:"k-calendar-tbody",role:"rowgroup"},[s.map(function(o,l){return g("tr",{class:"k-calendar-tr",role:"row",key:l},[this.weekNumber&&n.call(this,o,l),r.call(this,o)])},this)])}});const Kt=1,Zt=5,Gt=P({name:"KendoViewList",inheritAttrs:!1,inject:{kendoIntlService:{default:null}},props:{allowReverse:Boolean,hasFocusedDate:Boolean,activeView:{type:Number,required:!0},bottomOffset:{type:Number},cell:[String,Function,Object],cellUID:{type:String,required:!0},dates:Array,focusedDate:{type:Date,required:!0},isActive:{type:Boolean,default:void 0},max:{type:Date,required:!0},min:{type:Date,required:!0},selectionRange:Object,showWeekNumbers:{type:Boolean,default:!1},take:{type:Number,default:Zt},value:{type:[Date,Array,Object]},views:{type:Number,default:Kt},viewHeight:Number,viewOffset:Number,bus:Object,dom:Object,weekCell:[String,Function,Object],service:Object,tabIndex:Number,shouldScroll:Boolean,onChange:Function,onWeekcellclick:Function,onWeeknameclick:Function,onCellenter:Function,onViewmousedown:Function,onListfocus:Function,onListblur:Function,onListkeydown:Function,onListmousedown:Function},data:function(){return{lastViewsCount:0,valueHasUpdated:!1,shouldScrollValue:!1}},computed:{weekNames(){this._intl=xe(this);const e=bt(this._intl.dateFormatNames({nameType:"short",type:"days"}),this._intl.firstDay());return this.weekNumber?[""].concat(e):e},weekNumber(){return!!(this.$props.showWeekNumbers&&this.$props.activeView===k.month)}},created(){this.lastView=this.$props.activeView,this.lastFocus=this.$props.focusedDate,this.shouldScrollValue=this.$props.shouldScroll},updated(){this.shouldScrollValue=!1,this.lastView=this.$props.activeView,this.$data.lastViewsCount=this.$props.views,this.indexToScroll=void 0},methods:{handleFocus(e){this.$emit("listfocus",e)},handleBlur(e){this.$emit("listblur",e)},handleKeyDown(e){this.$emit("listkeydown",e)},handleVirtualizationMount(e){},calculateHeights(){if(!this.$props.dom)return;const e=this.$props.activeView===k.month?this.$props.dom.scrollableContentHeight:this.$props.dom.scrollableYearContentHeight;this._bottomOffset=e-this.$props.dom.viewHeight(this.$props.activeView),this._viewOffset=-1*this.$props.dom.headerHeight,this._viewHeight=this.$props.dom.viewHeight(this.$props.activeView)||1},getTake(e,t){return Math.min(t-e,this.$props.take)},handleScrollAction(){},handleTodayClick(e){this.shouldScrollValue=!0,this.handleDateChange(e,!0)},handleMouseDown(e){const t={event:e.event,value:m(e.value),target:this};this.$emit("listmousedown",t)},handleDateChange(e,t=!1){const i={event:e.event,value:m(e.value),target:this,isTodayClick:t};this.$emit("change",i)},handleWeekCellClick(e){this.$emit("weekcellclick",e)},handleWeekNameClick(e,t){const i={value:t,event:e};this.$emit("weeknameclick",i)},handleCellEnter(e){this.$emit("cellenter",e)},rotateSelectionRange(e){if(e.start===null||e.end===null)return e;const t=e.end<e.start;return{start:t?e.end:e.start,end:t?e.start:e.end}}},setup(){return{kendoIntlService:te("kendoIntlService",{})}},mounted(){this._calendarView=this.$refs.calendarView},render(){const e=this.$props.allowReverse?this.rotateSelectionRange(this.$props.selectionRange):this.$props.selectionRange,t=ie("k-calendar-view","k-hstack k-align-items-start k-justify-content-center",{"k-calendar-monthview":this.$props.activeView===k.month,"k-calendar-yearview":this.$props.activeView===k.year,"k-calendar-decadeview":this.$props.activeView===k.decade,"k-calendar-centuryview":this.$props.activeView===k.century}),i=ie("k-calendar-table"),a=function(n){return g("thead",{class:"k-calendar-thead"},[g("tr",{class:"k-calendar-tr"},[n.map((r,o)=>g("th",{class:"k-calendar-th",key:o,onClick:l=>this.handleWeekNameClick(l,r)},[r]),this)])])},s=function(){const n=this.$props.cellUID;return this.$props.dates.map(function(r){return g("table",{role:"grid","aria-label":this.$props.service.title(this.$props.focusedDate),"aria-live":"polite","aria-activedescendant":n+this.$props.focusedDate.getTime(),tabindex:this.$props.tabIndex,class:i,onKeydown:this.handleKeyDown},[this.$props.activeView===k.month&&a.call(this,this.weekNames),g(Ut,{key:r.getTime(),activeView:this.$props.activeView,viewDate:r,min:this.$props.min,max:this.$props.max,cellUID:n,isActive:this.$props.isActive,focusedDate:this.$props.focusedDate,cell:this.$props.cell,selectionRange:e,selectedDate:this.$props.value,showWeekNumbers:this.weekNumber,onChange:this.handleDateChange,onWeekcellclick:this.handleWeekCellClick,onCellenter:this.handleCellEnter,onViewmousedown:this.handleMouseDown,bus:this.$props.bus,service:this.$props.service,weekCell:this.$props.weekCell},null)])},this)};return g("div",{style:this.$attrs.style,class:t,onFocusin:this.handleFocus,onFocusout:this.handleBlur},[s.call(this)])}});const Dt=new Date(1900,0,1),Jt=new Date(2099,11,31),Xt=new Date(1980,0,1),Qt=new Date(1980,0,1,23,59,59);var h=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e))(h||{});const ei=[[]],qe=4,ti=3,ii={[h.Left]:e=>T(e,-1),[h.Up]:e=>T(e,-4),[h.Right]:e=>T(e,1),[h.Down]:e=>T(e,4),[h.PrevView]:e=>de(e,-1),[h.NextView]:e=>de(e,1),[h.FirstInView]:e=>ae(e),[h.LastInView]:e=>Ke(e)};class ai{addToDate(t,i){return de(t,i)}datesList(t,i){return E(0,i).map(a=>de(t,a))}data(t){const{cellUID:i,focusedDate:a,isActiveView:s,max:n,min:r,selectedDate:o,selectionRange:l=se,viewDate:u}=t;if(!u)return ei;const c=E(0,qe),$=ae(u),w=Ke(u),D=B();return E(0,ti).map(C=>{const y=T($,C*qe);return c.map(F=>{const p=this.normalize(T(y,F),r,n);if(!this.isInSameView(p,w))return null;const f=this.isEqual(p,l.start),v=this.isEqual(p,l.end),S=!f&&!v&&Te(p,l),M=s&&(Array.isArray(o)?this.isSelectedFromArray(p,o,r,n):I(o,r,n)&&this.isEqual(p,o));return{formattedValue:this.value(p),id:`${i}${p.getTime()}`,isFocused:this.isEqual(p,a),isSelected:M,isWeekend:!1,isInRange:I(p,r,n),isRangeStart:f,isRangeMid:S,isRangeEnd:v,isRangeSplitEnd:S&&this.isEqual(p,w),isRangeSplitStart:S&&this.isEqual(p,$),isToday:this.isEqual(p,D),title:this.cellTitle(p),value:p}})})}isSelectedFromArray(t,i,a,s){let n=!1;return i.forEach(r=>{I(t,a,s)&&this.isEqual(t,r)&&(n=!0)}),n}isEqual(t,i){return!t||!i?!1:R(t).getFullYear()===R(i).getFullYear()}isInArray(t,i){if(!i.length)return!1;const a=t.getFullYear();return i[0].getFullYear()<=a&&a<=i[i.length-1].getFullYear()+99}isInRange(t,i,a){const s=R(t).getFullYear(),n=!i||R(i).getFullYear()<=s,r=!a||s<=R(a).getFullYear();return n&&r}isInSameView(t,i){return ye(t,i)===0}isRangeStart(t){return t.getFullYear()%1e3===0}move(t,i){const a=ii[i];return a?a(t):t}cellTitle(t){return R(t).getFullYear().toString()}navigationTitle(t){return t?ae(t).getFullYear().toString():""}title(t){return t?`${ae(t).getFullYear()} - ${Ke(t).getFullYear()}`:""}rowLength(t){return qe}skip(t,i){return ye(i,t)}total(t,i){return ye(t,i)+1}value(t){return t?R(t).getFullYear().toString():""}viewDate(t,i,a=1){return ye(t,i)<a?de(t,-1):t}normalize(t,i,a){return t<i&&this.isEqual(t,i)?m(i):t>a&&this.isEqual(t,a)?m(a):t}}const si=[[]],Be=4,ni=3,ri={[h.Left]:e=>x(e,-1),[h.Up]:e=>x(e,-4),[h.Right]:e=>x(e,1),[h.Down]:e=>x(e,4),[h.PrevView]:e=>T(e,-1),[h.NextView]:e=>T(e,1),[h.FirstInView]:e=>R(e),[h.LastInView]:e=>Ze(e)};let li=class{addToDate(t,i){return T(t,i)}datesList(t,i){return E(0,i).map(a=>T(R(t),a))}data(t){const{cellUID:i,focusedDate:a,isActiveView:s,max:n,min:r,selectedDate:o,selectionRange:l=se,viewDate:u}=t;if(!u)return si;const c=E(0,Be),$=R(u),w=Ze(u),D=B();return E(0,ni).map(C=>{const y=x($,C*Be);return c.map(F=>{const p=this.normalize(x(y,F),r,n);if(!this.isInSameView(p,w))return null;const f=this.isEqual(p,l.start),v=this.isEqual(p,l.end),S=!f&&!v&&Te(p,l),M=s&&(Array.isArray(o)?this.isSelectedFromArray(p,o,r,n):I(o,r,n)&&this.isEqual(p,o));return{formattedValue:this.value(p),id:`${i}${p.getTime()}`,isFocused:this.isEqual(p,a),isSelected:M,isWeekend:!1,isInRange:I(p,r,n),isRangeStart:f,isRangeMid:S,isRangeEnd:v,isRangeSplitEnd:S&&this.isEqual(p,w),isRangeSplitStart:S&&this.isEqual(p,$),isToday:this.isEqual(p,D),title:this.cellTitle(p),value:p}})})}isSelectedFromArray(t,i,a,s){let n=!1;return i.forEach(r=>{I(t,a,s)&&this.isEqual(t,r)&&(n=!0)}),n}isEqual(t,i){return!t||!i?!1:t.getFullYear()===i.getFullYear()}isInArray(t,i){if(!i.length)return!1;const a=t.getFullYear();return i[0].getFullYear()<=a&&a<=i[i.length-1].getFullYear()+9}isInRange(t,i,a){const s=t.getFullYear(),n=!i||i.getFullYear()<=s,r=!a||s<=a.getFullYear();return n&&r}isRangeStart(t){return t.getFullYear()%100===0}isInSameView(t,i){return be(t,i)===0}move(t,i){const a=ri[i];return a?a(t):t}cellTitle(t){return t.getFullYear().toString()}navigationTitle(t){return t?R(t).getFullYear().toString():""}title(t){return t?`${R(t).getFullYear()} - ${Ze(t).getFullYear()}`:""}rowLength(t){return Be}skip(t,i){return be(i,t)}total(t,i){return be(t,i)+1}value(t){return t?t.getFullYear().toString():""}viewDate(t,i,a=1){return be(t,i)<a?T(t,-1):t}normalize(t,i,a){return t<i&&this.isEqual(t,i)?m(i):t>a&&this.isEqual(t,a)?m(a):t}};const oi=[[]],Pe=7,ui=6,hi=6,di=0,ci={[h.Left]:e=>N(e,-1),[h.Up]:e=>rt(e,-1),[h.Right]:e=>N(e,1),[h.Down]:e=>rt(e,1),[h.PrevView]:e=>_(e,-1),[h.NextView]:e=>_(e,1),[h.FirstInView]:e=>Ue(e),[h.LastInView]:e=>Z(e)};class pi{constructor(t){this.intl=t}addToDate(t,i){return _(t,i)}datesList(t,i){return E(0,i).map(a=>_(t,a))}data(t){const{cellUID:i,focusedDate:a,isActiveView:s,max:n,min:r,selectedDate:o,selectionRange:l=se,viewDate:u}=t;if(!u)return oi;const c=Ue(u),$=Z(u),w=ft(c,this.intl.firstDay(),-1),D=E(0,Pe),C=B();return E(0,ui).map(y=>{const F=N(w,y*Pe);return D.map(p=>{const f=this.normalize(N(F,p),r,n);if(f<c||f>$)return null;const v=this.isEqual(f,l.start),S=this.isEqual(f,l.end),M=!v&&!S&&Te(f,l),A=s&&(Array.isArray(o)?this.isSelectedFromArray(f,o,r,n):I(o,r,n)&&this.isEqual(f,o));return{formattedValue:this.value(f),id:`${i}${f.getTime()}`,isFocused:this.isEqual(f,a),isSelected:A,isInRange:I(f,r,n),isWeekend:this.isWeekend(f),isRangeStart:v,isRangeMid:M,isRangeEnd:S,isRangeSplitStart:M&&this.isEqual(f,c),isRangeSplitEnd:M&&this.isEqual(f,$),isToday:this.isEqual(f,C),title:this.cellTitle(f),value:f}})})}isEqual(t,i){return!t||!i?!1:b(t).getTime()===b(i).getTime()}isSelectedFromArray(t,i,a,s){let n=!1;return i.forEach(r=>{I(t,a,s)&&this.isEqual(t,r)&&(n=!0)}),n}isInArray(t,i){return!!i.length&&Ue(i[0])<=t&&t<=Z(i[i.length-1])}isInRange(t,i,a){const s=b(t),n=!i||b(i)<=s,r=!a||s<=b(a);return n&&r}isInSameView(t,i){return De(t,i)===0}isRangeStart(t){return!t.getMonth()}move(t,i){const a=ci[i];return a?a(t):t}cellTitle(t){return this.intl.formatDate(t,"D")}navigationTitle(t){return t?this.isRangeStart(t)?t.getFullYear().toString():this.abbrMonthNames()[t.getMonth()]:""}title(t){return`${this.wideMonthNames()[t.getMonth()]} ${t.getFullYear()}`}rowLength(t){return Pe+(t?1:0)}skip(t,i){return De(i,t)}total(t,i){return De(t,i)+1}value(t){return t?t.getDate().toString():""}viewDate(t,i,a=1){return De(t,i)<a?_(t,-1):t}isWeekend(t){const i=t.getDay();return i===hi||i===di}abbrMonthNames(){return this.intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,i,a){return t<i&&this.isEqual(t,i)?b(i):t>a&&this.isEqual(t,a)?b(a):t}wideMonthNames(){return this.intl.dateFormatNames({nameType:"wide",type:"months",standAlone:!0})}}const mi=[[]],je=4,gi=3,vi={[h.Left]:e=>_(e,-1),[h.Up]:e=>_(e,-4),[h.Right]:e=>_(e,1),[h.Down]:e=>_(e,4),[h.PrevView]:e=>x(e,-1),[h.NextView]:e=>x(e,1),[h.FirstInView]:e=>wt(e),[h.LastInView]:e=>kt(e)};class fi{constructor(t){this._intl=t}addToDate(t,i){return x(t,i)}datesList(t,i){return E(0,i).map(a=>x(t,a))}data(t){const{cellUID:i,focusedDate:a,isActiveView:s,max:n,min:r,selectedDate:o,selectionRange:l=se,viewDate:u}=t;if(!u)return mi;const c=this.abbrMonthNames(),$=wt(u),w=kt(u),D=$.getFullYear(),C=E(0,je),y=B();return E(0,gi).map(F=>{const p=_($,F*je);return C.map(f=>{const v=this.normalize(_(p,f),r,n);if(!v||D<v.getFullYear())return null;const S=this.isEqual(v,l.start),M=this.isEqual(v,l.end),A=!S&&!M&&Te(v,l),j=s&&(Array.isArray(o)?this.isSelectedFromArray(v,o,r,n):I(o,r,n)&&this.isEqual(v,o));return{formattedValue:c[v.getMonth()],id:`${i}${v.getTime()}`,isFocused:this.isEqual(v,a),isSelected:j,isInRange:I(v,r,n),isWeekend:!1,isRangeStart:S,isRangeMid:A,isRangeEnd:M,isRangeSplitEnd:A&&this.isEqual(v,w),isRangeSplitStart:A&&this.isEqual(v,$),isToday:this.isEqual(v,y),title:this.cellTitle(v),value:v}})})}isSelectedFromArray(t,i,a,s){let n=!1;return i.forEach(r=>{I(t,a,s)&&this.isEqual(t,r)&&(n=!0)}),n}isEqual(t,i){return!t||!i?!1:t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}isInArray(t,i){if(!i.length)return!1;const a=t.getFullYear();return i[0].getFullYear()<=a&&a<=i[i.length-1].getFullYear()}isInRange(t,i,a){const s=L(t.getFullYear(),t.getMonth(),1),n=!i||L(i.getFullYear(),i.getMonth(),1)<=s,r=!a||s<=L(a.getFullYear(),a.getMonth(),1);return n&&r}isInSameView(t,i){return Se(t,i)===0}isRangeStart(t){return t.getFullYear()%10===0}move(t,i){const a=vi[i];return a?a(t):t}cellTitle(t){return`${t.getFullYear()} ${this.value(t)}`}navigationTitle(t){return this.title(t)}title(t){return t?t.getFullYear().toString():""}rowLength(t){return je}skip(t,i){return Se(i,t)}total(t,i){return Se(t,i)+1}value(t){return t?this.abbrMonthNames()[t.getMonth()]:""}viewDate(t,i,a=1){return Se(t,i)<a?x(t,-1):t}abbrMonthNames(){return this._intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,i,a){return t<i&&this.isEqual(t,i)?ze(i):t>a&&this.isEqual(t,a)?ze(a):t}}const $i={[k.month]:pi,[k.year]:fi,[k.decade]:li,[k.century]:ai},wi=(e,t)=>{const i=k[k[e+t]];return i!==void 0?i:e};class ki{constructor(t){this.bottom=k.month,this.top=k.century,this.onViewChanged=t}configure(t,i){this.bottom=t,this.top=i}service(t,i){return new $i[`${t}`](i)}moveDown(t,i){this.move(t,-1,i)}moveUp(t,i){this.move(t,1,i)}moveToBottom(t){t!==this.bottom&&this.onViewChanged({view:this.bottom})}canMoveDown(t){return this.bottom<t}canMoveUp(t){return t<this.top}clamp(t){return t<this.bottom?this.bottom:t>this.top?this.top:t}move(t,i,a){const s=this.clamp(wi(t,i));s!==t&&this.onViewChanged({view:s},a)}}let yi=class{constructor(){this.didCalculate=!1}ensureHeights(){this.calendarHeight===void 0&&this.calculateHeights()}calculateHeights(t){if(!K)return;const i=Y("div"),a=Y("ul"),s=Y("li"),n=Y("td"),r=Y("th"),o=Y("tr"),l=Y("tbody"),u=Y("thead"),c=Y("table"),$=()=>i(`
            <span class="k-calendar-title">March 2017</span>
            <span class="k-calendar-today">TODAY</span>
        `,"k-calendar-header"),w=()=>c([u([o([r("MO")])])]),D=(d,V)=>new Array(d).fill("1").map(V),C=(d,V=1)=>c([l([o([r("1")])].concat(D(d,()=>o(D(V,J=>n(`<span class="k-link">${J}</span>`))))))]),y=d=>i(d,"k-content k-scrollable"),F=(d,V,J)=>i(J?[$(),w(),y([d,d])]:[$(),y([d,d])],V,{left:"-10000px",position:"absolute"}),p=(()=>{let d;return()=>K?(d||(d=i([y([a([s("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),d):null})(),f=({cells:d,rows:V},J,Ae)=>{let re;return()=>K?(re||(re=F(C(V,d),J,Ae)),re):null},v=d=>d.querySelector(".k-scrollable"),S=d=>{const V=v(d);return V.className=`${V.className} k-scrollable-horizontal`,d},M=f({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),A=f({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),j=f({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),ne=()=>S(M()),Ne=()=>S(A()),$e=()=>S(j()),O=d=>parseFloat(window.getComputedStyle(d).height)||d.offsetHeight,G=d=>{const V=window.getComputedStyle(d);return parseFloat(V.width)+parseFloat(V.paddingLeft)+parseFloat(V.paddingRight)||d.offsetWidth},W=d=>d.querySelector("tbody");this.didCalculate=!0,t&&(this.hostContainer=t),this.batch(M(),d=>{const V=W(d);this.calendarHeight=O(d),this.monthViewHeight=O(V),this.headerHeight=O(V.children[0]),this.scrollableContentHeight=O(v(d))}),this.batch(ne(),d=>{const V=W(d);this.calendarWidth=G(d),this.monthViewWidth=G(V),this.scrollableContentWidth=G(v(d))}),this.batch(A(),d=>{this.yearViewHeight=O(W(d)),this.scrollableYearContentHeight=O(v(d))}),this.batch(Ne(),d=>{this.yearViewWidth=G(W(d))}),this.batch(j(),d=>{this.decadeViewHeight=O(W(d)),this.centuryViewHeight=this.decadeViewHeight}),this.batch($e(),d=>{this.decadeViewWidth=G(W(d)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(p(),d=>{this.navigationItemHeight=O(d.querySelector("li"))})}viewHeight(t){return this.viewDimension(t,"height")}viewWidth(t){return this.viewDimension(t,"width")}viewDimension(t,i){const a=i==="height"?"ViewHeight":"ViewWidth";switch(t){case k.month:return this[`month${a}`];case k.year:return this[`year${a}`];case k.decade:return this[`decade${a}`];case k.century:return this[`century${a}`];default:return 1}}batch(t,i){const a=this.hostContainer||document.body,s=a.appendChild(t);i(s),a.removeChild(s)}};const bi={33:h.PrevView,34:h.NextView,35:h.LastInView,36:h.FirstInView,37:h.Left,38:h.Up,39:h.Right,40:h.Down,"meta+38":h.UpperView,"meta+40":h.LowerView,"meta+37":h.PrevView,"meta+39":h.NextView};let Di=class{constructor(t){this.bus=t}action(t){const i=`${t.ctrlKey||t.metaKey?"meta+":""}${t.keyCode}`;return bi[i]}move(t,i,a,s,n){return s?i===h.UpperView&&this.bus.canMoveUp(a)?(this.bus.moveUp(a,n),t):i===h.LowerView&&this.bus.canMoveDown(a)?(this.bus.moveDown(a,n),t):s.move(t,i):t}};function Si(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const Vi=P({name:"KendoHeaderTitle",emits:{click:e=>!0},props:{id:String,value:String,view:Number},methods:{handleClick(e){this.$emit("click",e)}},render(){const e=ge(this);return g(ee,{role:"link",type:"button",id:this.$props.id,fillMode:"flat",themeColor:"primary",onClick:this.handleClick,tabIndex:0},Si(e)?e:{default:()=>[e]})}});const Ge="calendar.prevView",Je="calendar.nextView",oe="dateinput.increment",ue="dateinput.decrement",Xe="calendar.today",he="datepicker.toggleCalendar",Fi="daterangepicker.swapStartEnd",Mi="daterangepicker.start",Ci="daterangepicker.end",_i="daterangepicker.separator",Ii="datetimepicker.toggleDateTimeSelector",Ri="timepicker.now",xi="timepicker.selectNow",Ei="timepicker.cancel",Ti="timepicker.set",Ni="timepicker.toggleTimeSelector",Ai="timepicker.toggleClock",Oi="datetimepicker.date",Li="datetimepicker.time",Yi="datetimepicker.cancel",qi="datetimepicker.set",q={[Xe]:"Today",[Ri]:"NOW",[Ti]:"Set",[Ei]:"Cancel",[Oi]:"Date",[Li]:"Time",[Yi]:"Cancel",[qi]:"Set",[Mi]:"Start",[Ci]:"End",[_i]:" ",[xi]:"Select Now",[Ni]:"Toggle TimeSelector",[Ai]:"Toggle Clock",[oe]:"Increase value",[ue]:"Decrease value",[he]:"Toggle calendar",[Ge]:"Navigate to previous view",[Je]:"Navigate to next view",[Fi]:"Swap start and end values",[Ii]:"Toggle date-time selector"};function ot(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const Bi=P({name:"KendoCalendarHeader",inheritAttrs:!1,inject:{kendoLocalizationService:{default:null}},emits:["titleclick","todayclick","nextclick","prevclick"],props:{activeView:{type:Number,required:!0},currentDate:{type:Date,required:!0},focusedDate:{type:Date,required:!0},headerTitle:{type:[String,Object,Function],default:function(){}},max:{type:Date,default:function(){return it}},min:{type:Date,default:function(){return Dt}},bus:Object,service:Object,rangeLength:{type:Number,default:1},tabIndex:{type:Number,default:0},onTodayClick:Function,onNextClick:Function,onPrevClick:Function,onTitleClick:Function},data(){return{currentRtl:!1}},mounted(){this.currentRtl=_t(this.$el)},computed:{navigate(){return this.$props.bus.canMoveUp(this.$props.activeView)},todayIsInRange(){return I(B(),b(this.$props.min),b(this.$props.max))}},methods:{getTitle(){if(!this.$props.currentDate)return"";const e=this.$props.rangeLength-1,t=this.$props.service.title(this.$props.currentDate),i=this.$props.service.addToDate(this.$props.currentDate,e);return e<1||!this.$props.service.isInRange(i,this.$props.min,this.$props.max)?t:`${t} - ${this.$props.service.title(i)}`},handleTitleClick(e){this.navigate&&(this.$props.bus.moveUp(this.$props.activeView,e),this.$emit("titleclick",e))},canNavigate(e){if(!this.$props.service)return!1;const t=this.$props.service.move(this.$props.focusedDate,e);return this.$props.min<=t&&t<=this.$props.max||this.$props.service.isInSameView(t,this.$props.min)||this.$props.service.isInSameView(t,this.$props.max)},move(e){return this.clampDate(this.$props.service.move(this.$props.focusedDate,e))},clampDate(e){return pe(e,this.$props.min,this.$props.max)},handleNextClick(e){const t={event:e,value:this.move(h.NextView),target:this};this.$emit("nextclick",t)},handlePrevClick(e){const t={event:e,value:this.move(h.PrevView),target:this};this.$emit("prevclick",t)},handleTodayClick(e){if(!this.todayIsInRange)return;this.$props.bus.moveToBottom(this.$props.activeView);const t={event:e,value:pe(B(),this.$props.min,this.$props.max),target:this};this.$emit("todayclick",t)},todayKeyDown(e){const{keyCode:t}=e;t===H.enter&&this.handleTodayClick(e)}},setup(){return{kendoLocalizationService:te("kendoLocalizationService",{})}},render(){this._localization=Ce(this);const e=this._localization.toLanguageString(Xe,q[Xe]),t=this.getTitle(),i=this._localization.toLanguageString(Ge,q[Ge]),a=this._localization.toLanguageString(Je,q[Je]),s=!this.canNavigate(h.PrevView),n=!this.canNavigate(h.NextView),r=ie("k-calendar-title",{"k-disabled":!this.navigate}),o=ie("k-calendar-nav-today",{"k-disabled":!this.todayIsInRange});let l;const u=g(Vi,{value:t,view:this.$props.activeView,class:r,onClick:this.handleTitleClick},ot(t)?t:{default:()=>[t]});l=z.call(this,{h:U,template:this.$props.headerTitle,defaultRendering:u});const c=g(ee,{type:"button",fillMode:"flat",themeColor:"base",class:o,tabIndex:this.$props.tabIndex,onKeydown:this.todayKeyDown,onClick:this.handleTodayClick},ot(e)?e:{default:()=>[e]}),$=z.call(this,{h:U,defaultRendering:c});return g("div",{class:"k-calendar-header k-hstack",style:this.$attrs.style},[l,g("span",{class:"k-spacer"},null),g("span",{class:"k-calendar-nav k-hstack"},[g(ee,{type:"button",icon:this.currentRtl?"chevron-right":"chevron-left",svgIcon:this.currentRtl?at:st,size:this.$props.size,fillMode:"flat",class:"k-calendar-nav-pre",disabled:s,"aria-label":i,title:i,onClick:this.handlePrevClick},null),$,g(ee,{type:"button",icon:this.currentRtl?"chevron-left":"chevron-right",svgIcon:this.currentRtl?st:at,size:this.$props.size,fillMode:"flat",class:"k-calendar-nav-next",disabled:n,"aria-label":a,title:a,onClick:this.handleNextClick},null)])])}});const Pi=(e,t,i,a)=>a!==void 0?a!==null&&I(a,e,t)?a:null:i!==null&&I(i,e,t)?i:null,Ve=(e,t,i)=>i instanceof Date&&!Array.isArray(i)&&I(b(i),e,t)?b(i):null,We=(e,t,i)=>Array.isArray(i)?i.filter(a=>I(a,e,t)).map(a=>b(a)):null,ut=e=>ct(e)&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)?e:se,ht=(e,t,i)=>e||t&&t[0]||i&&i.start,ji=(e,t)=>e.start===null&&t===null?"start":e.end===null?"end":"start";const Wi=P({name:"KendoCalendar",inject:{kendoIntlService:{default:null}},model:{event:"changemodel"},props:{activeRangeEnd:{type:String,default:void 0},allowReverse:{type:Boolean,default:!1},cell:[String,Function,Object],className:String,defaultActiveView:{type:String,default:"month"},modelValue:{type:[Date,Array,Object],default:void 0},defaultValue:{type:[Date,Array,Object],default:null},disabled:{type:Boolean,default:!1},focusedDate:Date,id:{type:String,default:function(){return me()}},headerTitle:[String,Function,Object],max:{type:Date,default:function(){return Jt}},min:{type:Date,default:function(){return Dt}},mode:String,navigation:{type:Boolean,default:!0},tabIndex:Number,value:[Date,Array,Object],views:{type:Number,default:1},weekNumber:Boolean,weekCell:[String,Function,Object],topView:{type:String,default:"century"},bottomView:{type:String,default:"month"},onFocus:Function,onBlur:Function,onChange:Function,onKeydown:Function},data:function(){return{valueDuringOnChange:void 0,currentFocusedDate:null,currentActiveView:null,currentValue:null,cellUID:me(),isActive:!1,oldValue:null,didNavigationChange:!1,currentActiveRangeEnd:void 0}},created:function(){Qe(tt);const e=Pi(this.currentMin,this.currentMax,this.$props.defaultValue,this.$props.value||this.$props.modelValue),t=Ve(this.currentMin,this.currentMax,e),i=We(this.currentMin,this.currentMax,e),a=ut(e),s=ht(t,i,a);this._hasMounted=!1,this.$data.currentFocusedDate=pe(this.$props.focusedDate||s||B(),this.currentMin,this.currentMax),this.$data.currentValue=e,this.$data.currentActiveView=lt(k[this.$props.defaultActiveView],k[this.$props.bottomView],k[this.$props.topView]),this.$data.currentActiveRangeEnd=ji(a,t),this._dates=[],this._calculateFocusFromValue=!1,this._lastView=this.$props.activeView||this.$data.currentActiveView,this._lastViewsCount=this.$props.views,this._dom=new yi,this._bus=new ki(this.handleViewChange),this._navigation=new Di(this._bus),this._oldValue=e},watch:{value:function(e){this.$data.currentFocusedDate=e},focusedDate:function(e){this.$data.currentFocusedDate=e}},setup(){return{kendoIntlService:te("kendoIntlService",{})}},mounted(){this.calendarViewList=this.calendarViewListRef,this._calculateFocusFromValue=!0},updated(){const e=Ve(this.currentMin,this.currentMax,this.computedValue());this._calculateFocusFromValue=!!(this._selectedDate&&e&&this._selectedDate.getTime()&&e.getTime()),this._lastView=this.$props.activeView||this.$data.currentActiveView,this._lastViewsCount=this.$props.views,this._oldValue=this.computedValue(),this.calendarViewList||(this.calendarViewList=this.calendarViewListRef)},computed:{activeRange(){return this.$props.activeRangeEnd!==void 0?this.$props.activeRangeEnd:this.$data.currentActiveRangeEnd},currentMin(){return b(this.$props.min)},currentMax(){return b(this.$props.max)}},methods:{element(){return this.$el},computedValue(){return this.$data.valueDuringOnChange!==void 0?this.$data.valueDuringOnChange:this.$props.value!==void 0?this.$props.value:this.$props.modelValue!==void 0?this.$props.modelValue:this.$data.currentValue},focus(){this.calendarViewList&&this.calendarViewList.$el.firstElementChild.focus()},handleBlur(){this.$data.isActive=!1},handleFocus(){this.$data.isActive=!0},emitBlur(e){this.$emit("blur",e)},emitFocus(e){this.$emit("focus",e)},handleTodayClick(e){if(this.$props.disabled)return;this.$data.didNavigationChange=!0;const t=m(e.value);this.$data.currentFocusedDate=t,this.$data.currentValue=t,this.triggerChange(t,e)},handleViewChange({view:e}){this.$data.currentActiveView=e},handlePrevClick(e){const t=m(e.value);this.focus(),!this.$props.disabled&&(this.$data.currentFocusedDate=t)},handleTitleClick(){this.focus()},handleNextClick(e){const t=m(e.value);this.focus(),!this.$props.disabled&&(this.$data.currentFocusedDate=t)},handleCellEnter(e){this.$props.mode==="range"&&(this.$data.currentFocusedDate=e)},generateRange(e,t){let{end:i,start:a}=t;const s=t.start!==null&&e.getTime()<=t.start.getTime();return!this.$props.allowReverse&&s?{start:e,end:this._selectedRange.start}:this.activeRange!=="end"?{start:e,end:i}:{start:a||this._selectedDate,end:e}},clampRange(e){return{start:e,end:null}},handleWeekCellClick(e){this.$emit("weekcellclick",e)},handleWeekNameClick(e){this.$emit("weeknameclick",e)},handleDateChange(e){const t=m(e.value),i=this._bus.canMoveDown(this.$data.currentActiveView);if(this.$props.disabled)return;if(i)if(e.isTodayClick)this._bus.moveToBottom(this.$data.currentActiveView);else{this._bus.moveDown(this.$data.currentActiveView,e.event),this.$data.currentFocusedDate=t;return}let a,s;switch(this.$props.mode){case"single":a=m(e.value);break;case"multiple":if(Array.isArray(this._selectedMultiple)){let n=this._selectedMultiple.slice(),r=-1;n.forEach((o,l)=>{le(o,e.value)&&(r=l)}),r!==-1?n.splice(r,1):n.push(m(e.value)),a=n.slice()}else this._selectedDate?a=[m(this._selectedDate),m(e.value)]:a=[m(e.value)];break;case"range":s=this._selectedRange.start!==null&&this._selectedRange.end!==null&&this.activeRange==="start",a=s?this.clampRange(e.value):this.generateRange(e.value,this._selectedRange),this.$data.currentActiveRangeEnd=this.activeRange!=="end"?"end":"start";break;default:a=m(e.value);break}this.$data.currentValue=a,this.triggerChange(a,e)},triggerChange(e,t){this.$data.valueDuringOnChange=e;const i={event:t.event,value:e,component:this,target:{name:this.$props.name,value:e,valueAsDate:e}};this.$emit("changemodel",e),this.$emit("update:modelValue",e),this.$emit("change",i),this.$data.valueDuringOnChange=void 0},handleMouseDown(e){const t=m(e.value);this.$props.disabled||this.$data.currentActiveView!==0||(this.$data.currentFocusedDate=t)},tableKeyDown(e){const{keyCode:t}=e;if(this.$emit("keydown",e),t===H.enter){const i={event:e,value:this._focusedDate,component:this,target:{name:this.$props.name,value:this._focusedDate,valueAsDate:this._focusedDate}};this.handleDateChange(i)}else{const i=pe(this._navigation.move(this._focusedDate,this._navigation.action(e),this.$data.currentActiveView,this._service,e),this.currentMin,this.currentMax);if(le(this._focusedDate,i))return;this._calculateFocusFromValue=!1,this.$data.currentFocusedDate=i}e.preventDefault()},isValueEqual(e,t){return e instanceof Date&&t instanceof Date?le(e,t):e instanceof Object&&t instanceof Object?!!(e&&t&&le(e.start,t.start)&&le(e.end,t.end)):e instanceof Array&&t instanceof Array?!!(e&&t&&e.length===t.length):!1},rangeWithFocused(e,t){return{start:e.start,end:e.end===null&&e.start!==null&&this.$data.isActive?t.end:e.end}}},render(){const e=this.$props.views,t=this.computedValue(),i=this.$data.currentFocusedDate,a=t!==null&&this._oldValue!==null?!this.isValueEqual(t,this._oldValue):t!==this._oldValue;this._selectedDate=Ve(this.currentMin,this.currentMax,t),this._selectedMultiple=We(this.currentMin,this.currentMax,t);const s=X.call(this,this.$props.cell,Q.call(this)),n=X.call(this,this.$props.weekCell,Q.call(this)),r=X.call(this,this.$props.headerTitle,Q.call(this)),o=lt(this.$data.currentActiveView,k[this.$props.bottomView],k[this.$props.topView]);this._selectedDate=Ve(this.currentMin,this.currentMax,t),this._selectedMultiple=We(this.currentMin,this.currentMax,t),this._selectedRange=ut(t);const l=ht(this._selectedDate,this._selectedMultiple,this._selectedRange),u=pe(a&&l!==null?l:i,this.currentMin,this.currentMax);u instanceof Date?this._focusedDate=b(u):l&&(this._focusedDate=l);const c=this.rangeWithFocused(this._selectedRange,i);this._intl=xe(this),this._bus.configure(k[this.$props.bottomView],k[this.$props.topView]),this._service=this._bus.service(o,this._intl);const $=ie("k-calendar","k-calendar-md",{"k-calendar-range":e>1,"k-disabled":this.$props.disabled,"k-week-number":this.$props.weekNumber},this.$props.className),w=this._lastView!==this.$data.currentActiveView,D=this._dates&&this._service.isInArray(this._focusedDate,this._dates),C=this._lastViewsCount!==this.$props.views;(!D||w||C)&&(this._dates=this._service.datesList(this._focusedDate,e));const y=m(this._dates&&this._dates[0]?this._dates[0]:void 0),F=[this.$props.navigation&&g(Bi,{tabIndex:this.$props.disabled?void 0:this.$props.tabIndex||0,activeView:this.$data.currentActiveView,currentDate:y,focusedDate:this._focusedDate,min:this.currentMin,max:this.currentMax,rangeLength:this.$props.views,onTodayclick:this.handleTodayClick,onNextclick:this.handleNextClick,onPrevclick:this.handlePrevClick,onTitleclick:this.handleTitleClick,bus:this._bus,service:this._service,headerTitle:r},null),g(Gt,{allowReverse:this.$props.allowReverse,isActive:this.$data.isActive,tabIndex:this.$props.tabIndex||0,ref:p=>{this.calendarViewListRef=p},activeView:this.$data.currentActiveView,focusedDate:this._focusedDate,min:this.currentMin,max:this.currentMax,bus:this._bus,dates:this._dates,shouldScroll:this.$data.didNavigationChange,service:this._service,cell:s,weekCell:n,dom:this._dom,views:this.$props.views,selectionRange:c,showWeekNumbers:this.$props.weekNumber,onChange:this.handleDateChange,onWeekcellclick:this.handleWeekCellClick,onWeeknameclick:this.handleWeekNameClick,onListmousedown:this.handleMouseDown,onCellenter:this.handleCellEnter,onListkeydown:this.tableKeyDown,onListfocus:this.handleFocus,onListblur:this.handleBlur,value:this._selectedMultiple||this._selectedDate,cellUID:this.$data.cellUID},null)];return g("div",{"aria-disabled":this.$props.disabled===!0?!0:void 0,class:$,id:this.$props.id,onFocusout:this.emitBlur,onFocusin:this.emitFocus},[F])}});class Hi{constructor(){this.symbols=""}}const zi="d",Ui="wide",Ki=(e,t,i,a)=>{const s=e[a+e.length-i.length],n=e.substring(0,a+e.length-i.length),r=i.substring(0,a),o=[];if(n===r&&a>0)return o.push([t[a-1],r[a-1]]),o;if(n.indexOf(r)===0&&(r.length===0||t[r.length-1]!==t[r.length])){let l="";r.length===1&&o.push([t[0],r[0]]);for(let u=r.length;u<n.length;u++)t[u]!==l&&t[u]!=="_"&&(l=t[u],o.push([l,""]));return o}if(r.indexOf(n)===0||t[a-1]==="_"){let l=t[0];for(let u=Math.max(0,n.length-1);u<t.length;u++)if(t[u]!=="_"){l=t[u];break}return[[l,r[a-1]]]}return r[r.length-1]===" "||r[r.length-1]===s?[[t[a-1],"_"]]:[[t[a-1],r[a-1]]]},Zi=(e,t)=>(e[t.pattern[0]]=t.type,e),Gi=(e,t,i)=>e===null||!(t&&t>e||i&&i<e);class Ji{constructor(t,i,a){this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this._value=b(new Date),this.intlProvider=t,this.formatPlaceholder=i,this.format=a,this.monthNames=this.allFormatedMonths()}get intl(){return this.intlProvider()}get value(){return this._value}setValue(t){t?et(t,this._value)||(this._value=m(t),this.modifyExisting(!0)):(this._value=b(new Date),this.modifyExisting(!1))}hasValue(){const t=(i,a)=>i||a.type!=="literal"&&a.type!=="dayperiod"&&this.getExisting(a.pattern[0]);return this.intl.splitDateFormat(this.format).reduce(t,!1)}getDateObject(){for(let t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return m(this.value)}getTextAndFormat(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}modifyExisting(t){const i=this.dateFormatString(this.value,this.format).symbols;for(let a=0;a<i.length;a++)this.setExisting(i[a],t)}getExisting(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(t,i){switch(t){case"y":this.year=i,i===!1&&this._value.setFullYear(2e3);break;case"M":this.month=i,i===!1&&this._value.setMonth(0);break;case"d":this.date=i;break;case"h":case"H":this.hours=i;break;case"m":this.minutes=i;break;case"s":this.seconds=i;break;default:return}}modifyPart(t,i){let a=m(this.value);switch(t){case"y":a.setFullYear(a.getFullYear()+i);break;case"M":a=_(this.value,i);break;case"d":case"E":a.setDate(a.getDate()+i);break;case"h":case"H":a.setHours(a.getHours()+i);break;case"m":a.setMinutes(a.getMinutes()+i);break;case"s":a.setSeconds(a.getSeconds()+i);break;case"a":a.setHours(a.getHours()+12*i);break}this.setExisting(t,!0),this._value=a}parsePart(t,i){if(this.resetLeadingZero(),!i)return this.setExisting(t,!1),{value:null};const a=this.intl.formatDate(this.value,this.format),s=this.dateFormatString(this.value,this.format),n=s.symbols;let r=!1,o="",l="",u="";for(let w=0;w<a.length;w++)n[w]===t?(l+=this.getExisting(t)?a[w]:"0",r=!0):r?u+=a[w]:o+=a[w];let c=null;const $=this.matchMonth(i);for(;l.length>0&&l.charAt(0)==="0";)l=l.slice(1);l.length>=4&&(l="");for(let w=0;w<2;w++){let D=l+i,C=parseInt(D,10);if(c=this.intl.parseDate(o+D+u,this.format),!c&&!isNaN(C)&&!isNaN(parseInt(i,10))){if(t==="M"&&!$){const y=C-1;y>-1&&y<12&&(c=m(this.value),c.setMonth(y),c.getMonth()!==y&&(c=Z(_(c,-1))))}t==="y"&&(c=L(parseInt(D,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&c.getDate()!==this.value.getDate()&&(c=Z(_(c,-1))))}if(c)return this._value=c,this.setExisting(t,!0),{value:this.value};l=""}return $&&(c=this.intl.parseDate(o+$+u,this.format),c)?(this._value=c,this.setExisting(t,!0),{value:this.value}):(i==="0"&&(this.leadingZero=this.isAbbrMonth(s.partMap,t)?null:{[t]:!0},this.setExisting(t,!1)),{value:null})}symbolMap(t){return this.intl.splitDateFormat(this.format).reduce(Zi,{})[t]}resetLeadingZero(){const t=this.leadingZero!==null;return this.leadingZero=null,t}isAbbrMonth(t,i){const a=this.partPattern(t,i);return a.type==="month"&&a.names}partPattern(t,i){return t.filter(a=>a.pattern.indexOf(i)!==-1)[0]}matchMonth(t){if(this.typedMonthPart+=t.toLowerCase(),this.monthNames.length===0)return"";for(;this.typedMonthPart.length>0;){for(let a=0;a<this.monthNames.length;a++)if(this.monthNames[a].toLowerCase().indexOf(this.typedMonthPart)===0)return this.monthNames[a];const i=parseInt(this.typedMonthPart,10);if(i>=1&&i<=12&&i.toString()===this.typedMonthPart)return this.monthNames[i-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}allFormatedMonths(){const t=this.intl.splitDateFormat(this.format);for(let i=0;i<t.length;i++)if(t[i].type==="month"&&t[i].names)return this.intl.dateFormatNames(t[i].names);return[]}dateFormatString(t,i){const a=this.intl.splitDateFormat(i),s=[],n=[];for(let o=0;o<a.length;o++){let l=this.intl.formatDate(t,{pattern:a[o].pattern}).length;for(;l>0;)s.push(this.symbols[a[o].pattern[0]]||"_"),n.push(a[o]),l--}const r=new Hi;return r.symbols=s.join(""),r.partMap=n,r}merge(t,i){var a;let s="",n="",r=i.symbols;for(let o=r.length-1;o>=0;){if(this.knownParts.indexOf(r[o])===-1||this.getExisting(r[o]))s=t[o]+s,n=r[o]+n;else{const l=r[o];for(;o>=0&&l===r[o];)o--;for(o++,(a=this.leadingZero)!=null&&a[l]?s="0"+s:s=this.dateFieldName(i.partMap[o])+s;n.length<s.length;)n=r[o]+n}o--}return{text:s,format:n}}dateFieldName(t){const i=this.formatPlaceholder||"wide";return i[t.type]?i[t.type]:i==="formatPattern"?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:i}))}}const Xi=(e,t,i)=>({candidateValue:ce(Ye,e),maxValue:N(ce(Ye,i),t.getHours()<i.getHours()?0:1),minValue:ce(Ye,t)}),Qi=(e,t,i)=>{if(!e||!t||!i)return!0;const{candidateValue:a,minValue:s,maxValue:n}=Xi(e,t,i);return s<=a&&a<=n};function ea(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const ta="Please enter a valid value!",ia=P({name:"DateInput",model:{event:"changemodel"},inject:{kendoIntlService:{default:null},kendoLocalizationService:{default:null}},emits:{change:e=>!0,changemodel:e=>!0,"update:modelValue":e=>!0,focus:e=>!0,blur:e=>!0},props:{modelValue:Date,value:Date,defaultValue:Date,format:{type:[String,Object],default:function(){return zi}},formatPlaceholder:{type:[String,Object],default:function(){return Ui}},rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},tabIndex:Number,title:String,steps:Object,placeholder:String,max:{type:Date,default:function(){return m(it)}},min:{type:Date,default:function(){return m(yt)}},maxTime:{type:Date,default:function(){return m(Qt)}},minTime:{type:Date,default:function(){return m(Xt)}},disabled:{type:Boolean,default:!1},spinners:{type:Boolean,default:!1},name:String,dir:String,label:String,id:String,validationMessage:{type:String,default:ta},required:{type:Boolean,default:!1},validityStyles:{type:Boolean,default:!0},validate:Boolean,valid:{type:Boolean,default:void 0},ariaRole:{type:String,default:"textbox"},ariaControls:String,ariaLabel:String,ariaExpanded:{type:Boolean,default:void 0},ariaHasPopup:{type:String,default:void 0},inputAttributes:Object},data(){return{kendoDate:null,currentFormat:void 0,valueDuringOnChange:void 0,hasMounted:!1,isEmpty:void 0,lastSelectedSymbol:void 0,isFocused:!1}},created(){Qe(tt);const{formatPlaceholder:e,format:t,value:i,defaultValue:a}=this.$props;this.kendoDate=new Ji(this.intl,e,t),this.kendoDate.setValue(null),this._emptyText=this.kendoDate.getTextAndFormat().text,this.kendoDate.setValue(i||a||null),this._element=null,this._inputId=me()},computed:{computedValue(){return this.$data.valueDuringOnChange!==void 0?this.$data.valueDuringOnChange:this.kendoDate&&this.kendoDate.getDateObject()},wrapperClassNames(){const e=!this.$data.hasMounted||!this.$props.validityStyles||this.validity().valid,t=this.$props.disabled,{size:i,fillMode:a,rounded:s}=this.$props;return{"k-dateinput":!0,"k-input":!0,[`k-input-${_e.sizeMap[i]||i}`]:i,[`k-input-${a}`]:a,[`k-rounded-${_e.roundedMap[s]||s}`]:s,"k-disabled":t,"k-invalid":!e&&e!==void 0,"k-focus":this.isFocused,"k-rtl":this.$props.dir==="rtl"}}},methods:{selection(){let e={start:0,end:0};const t=this.element();return t!==null&&t.selectionStart!==void 0&&(e={start:t.selectionStart,end:t.selectionEnd}),e},element(){return this._element},focus(e){this._element&&this._element.focus(e)},handleFocus(e){this.$data.isFocused=!0,this.$emit("focus",{event:e})},handleBlur(e){this.$data.isFocused=!1,this.$emit("blur",{event:e})},intl(){return xe(this)},setValidity(){const e=this.element();e&&e.setCustomValidity&&e.setCustomValidity(this.validity().valid?"":this.$props.validationMessage)},spinnersMouseDown(e){const t=this.element();e.preventDefault(),t&&K&&document.activeElement!==t&&t.focus({preventScroll:!0})},elementChange(e){const t=this.element();if(!t||!this.kendoDate)return;const{text:i,format:a}=this.kendoDate.getTextAndFormat();this.$data.currentFormat=a;const s=this.computedValue,n=Ki(i,this.$data.currentFormat,t.value,this.selection().start),r=n.length===1&&n[0][1]==="_";if(!r)for(let o=0;o<n.length;o++)this.kendoDate.parsePart(n[o][0],n[o][1]);n.length&&n[0][0]!=="_"&&this.setSelection(this.selectionBySymbol(n[0][0])),r&&this.switchDateSegment(1),this.triggerChange(e,s)},elementClick(e){this.setSelection(this.selectionByIndex(this.selection().start))},wheel(e){const t=this.element();K&&document.activeElement!==t||(e.deltaY<0&&(e.preventDefault(),this.increasePart(e)),e.deltaY>0&&(e.preventDefault(),this.decreasePart(e)))},increasePart(e){e.preventDefault(),this.modifyDateSegmentValue(1,e)},decreasePart(e){e.preventDefault(),this.modifyDateSegmentValue(-1,e)},elementKeyDown(e){if(!e.altKey){switch(e.keyCode){case 37:this.switchDateSegment(-1);break;case 38:this.modifyDateSegmentValue(1,e);break;case 39:this.switchDateSegment(1);break;case 40:this.modifyDateSegmentValue(-1,e);break;default:return}e.preventDefault()}},setSelection(e){const t=this.element();this.$data.lastSelectedSymbol=this.$data.currentFormat[e.start],K&&window.requestAnimationFrame(()=>{t&&K&&document.activeElement===t&&t.setSelectionRange(e.start,e.end)})},triggerChange(e,t){this.$data.valueDuringOnChange=this.computedValue,et(t,this.computedValue)||(this.$emit("changemodel",this.computedValue),this.$emit("update:modelValue",this.computedValue),this.$emit("change",{event:e,value:this.computedValue,component:this,target:{name:this.$props.name,value:this.$data.valueDuringOnChange,valueAsDate:this.$data.valueDuringOnChange},validity:this.validity()})),this.$data.valueDuringOnChange=void 0},selectionBySymbol(e){let t=-1,i=0;for(let a=0;a<this.$data.currentFormat.length;a++)this.$data.currentFormat[a]===e&&(i=a+1,t===-1&&(t=a));return t<0&&(t=0),{start:t,end:i}},selectionByIndex(e){let t={start:e,end:e};for(let i=e,a=e-1;i<this.$data.currentFormat.length||a>=0;i++,a--){if(i<this.$data.currentFormat.length&&this.$data.currentFormat[i]!=="_"){t=this.selectionBySymbol(this.$data.currentFormat[i]);break}if(a>=0&&this.$data.currentFormat[a]!=="_"){t=this.selectionBySymbol(this.$data.currentFormat[a]);break}}return t},switchDateSegment(e){const{start:t,end:i}=this.selection();if(t<i&&this.$data.currentFormat[t]!==this.$data.currentFormat[i-1]){this.setSelection(this.selectionByIndex(e>0?t:i-1));return}const a=this.$data.currentFormat[t];let s=t+e;for(;s>0&&s<this.$data.currentFormat.length&&!(this.$data.currentFormat[s]!==a&&this.$data.currentFormat[s]!=="_");)s+=e;if(this.$data.currentFormat[s]==="_")return;let n=s;for(;n>=0&&n<this.$data.currentFormat.length&&this.$data.currentFormat[n]===this.$data.currentFormat[s];)n+=e;s>n&&(n+1!==t||s+1!==i)?this.setSelection({start:n+1,end:s+1}):s<n&&(s!==t||n!==i)&&this.setSelection({start:s,end:n})},modifyDateSegmentValue(e,t){if(!this.kendoDate)return;const i=this.computedValue,a=this.$data.currentFormat[this.selection().start],s=this.kendoDate.symbolMap(a),n=((this.$props.steps||{})[s]||1)*e;this.kendoDate.modifyPart(a,n),this.setSelection(this.selectionBySymbol(a)),this.triggerChange(t,i)},validity(){const e=Gi(this.computedValue,this.$props.min,this.$props.max)&&Qi(this.computedValue,this.$props.minTime,this.$props.maxTime),t=this.$props.validationMessage!==void 0,i=(!this.$props.required||this.computedValue!==null)&&e,a=this.$props.valid!==void 0?this.$props.valid:i;return{customError:t,rangeOverflow:this.computedValue&&this.$props.max.getTime()<this.computedValue.getTime()||!1,rangeUnderflow:this.computedValue&&this.computedValue.getTime()<this.$props.min.getTime()||!1,valid:a,valueMissing:this.computedValue===null}}},mounted(){this._element=Me(this,"input"),this.setValidity(),this.$data.hasMounted=!0},updated(){this.$data.lastSelectedSymbol&&this.setSelection(this.selectionBySymbol(this.$data.lastSelectedSymbol)),this.setValidity()},setup(){const e=He(null),t=te("kendoIntlService",{}),i=te("kendoLocalizationService",{});return{inputRef:e,kendoIntlService:t,kendoLocalizationService:i}},render(){const e=ge(this),t=Ce(this),{formatPlaceholder:i,format:a,value:s,modelValue:n,name:r,label:o,id:l,ariaLabel:u,ariaExpanded:c,ariaHasPopup:$,ariaRole:w,ariaControls:D,inputAttributes:C}=this.$props,y=s!==void 0?s:n;this.kendoDate.format=a,this.kendoDate.formatPlaceholder=i,this.valueDuringOnChange=this.valueDuringOnChange?this.valueDuringOnChange:void 0,y!==void 0&&this.computedValue!==y&&this.kendoDate.setValue(y);const{text:F,format:p}=this.kendoDate.getTextAndFormat();this.$data.currentFormat=p,this.$data.isEmpty=F===this._emptyText;const f=this.$props.placeholder!==void 0&&this.$data.isEmpty&&!this.$data.isFocused?null:F,v=l||this._inputId,S=!this.$props.validityStyles||this.validity().valid,M=g("span",{class:this.wrapperClassNames,dir:this.$props.dir},[g("input",It({role:w,tabindex:this.$props.tabIndex,disabled:this.$props.disabled,title:this.$props.title!==void 0?this.$props.title:F,type:"text",spellcheck:!1,autocomplete:"off",autocorrect:"off",class:"k-input-inner",id:v,placeholder:this.$props.placeholder,onWheel:this.wheel,onClick:this.elementClick,onInput:this.elementChange,onKeydown:this.elementKeyDown,onChange:Rt,onFocusin:this.handleFocus,onFocusout:this.handleBlur,value:f,name:r,"aria-label":u,"aria-expanded":c,"aria-haspopup":$,"aria-controls":D,"aria-disabled":this.$props.disabled,ref:Fe(this,"input")},C),null),e,this.$props.spinners&&g("span",{class:"k-input-spinner k-spin-button",onMousedown:this.spinnersMouseDown},[g(ee,{type:"button",tabIndex:-1,icon:"caret-alt-up",svgIcon:xt,size:this.$props.size,fillMode:this.$props.fillMode,class:"k-spinner-increase","aria-label":t.toLanguageString(oe,q[oe]),title:t.toLanguageString(oe,q[oe]),onClick:this.increasePart},null),g(ee,{type:"button",tabIndex:-1,class:"k-spinner-decrease",icon:"caret-alt-down",svgIcon:Et,size:this.$props.size,fillMode:this.$props.fillMode,"aria-label":t.toLanguageString(ue,q[ue]),title:t.toLanguageString(ue,q[ue]),onClick:this.decreasePart},null)])]);return o?g(pt,{label:o,editorId:v,editorValue:f,editorPlaceholder:this.$props.placeholder,editorValid:S,editorDisabled:this.$props.disabled},ea(M)?M:{default:()=>[M]}):M}});const aa=ee;function dt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ve(e)}const ha=P({name:"DatePicker",inject:{kendoLocalizationService:{default:null}},model:{event:"changemodel"},emits:{change:e=>!0,changemodel:e=>!0,"update:modelValue":e=>!0,iconclick:e=>!0,focus:e=>!0,blur:e=>!0,keydown:e=>!0,open:e=>!0,close:e=>!0},props:{defaultShow:{type:Boolean,default:!1},modelValue:{type:Date,default:void 0},defaultValue:{type:Date,default:void 0},disabled:{type:Boolean,default:!1},dateInput:{type:[String,Object,Function],default:function(){}},calendar:{type:[String,Object,Function],default:function(){}},toggleButton:{type:[String,Object,Function],default:function(){}},label:String,placeholder:String,popup:{type:[String,Object,Function],default:function(){}},rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},focusedDate:Date,format:{type:[Object,String],default:function(){return"d"}},formatPlaceholder:[Object,String],id:String,max:{type:Date,default:function(){return m(it)}},min:{type:Date,default:function(){return m(yt)}},name:String,popupSettings:{type:Object,default:function(){return{}}},show:{type:Boolean,default:void 0},tabIndex:{type:Number,default:0},title:{type:String,default:function(){return""}},value:Date,weekNumber:Boolean,width:[Number,String],validityStyles:{type:Boolean,default:!0},validationMessage:String,required:Boolean,validate:Boolean,valid:{type:Boolean,default:void 0},ariaLabel:String,inputAttributes:Object},data:function(){return{isFocused:!1,currentValue:void 0,currentShow:void 0,valueDuringOnChange:void 0,showDuringOnChange:void 0,shouldFocusDateInput:!1}},created(){Qe(tt),this._popupId=me(),this._anchor=me(),this._dateInput=null,this._calendar=null,this.$data.currentValue=this.$props.defaultValue,this.$data.currentShow=this.$props.defaultShow},mounted(){this._dateInput=Me(this,"dateInput"),(this.$refs.calendar||this.calendarRef)&&(this._calendar=Me(this,"calendar")),this.computedShow&&this.$forceUpdate()},updated(){(this.$refs.calendar||this.calendarRef)&&(this._calendar=Me(this,"calendar")),this.computedShow?this._calendar&&this._calendar.$el&&!this._oldShow&&this._calendar.focus({preventScroll:!0}):this._dateInput&&this._dateInput.$el&&this.$data.shouldFocusDateInput&&this._dateInput.focus({preventScroll:!0}),this.$data.shouldFocusDateInput=!1},watch:{show:function(e,t){this._oldShow=t},currentShow:function(e,t){this._oldShow=t}},computed:{computedValue(){const e=this.$data.valueDuringOnChange!==void 0?this.$data.valueDuringOnChange:this.$props.value!==void 0?this.$props.value:this.$props.modelValue!==void 0?this.$props.modelValue:this.$data.currentValue;return e!==null?m(e):null},computedShow(){return this.$data.showDuringOnChange!==void 0?this.$data.showDuringOnChange:this.$props.show!==void 0?this.$props.show:this.$data.currentShow}},methods:{focus(){this._dateInput&&this._dateInput.focus()},handleFocus(e){this._oldShow=this.computedShow,this.$data.isFocused=!0,this.$emit("focus",{event:e})},handleBlur(e){this.$data.isFocused=!1,this.createBlurTimeout(),this.$emit("blur",{event:e})},calendarBlur(e){this.$emit("blur",{event:e}),clearTimeout(this._blurTimeout),this.createBlurTimeout()},calendarFocus(e){this.$emit("focus",{event:e}),clearTimeout(this._blurTimeout)},createBlurTimeout(){this._blurTimeout=setTimeout(()=>{this._dateInput&&K&&document.activeElement!==this._dateInput._element&&this.setShow(!1)},200)},validity(){const e=this.computedValue,t=Wt(e,this.$props.min,this.$props.max),i=this.$props.validationMessage!==void 0,a=(!this.$props.required||e!==null)&&t,s=this.$props.valid!==void 0?this.$props.valid:a;return{customError:i,rangeOverflow:e&&this.$props.max.getTime()<e.getTime()||!1,rangeUnderflow:e&&e.getTime()<this.$props.min.getTime()||!1,valid:s,valueMissing:e===null}},nextValue(e,t){return e.value!==void 0?e.value:t.value},nextShow(e,t){return e.show!==void 0?e.show:t.show},setShow(e){this.computedShow!==e&&(this.$data.currentShow=e,this.$emit(e?"open":"close",{component:this}))},mergeTime(e){return this.computedValue&&e?ce(e,this.computedValue):e},handleInputValueChange(e){this.handleValueChange(e.value,e)},handleCalendarValueChange(e){const t=this.mergeTime(e.value);this.handleValueChange(t,e)},getDateInputText(){return this.computedValue?!0:this._dateInput?this._dateInput._element.value:""},handleValueChange(e,t){this.$data.currentValue=m(e||void 0),this.$data.valueDuringOnChange=e,this.$data.showDuringOnChange=!1,this.$data.shouldFocusDateInput=!0,this.$emit("changemodel",this.computedValue),this.$emit("update:modelValue",this.computedValue),this.$emit("change",{event:t.event,value:this.computedValue,show:this.computedShow,component:this,target:{name:this.$props.name,value:this.computedValue,valueAsDate:this.computedValue},validity:this.validity()}),this.$data.valueDuringOnChange=void 0,this.$data.showDuringOnChange=void 0,this.setShow(!1)},handleIconClick(e){e.stopPropagation(),e.preventDefault(),!this.$props.disabled&&(this.$data.shouldFocusDateInput=!0,this.$emit("iconclick",e),this.setShow(!this.computedShow))},handleIconMouseDown(e){e.stopPropagation(),e.preventDefault()},handleKeyDown(e){const{altKey:t,keyCode:i}=e;if(i===H.tab&&this._dateInput&&e.target!==this._dateInput._element){e.preventDefault(),this.$data.shouldFocusDateInput=!0,this.setShow(!1);return}if(i===H.esc){this.$data.shouldFocusDateInput=!0,this.setShow(!1);return}t&&(i===H.up||i===H.down)&&(e.preventDefault(),e.stopPropagation(),this.$data.shouldFocusDateInput=i===H.up,this.setShow(i===H.down)),this.$emit("keydown",e)}},setup(){const e=He(null),t=He(null),i=te("kendoLocalizationService",{});return{listRef:e,kendoAnchorRef:t,kendoLocalizationService:i}},render(){ge(this);const{disabled:e,tabIndex:t,title:i,id:a,format:s,formatPlaceholder:n,min:r,max:o,weekNumber:l,focusedDate:u,width:c,name:$,validationMessage:w,required:D,validityStyles:C,size:y,fillMode:F,rounded:p,ariaLabel:f,inputAttributes:v}=this.$props,{popupClass:S,animate:M,appendTo:A}=this.$props.popupSettings,j=this.computedShow,ne=this.computedValue,Ne=ne&&b(ne),$e=!this.$props.validityStyles||this.validity().valid,O=ie("k-calendar-container k-group k-reset",S),G=this.$props.toggleButton?X.call(this,this.$props.toggleButton,Q.call(this)):void 0,W=g(aa,{type:"button",tabIndex:-1,icon:"calendar",svgIcon:nt,onMousedown:this.handleIconMouseDown,onClick:this.handleIconClick,title:Ce(this).toLanguageString(he,q[he]),"aria-label":Ce(this).toLanguageString(he,q[he]),rounded:null,class:"k-input-button"},null),d=z.call(this,{h:U,template:G,defaultRendering:W,defaultSlots:g(Tt,{name:"calendar",icon:nt},null),additionalListeners:{click:this.handleIconClick}}),V=this.$props.dateInput?X.call(this,this.$props.dateInput,Q.call(this)):void 0,J=g(ia,{ref:Fe(this,"dateInput"),placeholder:this.$props.placeholder,disabled:e,format:s,formatPlaceholder:n,id:a,max:o,min:r,name:$,size:null,rounded:null,fillMode:null,onChange:this.handleInputValueChange,required:D,tabIndex:j?-1:t,title:i,valid:this.validity().valid,validationMessage:w,validityStyles:C,value:ne,ariaHasPopup:"grid",ariaExpanded:j,ariaRole:"combobox",ariaControls:this._popupId,ariaLabel:f,inputAttributes:v},null),Ae=z.call(this,{h:U,template:V,defaultRendering:J}),re=this.$props.calendar?X.call(this,this.$props.calendar,Q.call(this)):void 0,St=g(Wi,{ref:Fe(this,"calendar"),onKeydown:this.handleKeyDown,onFocus:this.calendarFocus,onBlur:this.calendarBlur,disabled:e,value:Ne,min:r,max:o,weekNumber:l,focusedDate:u,onChange:this.handleCalendarValueChange},null),we=z.call(this,{h:U,template:re,defaultRendering:St}),Vt=this.$props.popup?X.call(this,this.$props.popup,Q.call(this)):void 0,Ft=g(Nt,{show:j,anchor:this._anchor,class:O,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"},animate:M,appendTo:A},dt(we)?we:{default:()=>[we]}),Mt=z.call(this,{h:U,template:Vt,defaultRendering:Ft,defaultSlots:we}),ke=g("span",{ref:Fe(this,"kendoAnchor"),role:"group",class:ie("k-input","k-datepicker",{[`k-input-${_e.sizeMap[y]||y}`]:y,[`k-input-${F}`]:F,[`k-rounded-${_e.roundedMap[p]||p}`]:p,"k-invalid":!$e,"k-required":this.required,"k-disabled":this.$props.disabled,"k-focus":this.$data.isFocused}),onKeydown:this.handleKeyDown,onFocusin:this.handleFocus,onFocusout:this.handleBlur},[Ae,d,Mt]);return this.$props.label?g(pt,{label:this.$props.label,editorId:a,editorValid:$e,editorValue:this.getDateInputText(),editorPlaceholder:this.$props.placeholder,editorDisabled:this.$props.disabled,style:{width:c}},dt(ke)?ke:{default:()=>[ke]}):ke}});export{ia as D,ha as j,na as l,mt as r,Wi as u};
